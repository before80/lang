+++
title = "SSL/TLS"
date = 2025-03-10T12:52:11+08:00
weight = 1
type = "docs"
description = ""
isCJKLanguage = true
draft = false

+++

## 是什么？

​	**SSL/TLS（安全套接字层/传输层安全）** 是一种`加密协议`，确保互联网上的通信安全。它保护数据免受窃听、篡改和伪造，确保通信的保密性、完整性和认证。SSL 是由 Netscape 开发的早期协议，而 TLS 是其标准化后的继任者，由 IETF 开发。由于 SSL 有已知漏洞，现代系统更倾向于使用 TLS。

## 有什么用？

​	SSL/TLS 的主要用途是保护互联网通信，具体包括：

- **防止窃听**：确保只有预定接收方能读取数据。
- **防止篡改**：确保传输中的数据未被更改。
- **防止冒充**：验证通信双方的身份，通常是服务器向客户端认证。

它为 web 浏览、电子邮件和 VPN 等应用提供安全通道。

## 用在哪？位于哪一层？

SSL/TLS 用于：

- Web 浏览器（如 HTTPS 网站）
- 电子邮件客户端（如安全 IMAP/POP3）
- VPN 和其他需要安全通信的网络服务

​	在 `OSI 模型`中，研究表明它位于`传输层`，通常在 TCP 协议之上，为上层应用提供安全服务。

## 怎么用？

对于普通用户：

- 访问以 “https://” 开头的网站即可使用 SSL/TLS，浏览器会自动启动安全连接。

对于开发者和管理员：

- **获取证书**：从可信证书颁发机构（CA）获取 SSL/TLS 证书，如 Let's Encrypt 或 DigiCert。
- **配置服务器**：使用工具如 OpenSSL 生成私钥和 CSR，安装证书，并配置服务器（如 Apache 或 NGINX）支持 HTTPS。
- **客户端验证**：确保客户端软件（如浏览器）信任 CA，验证服务器证书。

​	根据 [Setting Up SSL/TLS on Your Server - DigitalOcean](https://www.digitalocean.com/community/tutorials/how-to-create-a-ssl-certificate-on-apache-for-ubuntu-14-04) 的内容，配置过程包括生成密钥、创建 CSR 和安装证书。

​	

## 握手过程

​	SSL/TLS 握手是客户端和服务器建立安全连接的步骤，具体如下：

1. **客户端问候**：客户端发送“客户端问候”消息，包括支持的 TLS 版本、加密套件列表和随机数。
2. **服务器问候**：服务器回复“服务器问候”，选择双方支持的最高 TLS 版本和加密套件，并发送自己的随机数。
3. **证书**：服务器发送其 TLS 证书，包含公钥和身份信息。
4. **服务器密钥交换（可选）**：若证书信息不足，服务器可能发送额外信息。
5. **证书请求（可选）**：若需客户端认证，服务器请求客户端证书。
6. **服务器问候完成**：服务器表示消息发送完毕。
7. **客户端密钥交换**：客户端生成预主密钥，用服务器公钥加密后发送。
8. **更改加密规格**：双方发送消息，表明后续通信将使用新密钥加密。
9. **完成**：双方发送“完成”消息，验证握手成功。

​	握手完成后，可安全交换数据。

## 推荐网页

### Transport Layer Security (TLS)

推荐原因：有图，但只到TLS 1.2版本。

网址：[https://hpbn.co/transport-layer-security-tls/](https://hpbn.co/transport-layer-security-tls/)



## 与 HTTPS 的关系

​	HTTPS 是 HTTP 结合 SSL/TLS 的安全版本。它使用 SSL/TLS 加密客户端和服务器之间的通信，确保网页内容和用户数据免受窃听和篡改，是安全 web 交易（如在线银行和购物）的核心。

## SSL 到 TLS 的演进

- **SSL 1.0**：从未公开发布，因为存在严重的安全漏洞。
- **SSL 2.0**：由网景公司在1995年发布，但很快发现有多个安全问题。
- **SSL 3.0**：于1996年推出，是对SSL 2.0的重大改进，修复了许多安全缺陷。
- **TLS 1.0**：作为SSL 3.0的继承者，在1999年由`IETF`发布。尽管它在技术上是`SSL 3.1`的一个修订版，但由于品牌原因被重新命名为`TLS`。
- **TLS 1.1, 1.2 和 1.3**：分别在2006年、2008年和2018年发布，每次更新都带来了性能提升和新的安全特性。

​	TLS采用了更高效的加密算法，并且对原有SSL中的某些机制进行了优化，如握手过程更加简洁快速，警报消息经过加密处理等。



示例

握手过程图解

