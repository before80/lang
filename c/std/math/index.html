<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/lang/favicons/favicon.ico><link rel=apple-touch-icon href=/lang/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/lang/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/lang/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/lang/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/lang/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/lang/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/lang/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/lang/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/lang/favicons/android-192x192.png sizes=192x192><title>&lt;math.h> | 编程语言</title><meta name=description content="常用数学函数"><meta property="og:title" content="<math.h>"><meta property="og:description" content="常用数学函数"><meta property="og:type" content="article"><meta property="og:url" content="https://before80.github.io/lang/c/std/math/"><meta property="article:section" content="c"><meta property="article:published_time" content="2025-04-24T18:07:42+08:00"><meta property="article:modified_time" content="2025-04-24T19:36:51+08:00"><meta itemprop=name content="<math.h>"><meta itemprop=description content="常用数学函数"><meta itemprop=datePublished content="2025-04-24T18:07:42+08:00"><meta itemprop=dateModified content="2025-04-24T19:36:51+08:00"><meta itemprop=wordCount content="201950"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="<math.h>"><meta name=twitter:description content="常用数学函数"><link rel=preload href=/lang/scss/main.min.2412d9ce8d59c0bc460230f66fb6de2f724f349b5e83810ed8155cc1ecc54c1e.css as=style><link href=/lang/scss/main.min.2412d9ce8d59c0bc460230f66fb6de2f724f349b5e83810ed8155cc1ecc54c1e.css rel=stylesheet integrity><link href=/lang/css/extra.css rel=stylesheet><link href=/lang/css/tocbot.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3.6.0 integrity="sha512-AyDFDkYyALC5qoao077IqAOV7UC4oKCBTp+mJfjIt306AIRoBxoEZYDo0kAx/R7RbT+3EYEky1po/F1w1eQt7g==" crossorigin=anonymous></head><body class=td-page><header><nav class="td-navbar navbar-dark js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/lang/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>编程语言</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=javascript:; id=show-timer style=color:#fe4512f5!important></a></li><li class=nav-item><a class=nav-link href=/lang/base/><span>Base</span></a></li><li class=nav-item><a class=nav-link href=/lang/tasks/><span>任务</span></a></li><li class=nav-item><a class="nav-link active" href=/lang/c/><span>C</span></a></li><li class=nav-item><a class=nav-link href=/lang/docs/><span>文档</span></a></li><li class=nav-item><a class=nav-link href=/lang/js/><span>JS</span></a></li><li class=nav-item><a class=nav-link href=/lang/go/><span>Go</span></a></li><li class="td-light-dark-menu nav-item dropdown"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg><button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true><svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search--algolia id=docsearch-1></div></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search--algolia id=docsearch-0></div></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-langc-li><a href=/lang/c/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-langc><span>C</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcvariadic-li><input type=checkbox id=m-langcvariadic-check>
<label for=m-langcvariadic-check><a href=/lang/c/variadic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcvariadic><span>可变参数函数</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdcomplex-li><input type=checkbox id=m-langcstdcomplex-check>
<label for=m-langcstdcomplex-check><a href=/lang/c/std/complex/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdcomplex><span>&lt;complex.h> (C99)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguage-li><input type=checkbox id=m-langclanguage-check>
<label for=m-langclanguage-check><a href=/lang/c/language/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguage><span>语言</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguagebasic_concepts-li><input type=checkbox id=m-langclanguagebasic_concepts-check>
<label for=m-langclanguagebasic_concepts-check><a href=/lang/c/language/basic_concepts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguagebasic_concepts><span>基本概念</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptscomment-li><input type=checkbox id=m-langclanguagebasic_conceptscomment-check>
<label for=m-langclanguagebasic_conceptscomment-check><a href=/lang/c/language/basic_concepts/comment/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptscomment><span>注释</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptsascii-li><input type=checkbox id=m-langclanguagebasic_conceptsascii-check>
<label for=m-langclanguagebasic_conceptsascii-check><a href=/lang/c/language/basic_concepts/ascii/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptsascii><span>ASCII 码表</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptscharset-li><input type=checkbox id=m-langclanguagebasic_conceptscharset-check>
<label for=m-langclanguagebasic_conceptscharset-check><a href=/lang/c/language/basic_concepts/charset/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptscharset><span>字符集与编码</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptspunctuators-li><input type=checkbox id=m-langclanguagebasic_conceptspunctuators-check>
<label for=m-langclanguagebasic_conceptspunctuators-check><a href=/lang/c/language/basic_concepts/punctuators/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptspunctuators><span>标点</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptsidentifier-li><input type=checkbox id=m-langclanguagebasic_conceptsidentifier-check>
<label for=m-langclanguagebasic_conceptsidentifier-check><a href=/lang/c/language/basic_concepts/identifier/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptsidentifier><span>标识符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptsscope-li><input type=checkbox id=m-langclanguagebasic_conceptsscope-check>
<label for=m-langclanguagebasic_conceptsscope-check><a href=/lang/c/language/basic_concepts/scope/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptsscope><span>作用域</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptslifetime-li><input type=checkbox id=m-langclanguagebasic_conceptslifetime-check>
<label for=m-langclanguagebasic_conceptslifetime-check><a href=/lang/c/language/basic_concepts/lifetime/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptslifetime><span>生存期</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptsname_space-li><input type=checkbox id=m-langclanguagebasic_conceptsname_space-check>
<label for=m-langclanguagebasic_conceptsname_space-check><a href=/lang/c/language/basic_concepts/name_space/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptsname_space><span>查找与命名空间</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptstype-li><input type=checkbox id=m-langclanguagebasic_conceptstype-check>
<label for=m-langclanguagebasic_conceptstype-check><a href=/lang/c/language/basic_concepts/type/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptstype><span>类型</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptsarithmetic_types-li><input type=checkbox id=m-langclanguagebasic_conceptsarithmetic_types-check>
<label for=m-langclanguagebasic_conceptsarithmetic_types-check><a href=/lang/c/language/basic_concepts/arithmetic_types/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptsarithmetic_types><span>算术类型</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptsobject-li><input type=checkbox id=m-langclanguagebasic_conceptsobject-check>
<label for=m-langclanguagebasic_conceptsobject-check><a href=/lang/c/language/basic_concepts/object/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptsobject><span>对象与对齐</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptsmain_function-li><input type=checkbox id=m-langclanguagebasic_conceptsmain_function-check>
<label for=m-langclanguagebasic_conceptsmain_function-check><a href=/lang/c/language/basic_concepts/main_function/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptsmain_function><span>main 函数</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptsas_if-li><input type=checkbox id=m-langclanguagebasic_conceptsas_if-check>
<label for=m-langclanguagebasic_conceptsas_if-check><a href=/lang/c/language/basic_concepts/as_if/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptsas_if><span>如同规则</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptsbehavior-li><input type=checkbox id=m-langclanguagebasic_conceptsbehavior-check>
<label for=m-langclanguagebasic_conceptsbehavior-check><a href=/lang/c/language/basic_concepts/behavior/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptsbehavior><span>未定义行为</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagebasic_conceptsmemory_model-li><input type=checkbox id=m-langclanguagebasic_conceptsmemory_model-check>
<label for=m-langclanguagebasic_conceptsmemory_model-check><a href=/lang/c/language/basic_concepts/memory_model/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagebasic_conceptsmemory_model><span>内存模型</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguagekeyword-li><input type=checkbox id=m-langclanguagekeyword-check>
<label for=m-langclanguagekeyword-check><a href=/lang/c/language/keyword/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguagekeyword><span>C 关键词</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordenum-li><input type=checkbox id=m-langclanguagekeywordenum-check>
<label for=m-langclanguagekeywordenum-check><a href=/lang/c/language/keyword/enum/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordenum><span>enum</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordalignas-li><input type=checkbox id=m-langclanguagekeywordalignas-check>
<label for=m-langclanguagekeywordalignas-check><a href=/lang/c/language/keyword/alignas/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordalignas><span>alignas</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordalignof-li><input type=checkbox id=m-langclanguagekeywordalignof-check>
<label for=m-langclanguagekeywordalignof-check><a href=/lang/c/language/keyword/alignof/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordalignof><span>alignof</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordauto-li><input type=checkbox id=m-langclanguagekeywordauto-check>
<label for=m-langclanguagekeywordauto-check><a href=/lang/c/language/keyword/auto/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordauto><span>auto</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordbool-li><input type=checkbox id=m-langclanguagekeywordbool-check>
<label for=m-langclanguagekeywordbool-check><a href=/lang/c/language/keyword/bool/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordbool><span>bool</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordbreak-li><input type=checkbox id=m-langclanguagekeywordbreak-check>
<label for=m-langclanguagekeywordbreak-check><a href=/lang/c/language/keyword/break/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordbreak><span>break</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordcase-li><input type=checkbox id=m-langclanguagekeywordcase-check>
<label for=m-langclanguagekeywordcase-check><a href=/lang/c/language/keyword/case/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordcase><span>case</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordchar-li><input type=checkbox id=m-langclanguagekeywordchar-check>
<label for=m-langclanguagekeywordchar-check><a href=/lang/c/language/keyword/char/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordchar><span>char</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordconst-li><input type=checkbox id=m-langclanguagekeywordconst-check>
<label for=m-langclanguagekeywordconst-check><a href=/lang/c/language/keyword/const/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordconst><span>const</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordconstexpr-li><input type=checkbox id=m-langclanguagekeywordconstexpr-check>
<label for=m-langclanguagekeywordconstexpr-check><a href=/lang/c/language/keyword/constexpr/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordconstexpr><span>constexpr</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordcontinue-li><input type=checkbox id=m-langclanguagekeywordcontinue-check>
<label for=m-langclanguagekeywordcontinue-check><a href=/lang/c/language/keyword/continue/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordcontinue><span>continue</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyworddefault-li><input type=checkbox id=m-langclanguagekeyworddefault-check>
<label for=m-langclanguagekeyworddefault-check><a href=/lang/c/language/keyword/default/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyworddefault><span>default</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyworddo-li><input type=checkbox id=m-langclanguagekeyworddo-check>
<label for=m-langclanguagekeyworddo-check><a href=/lang/c/language/keyword/do/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyworddo><span>do</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyworddouble-li><input type=checkbox id=m-langclanguagekeyworddouble-check>
<label for=m-langclanguagekeyworddouble-check><a href=/lang/c/language/keyword/double/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyworddouble><span>double</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordelse-li><input type=checkbox id=m-langclanguagekeywordelse-check>
<label for=m-langclanguagekeywordelse-check><a href=/lang/c/language/keyword/else/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordelse><span>else</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordasm-li><input type=checkbox id=m-langclanguagekeywordasm-check>
<label for=m-langclanguagekeywordasm-check><a href=/lang/c/language/keyword/asm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordasm><span>内联汇编</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordextern-li><input type=checkbox id=m-langclanguagekeywordextern-check>
<label for=m-langclanguagekeywordextern-check><a href=/lang/c/language/keyword/extern/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordextern><span>extern</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordfalse-li><input type=checkbox id=m-langclanguagekeywordfalse-check>
<label for=m-langclanguagekeywordfalse-check><a href=/lang/c/language/keyword/false/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordfalse><span>false</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordfloat-li><input type=checkbox id=m-langclanguagekeywordfloat-check>
<label for=m-langclanguagekeywordfloat-check><a href=/lang/c/language/keyword/float/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordfloat><span>float</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordfor-li><input type=checkbox id=m-langclanguagekeywordfor-check>
<label for=m-langclanguagekeywordfor-check><a href=/lang/c/language/keyword/for/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordfor><span>for</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordgoto-li><input type=checkbox id=m-langclanguagekeywordgoto-check>
<label for=m-langclanguagekeywordgoto-check><a href=/lang/c/language/keyword/goto/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordgoto><span>goto</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordif-li><input type=checkbox id=m-langclanguagekeywordif-check>
<label for=m-langclanguagekeywordif-check><a href=/lang/c/language/keyword/if/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordif><span>if</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordinline-li><input type=checkbox id=m-langclanguagekeywordinline-check>
<label for=m-langclanguagekeywordinline-check><a href=/lang/c/language/keyword/inline/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordinline><span>inline</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordint-li><input type=checkbox id=m-langclanguagekeywordint-check>
<label for=m-langclanguagekeywordint-check><a href=/lang/c/language/keyword/int/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordint><span>int</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordlong-li><input type=checkbox id=m-langclanguagekeywordlong-check>
<label for=m-langclanguagekeywordlong-check><a href=/lang/c/language/keyword/long/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordlong><span>long</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordnullptr-li><input type=checkbox id=m-langclanguagekeywordnullptr-check>
<label for=m-langclanguagekeywordnullptr-check><a href=/lang/c/language/keyword/nullptr/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordnullptr><span>nullptr</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordregister-li><input type=checkbox id=m-langclanguagekeywordregister-check>
<label for=m-langclanguagekeywordregister-check><a href=/lang/c/language/keyword/register/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordregister><span>register</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordrestrict-li><input type=checkbox id=m-langclanguagekeywordrestrict-check>
<label for=m-langclanguagekeywordrestrict-check><a href=/lang/c/language/keyword/restrict/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordrestrict><span>restrict</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordreturn-li><input type=checkbox id=m-langclanguagekeywordreturn-check>
<label for=m-langclanguagekeywordreturn-check><a href=/lang/c/language/keyword/return/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordreturn><span>return</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordshort-li><input type=checkbox id=m-langclanguagekeywordshort-check>
<label for=m-langclanguagekeywordshort-check><a href=/lang/c/language/keyword/short/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordshort><span>short</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordsigned-li><input type=checkbox id=m-langclanguagekeywordsigned-check>
<label for=m-langclanguagekeywordsigned-check><a href=/lang/c/language/keyword/signed/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordsigned><span>signed</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordfortran-li><input type=checkbox id=m-langclanguagekeywordfortran-check>
<label for=m-langclanguagekeywordfortran-check><a href=/lang/c/language/keyword/fortran/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordfortran><span>fortran</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordsizeof-li><input type=checkbox id=m-langclanguagekeywordsizeof-check>
<label for=m-langclanguagekeywordsizeof-check><a href=/lang/c/language/keyword/sizeof/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordsizeof><span>sizeof</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordstatic-li><input type=checkbox id=m-langclanguagekeywordstatic-check>
<label for=m-langclanguagekeywordstatic-check><a href=/lang/c/language/keyword/static/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordstatic><span>static</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordstatic_assert-li><input type=checkbox id=m-langclanguagekeywordstatic_assert-check>
<label for=m-langclanguagekeywordstatic_assert-check><a href=/lang/c/language/keyword/static_assert/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordstatic_assert><span>static_assert</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordstruct-li><input type=checkbox id=m-langclanguagekeywordstruct-check>
<label for=m-langclanguagekeywordstruct-check><a href=/lang/c/language/keyword/struct/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordstruct><span>struct</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordswitch-li><input type=checkbox id=m-langclanguagekeywordswitch-check>
<label for=m-langclanguagekeywordswitch-check><a href=/lang/c/language/keyword/switch/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordswitch><span>switch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordthread_local-li><input type=checkbox id=m-langclanguagekeywordthread_local-check>
<label for=m-langclanguagekeywordthread_local-check><a href=/lang/c/language/keyword/thread_local/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordthread_local><span>thread_local</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordtrue-li><input type=checkbox id=m-langclanguagekeywordtrue-check>
<label for=m-langclanguagekeywordtrue-check><a href=/lang/c/language/keyword/true/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordtrue><span>true</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordtypedef-li><input type=checkbox id=m-langclanguagekeywordtypedef-check>
<label for=m-langclanguagekeywordtypedef-check><a href=/lang/c/language/keyword/typedef/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordtypedef><span>typedef</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordtypeof-li><input type=checkbox id=m-langclanguagekeywordtypeof-check>
<label for=m-langclanguagekeywordtypeof-check><a href=/lang/c/language/keyword/typeof/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordtypeof><span>typeof</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordtypeof_unqual-li><input type=checkbox id=m-langclanguagekeywordtypeof_unqual-check>
<label for=m-langclanguagekeywordtypeof_unqual-check><a href=/lang/c/language/keyword/typeof_unqual/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordtypeof_unqual><span>typeof_unqual</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordunion-li><input type=checkbox id=m-langclanguagekeywordunion-check>
<label for=m-langclanguagekeywordunion-check><a href=/lang/c/language/keyword/union/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordunion><span>union</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordunsigned-li><input type=checkbox id=m-langclanguagekeywordunsigned-check>
<label for=m-langclanguagekeywordunsigned-check><a href=/lang/c/language/keyword/unsigned/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordunsigned><span>unsigned</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordvoid-li><input type=checkbox id=m-langclanguagekeywordvoid-check>
<label for=m-langclanguagekeywordvoid-check><a href=/lang/c/language/keyword/void/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordvoid><span>void</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordvolatile-li><input type=checkbox id=m-langclanguagekeywordvolatile-check>
<label for=m-langclanguagekeywordvolatile-check><a href=/lang/c/language/keyword/volatile/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordvolatile><span>volatile</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeywordwhile-li><input type=checkbox id=m-langclanguagekeywordwhile-check>
<label for=m-langclanguagekeywordwhile-check><a href=/lang/c/language/keyword/while/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeywordwhile><span>while</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_alignas-li><input type=checkbox id=m-langclanguagekeyword_alignas-check>
<label for=m-langclanguagekeyword_alignas-check><a href=/lang/c/language/keyword/_Alignas/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_alignas><span>_Alignas</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_alignof-li><input type=checkbox id=m-langclanguagekeyword_alignof-check>
<label for=m-langclanguagekeyword_alignof-check><a href=/lang/c/language/keyword/_Alignof/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_alignof><span>_Alignof</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_bigint-li><input type=checkbox id=m-langclanguagekeyword_bigint-check>
<label for=m-langclanguagekeyword_bigint-check><a href=/lang/c/language/keyword/_BigInt/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_bigint><span>_BigInt</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_atomic-li><input type=checkbox id=m-langclanguagekeyword_atomic-check>
<label for=m-langclanguagekeyword_atomic-check><a href=/lang/c/language/keyword/_Atomic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_atomic><span>_Atomic</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_bool-li><input type=checkbox id=m-langclanguagekeyword_bool-check>
<label for=m-langclanguagekeyword_bool-check><a href=/lang/c/language/keyword/_Bool/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_bool><span>_Bool</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_complex-li><input type=checkbox id=m-langclanguagekeyword_complex-check>
<label for=m-langclanguagekeyword_complex-check><a href=/lang/c/language/keyword/_Complex/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_complex><span>_Complex</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_decimal128-li><input type=checkbox id=m-langclanguagekeyword_decimal128-check>
<label for=m-langclanguagekeyword_decimal128-check><a href=/lang/c/language/keyword/_Decimal128/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_decimal128><span>_Decimal128</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_decimal32-li><input type=checkbox id=m-langclanguagekeyword_decimal32-check>
<label for=m-langclanguagekeyword_decimal32-check><a href=/lang/c/language/keyword/_Decimal32/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_decimal32><span>_Decimal32</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_decimal64-li><input type=checkbox id=m-langclanguagekeyword_decimal64-check>
<label for=m-langclanguagekeyword_decimal64-check><a href=/lang/c/language/keyword/_Decimal64/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_decimal64><span>_Decimal64</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_generic-li><input type=checkbox id=m-langclanguagekeyword_generic-check>
<label for=m-langclanguagekeyword_generic-check><a href=/lang/c/language/keyword/_Generic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_generic><span>_Generic</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_imaginary-li><input type=checkbox id=m-langclanguagekeyword_imaginary-check>
<label for=m-langclanguagekeyword_imaginary-check><a href=/lang/c/language/keyword/_Imaginary/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_imaginary><span>_Imaginary</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_noreturn-li><input type=checkbox id=m-langclanguagekeyword_noreturn-check>
<label for=m-langclanguagekeyword_noreturn-check><a href=/lang/c/language/keyword/_Noreturn/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_noreturn><span>_Noreturn</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_static_assert-li><input type=checkbox id=m-langclanguagekeyword_static_assert-check>
<label for=m-langclanguagekeyword_static_assert-check><a href=/lang/c/language/keyword/_Static_assert/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_static_assert><span>_Static_assert</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagekeyword_thread_local-li><input type=checkbox id=m-langclanguagekeyword_thread_local-check>
<label for=m-langclanguagekeyword_thread_local-check><a href=/lang/c/language/keyword/_Thread_local/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagekeyword_thread_local><span>_Thread_local</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguagepreprocessor-li><input type=checkbox id=m-langclanguagepreprocessor-check>
<label for=m-langclanguagepreprocessor-check><a href=/lang/c/language/preprocessor/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguagepreprocessor><span>预处理器</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagepreprocessorconditional-li><input type=checkbox id=m-langclanguagepreprocessorconditional-check>
<label for=m-langclanguagepreprocessorconditional-check><a href=/lang/c/language/preprocessor/conditional/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagepreprocessorconditional><span>条件包含</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagepreprocessorreplace-li><input type=checkbox id=m-langclanguagepreprocessorreplace-check>
<label for=m-langclanguagepreprocessorreplace-check><a href=/lang/c/language/preprocessor/replace/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagepreprocessorreplace><span>替换文本宏</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagepreprocessorinclude-li><input type=checkbox id=m-langclanguagepreprocessorinclude-check>
<label for=m-langclanguagepreprocessorinclude-check><a href=/lang/c/language/preprocessor/include/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagepreprocessorinclude><span>源文件包含</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagepreprocessorerror-li><input type=checkbox id=m-langclanguagepreprocessorerror-check>
<label for=m-langclanguagepreprocessorerror-check><a href=/lang/c/language/preprocessor/error/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagepreprocessorerror><span>诊断指令</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagepreprocessorimpl-li><input type=checkbox id=m-langclanguagepreprocessorimpl-check>
<label for=m-langclanguagepreprocessorimpl-check><a href=/lang/c/language/preprocessor/impl/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagepreprocessorimpl><span>实现定义的行为控制</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagepreprocessorline-li><input type=checkbox id=m-langclanguagepreprocessorline-check>
<label for=m-langclanguagepreprocessorline-check><a href=/lang/c/language/preprocessor/line/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagepreprocessorline><span>文件名和行信息</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagepreprocessorembed-li><input type=checkbox id=m-langclanguagepreprocessorembed-check>
<label for=m-langclanguagepreprocessorembed-check><a href=/lang/c/language/preprocessor/embed/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagepreprocessorembed><span>二进制资源包含</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguagestatements-li><input type=checkbox id=m-langclanguagestatements-check>
<label for=m-langclanguagestatements-check><a href=/lang/c/language/statements/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguagestatements><span>语句</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagestatementsif-li><input type=checkbox id=m-langclanguagestatementsif-check>
<label for=m-langclanguagestatementsif-check><a href=/lang/c/language/statements/if/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagestatementsif><span>if 语句</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagestatementsswitch-li><input type=checkbox id=m-langclanguagestatementsswitch-check>
<label for=m-langclanguagestatementsswitch-check><a href=/lang/c/language/statements/switch/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagestatementsswitch><span>switch 语句</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagestatementswhile-li><input type=checkbox id=m-langclanguagestatementswhile-check>
<label for=m-langclanguagestatementswhile-check><a href=/lang/c/language/statements/while/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagestatementswhile><span>while 循环</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagestatementsdo-li><input type=checkbox id=m-langclanguagestatementsdo-check>
<label for=m-langclanguagestatementsdo-check><a href=/lang/c/language/statements/do/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagestatementsdo><span>do-while 循环</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagestatementsfor-li><input type=checkbox id=m-langclanguagestatementsfor-check>
<label for=m-langclanguagestatementsfor-check><a href=/lang/c/language/statements/for/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagestatementsfor><span>for 循环</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagestatementsbreak-li><input type=checkbox id=m-langclanguagestatementsbreak-check>
<label for=m-langclanguagestatementsbreak-check><a href=/lang/c/language/statements/break/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagestatementsbreak><span>break 语句</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagestatementscontinue-li><input type=checkbox id=m-langclanguagestatementscontinue-check>
<label for=m-langclanguagestatementscontinue-check><a href=/lang/c/language/statements/continue/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagestatementscontinue><span>continue 语句</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagestatementsreturn-li><input type=checkbox id=m-langclanguagestatementsreturn-check>
<label for=m-langclanguagestatementsreturn-check><a href=/lang/c/language/statements/return/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagestatementsreturn><span>return 语句</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagestatementsgoto-li><input type=checkbox id=m-langclanguagestatementsgoto-check>
<label for=m-langclanguagestatementsgoto-check><a href=/lang/c/language/statements/goto/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagestatementsgoto><span>goto 语句</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguageexpressions-li><input type=checkbox id=m-langclanguageexpressions-check>
<label for=m-langclanguageexpressions-check><a href=/lang/c/language/expressions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguageexpressions><span>表达式</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsvalue_category-li><input type=checkbox id=m-langclanguageexpressionsvalue_category-check>
<label for=m-langclanguageexpressionsvalue_category-check><a href=/lang/c/language/expressions/value_category/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsvalue_category><span>值类别</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionseval_order-li><input type=checkbox id=m-langclanguageexpressionseval_order-check>
<label for=m-langclanguageexpressionseval_order-check><a href=/lang/c/language/expressions/eval_order/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionseval_order><span>求值顺序</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsconstant_expression-li><input type=checkbox id=m-langclanguageexpressionsconstant_expression-check>
<label for=m-langclanguageexpressionsconstant_expression-check><a href=/lang/c/language/expressions/constant_expression/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsconstant_expression><span>常量表达式</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsconversion-li><input type=checkbox id=m-langclanguageexpressionsconversion-check>
<label for=m-langclanguageexpressionsconversion-check><a href=/lang/c/language/expressions/conversion/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsconversion><span>隐式转换</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsgeneric-li><input type=checkbox id=m-langclanguageexpressionsgeneric-check>
<label for=m-langclanguageexpressionsgeneric-check><a href=/lang/c/language/expressions/generic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsgeneric><span>泛型选择 (C11 起)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsinteger_constant-li><input type=checkbox id=m-langclanguageexpressionsinteger_constant-check>
<label for=m-langclanguageexpressionsinteger_constant-check><a href=/lang/c/language/expressions/integer_constant/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsinteger_constant><span>整数常量</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsfloating_constant-li><input type=checkbox id=m-langclanguageexpressionsfloating_constant-check>
<label for=m-langclanguageexpressionsfloating_constant-check><a href=/lang/c/language/expressions/floating_constant/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsfloating_constant><span>浮点数常量</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionscharacter_constant-li><input type=checkbox id=m-langclanguageexpressionscharacter_constant-check>
<label for=m-langclanguageexpressionscharacter_constant-check><a href=/lang/c/language/expressions/character_constant/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionscharacter_constant><span>字符常量</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsbool_constant-li><input type=checkbox id=m-langclanguageexpressionsbool_constant-check>
<label for=m-langclanguageexpressionsbool_constant-check><a href=/lang/c/language/expressions/bool_constant/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsbool_constant><span>预定义布尔常量</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsnullptr-li><input type=checkbox id=m-langclanguageexpressionsnullptr-check>
<label for=m-langclanguageexpressionsnullptr-check><a href=/lang/c/language/expressions/nullptr/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsnullptr><span>预定义空指针常量</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsstring_literal-li><input type=checkbox id=m-langclanguageexpressionsstring_literal-check>
<label for=m-langclanguageexpressionsstring_literal-check><a href=/lang/c/language/expressions/string_literal/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsstring_literal><span>字符串字面量</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionscompound_literal-li><input type=checkbox id=m-langclanguageexpressionscompound_literal-check>
<label for=m-langclanguageexpressionscompound_literal-check><a href=/lang/c/language/expressions/compound_literal/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionscompound_literal><span>复合字面量 (C99 起)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsoperator_precedence-li><input type=checkbox id=m-langclanguageexpressionsoperator_precedence-check>
<label for=m-langclanguageexpressionsoperator_precedence-check><a href=/lang/c/language/expressions/operator_precedence/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsoperator_precedence><span>C 运算符优先级</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsoperator_member_access-li><input type=checkbox id=m-langclanguageexpressionsoperator_member_access-check>
<label for=m-langclanguageexpressionsoperator_member_access-check><a href=/lang/c/language/expressions/operator_member_access/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsoperator_member_access><span>成员访问运算符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsoperator_logical-li><input type=checkbox id=m-langclanguageexpressionsoperator_logical-check>
<label for=m-langclanguageexpressionsoperator_logical-check><a href=/lang/c/language/expressions/operator_logical/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsoperator_logical><span>逻辑运算符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsoperator_comparison-li><input type=checkbox id=m-langclanguageexpressionsoperator_comparison-check>
<label for=m-langclanguageexpressionsoperator_comparison-check><a href=/lang/c/language/expressions/operator_comparison/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsoperator_comparison><span>比较运算符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsoperator_arithmetic-li><input type=checkbox id=m-langclanguageexpressionsoperator_arithmetic-check>
<label for=m-langclanguageexpressionsoperator_arithmetic-check><a href=/lang/c/language/expressions/operator_arithmetic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsoperator_arithmetic><span>算术运算符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsoperator_assignment-li><input type=checkbox id=m-langclanguageexpressionsoperator_assignment-check>
<label for=m-langclanguageexpressionsoperator_assignment-check><a href=/lang/c/language/expressions/operator_assignment/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsoperator_assignment><span>赋值运算符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsoperator_incdec-li><input type=checkbox id=m-langclanguageexpressionsoperator_incdec-check>
<label for=m-langclanguageexpressionsoperator_incdec-check><a href=/lang/c/language/expressions/operator_incdec/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsoperator_incdec><span>自增/自减运算符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionsoperator_other-li><input type=checkbox id=m-langclanguageexpressionsoperator_other-check>
<label for=m-langclanguageexpressionsoperator_other-check><a href=/lang/c/language/expressions/operator_other/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionsoperator_other><span>其他运算符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionssizeof-li><input type=checkbox id=m-langclanguageexpressionssizeof-check>
<label for=m-langclanguageexpressionssizeof-check><a href=/lang/c/language/expressions/sizeof/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionssizeof><span>sizeof 运算符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressions_alignof-li><input type=checkbox id=m-langclanguageexpressions_alignof-check>
<label for=m-langclanguageexpressions_alignof-check><a href=/lang/c/language/expressions/_Alignof/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressions_alignof><span>_Alignof (C11 起)(C23 弃用), alignof (C23 起) 运算符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageexpressionscast-li><input type=checkbox id=m-langclanguageexpressionscast-check>
<label for=m-langclanguageexpressionscast-check><a href=/lang/c/language/expressions/cast/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageexpressionscast><span>转换运算符</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguageinitialization-li><input type=checkbox id=m-langclanguageinitialization-check>
<label for=m-langclanguageinitialization-check><a href=/lang/c/language/initialization/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguageinitialization><span>初始化</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageinitializationscalar_initialization-li><input type=checkbox id=m-langclanguageinitializationscalar_initialization-check>
<label for=m-langclanguageinitializationscalar_initialization-check><a href=/lang/c/language/initialization/scalar_initialization/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageinitializationscalar_initialization><span>标量初始化</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageinitializationarray_initialization-li><input type=checkbox id=m-langclanguageinitializationarray_initialization-check>
<label for=m-langclanguageinitializationarray_initialization-check><a href=/lang/c/language/initialization/array_initialization/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageinitializationarray_initialization><span>数组初始化</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguageinitializationstruct_initialization-li><input type=checkbox id=m-langclanguageinitializationstruct_initialization-check>
<label for=m-langclanguageinitializationstruct_initialization-check><a href=/lang/c/language/initialization/struct_initialization/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguageinitializationstruct_initialization><span>结构体与联合体初始化</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguagedeclarations-li><input type=checkbox id=m-langclanguagedeclarations-check>
<label for=m-langclanguagedeclarations-check><a href=/lang/c/language/declarations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguagedeclarations><span>声明</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationspointer-li><input type=checkbox id=m-langclanguagedeclarationspointer-check>
<label for=m-langclanguagedeclarationspointer-check><a href=/lang/c/language/declarations/pointer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationspointer><span>指针声明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsarray-li><input type=checkbox id=m-langclanguagedeclarationsarray-check>
<label for=m-langclanguagedeclarationsarray-check><a href=/lang/c/language/declarations/array/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsarray><span>数组声明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsenum-li><input type=checkbox id=m-langclanguagedeclarationsenum-check>
<label for=m-langclanguagedeclarationsenum-check><a href=/lang/c/language/declarations/enum/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsenum><span>枚举</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsstruct-li><input type=checkbox id=m-langclanguagedeclarationsstruct-check>
<label for=m-langclanguagedeclarationsstruct-check><a href=/lang/c/language/declarations/struct/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsstruct><span>结构体声明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsunion-li><input type=checkbox id=m-langclanguagedeclarationsunion-check>
<label for=m-langclanguagedeclarationsunion-check><a href=/lang/c/language/declarations/union/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsunion><span>联合体声明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsbit_field-li><input type=checkbox id=m-langclanguagedeclarationsbit_field-check>
<label for=m-langclanguagedeclarationsbit_field-check><a href=/lang/c/language/declarations/bit_field/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsbit_field><span>位域</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsatomic-li><input type=checkbox id=m-langclanguagedeclarationsatomic-check>
<label for=m-langclanguagedeclarationsatomic-check><a href=/lang/c/language/declarations/atomic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsatomic><span>原子类型</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsconst-li><input type=checkbox id=m-langclanguagedeclarationsconst-check>
<label for=m-langclanguagedeclarationsconst-check><a href=/lang/c/language/declarations/const/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsconst><span>const 类型限定符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsvolatile-li><input type=checkbox id=m-langclanguagedeclarationsvolatile-check>
<label for=m-langclanguagedeclarationsvolatile-check><a href=/lang/c/language/declarations/volatile/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsvolatile><span>volatile 类型限定符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsrestrict-li><input type=checkbox id=m-langclanguagedeclarationsrestrict-check>
<label for=m-langclanguagedeclarationsrestrict-check><a href=/lang/c/language/declarations/restrict/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsrestrict><span>restrict 类型限定符 (C99 起)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarations_alignas-li><input type=checkbox id=m-langclanguagedeclarations_alignas-check>
<label for=m-langclanguagedeclarations_alignas-check><a href=/lang/c/language/declarations/_Alignas/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarations_alignas><span>_Alignas (C11 起)(C23 弃用), alignas (C23 起)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsstorage_duration-li><input type=checkbox id=m-langclanguagedeclarationsstorage_duration-check>
<label for=m-langclanguagedeclarationsstorage_duration-check><a href=/lang/c/language/declarations/storage_duration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsstorage_duration><span>存储类说明符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsextern-li><input type=checkbox id=m-langclanguagedeclarationsextern-check>
<label for=m-langclanguagedeclarationsextern-check><a href=/lang/c/language/declarations/extern/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsextern><span>外部及试探性定义</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationstypedef-li><input type=checkbox id=m-langclanguagedeclarationstypedef-check>
<label for=m-langclanguagedeclarationstypedef-check><a href=/lang/c/language/declarations/typedef/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationstypedef><span>typedef 声明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarations_static_assert-li><input type=checkbox id=m-langclanguagedeclarations_static_assert-check>
<label for=m-langclanguagedeclarations_static_assert-check><a href=/lang/c/language/declarations/_Static_assert/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarations_static_assert><span>_Static_assert</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguagedeclarationsattributes-li><input type=checkbox id=m-langclanguagedeclarationsattributes-check>
<label for=m-langclanguagedeclarationsattributes-check><a href=/lang/c/language/declarations/attributes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguagedeclarationsattributes><span>属性说明符序列(C23 起)</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsattributesdeprecated-li><input type=checkbox id=m-langclanguagedeclarationsattributesdeprecated-check>
<label for=m-langclanguagedeclarationsattributesdeprecated-check><a href=/lang/c/language/declarations/attributes/deprecated/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsattributesdeprecated><span>C 属性： deprecated (C23 起)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsattributesfallthrough-li><input type=checkbox id=m-langclanguagedeclarationsattributesfallthrough-check>
<label for=m-langclanguagedeclarationsattributesfallthrough-check><a href=/lang/c/language/declarations/attributes/fallthrough/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsattributesfallthrough><span>C 属性： fallthrough (C23 起)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsattributesnodiscard-li><input type=checkbox id=m-langclanguagedeclarationsattributesnodiscard-check>
<label for=m-langclanguagedeclarationsattributesnodiscard-check><a href=/lang/c/language/declarations/attributes/nodiscard/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsattributesnodiscard><span>C 属性： nodiscard (C23 起)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsattributesmaybe_unused-li><input type=checkbox id=m-langclanguagedeclarationsattributesmaybe_unused-check>
<label for=m-langclanguagedeclarationsattributesmaybe_unused-check><a href=/lang/c/language/declarations/attributes/maybe_unused/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsattributesmaybe_unused><span>C 属性： maybe_unused (C23 起)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsattributesnoreturn-li><input type=checkbox id=m-langclanguagedeclarationsattributesnoreturn-check>
<label for=m-langclanguagedeclarationsattributesnoreturn-check><a href=/lang/c/language/declarations/attributes/noreturn/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsattributesnoreturn><span>C 属性： noreturn, _Noreturn (C23 起)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagedeclarationsattributesunsequenced-li><input type=checkbox id=m-langclanguagedeclarationsattributesunsequenced-check>
<label for=m-langclanguagedeclarationsattributesunsequenced-check><a href=/lang/c/language/declarations/attributes/unsequenced/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagedeclarationsattributesunsequenced><span>C 属性： unsequenced, reproducible (C23 起)</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguagefunctions-li><input type=checkbox id=m-langclanguagefunctions-check>
<label for=m-langclanguagefunctions-check><a href=/lang/c/language/functions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguagefunctions><span>functions</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagefunctionsfunction_declaration-li><input type=checkbox id=m-langclanguagefunctionsfunction_declaration-check>
<label for=m-langclanguagefunctionsfunction_declaration-check><a href=/lang/c/language/functions/function_declaration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagefunctionsfunction_declaration><span>函数声明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagefunctionsfunction_definition-li><input type=checkbox id=m-langclanguagefunctionsfunction_definition-check>
<label for=m-langclanguagefunctionsfunction_definition-check><a href=/lang/c/language/functions/function_definition/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagefunctionsfunction_definition><span>函数定义</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagefunctionsvariadic-li><input type=checkbox id=m-langclanguagefunctionsvariadic-check>
<label for=m-langclanguagefunctionsvariadic-check><a href=/lang/c/language/functions/variadic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagefunctionsvariadic><span>可变函数</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagefunctionsinline-li><input type=checkbox id=m-langclanguagefunctionsinline-check>
<label for=m-langclanguagefunctionsinline-check><a href=/lang/c/language/functions/inline/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagefunctionsinline><span>`inline` 函数说明符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagefunctions_noreturn-li><input type=checkbox id=m-langclanguagefunctions_noreturn-check>
<label for=m-langclanguagefunctions_noreturn-check><a href=/lang/c/language/functions/_Noreturn/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagefunctions_noreturn><span>_Noreturn 函数说明符 (C11 起)(C23 弃用)</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langclanguagemisc-li><input type=checkbox id=m-langclanguagemisc-check>
<label for=m-langclanguagemisc-check><a href=/lang/c/language/misc/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclanguagemisc><span>杂项</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagemischistory-li><input type=checkbox id=m-langclanguagemischistory-check>
<label for=m-langclanguagemischistory-check><a href=/lang/c/language/misc/history/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagemischistory><span>C 的历史</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagemiscconformance-li><input type=checkbox id=m-langclanguagemiscconformance-check>
<label for=m-langclanguagemiscconformance-check><a href=/lang/c/language/misc/conformance/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagemiscconformance><span>遵从性</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagemiscasm-li><input type=checkbox id=m-langclanguagemiscasm-check>
<label for=m-langclanguagemiscasm-check><a href=/lang/c/language/misc/asm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagemiscasm><span>内联汇编</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclanguagemiscanalyzability-li><input type=checkbox id=m-langclanguagemiscanalyzability-check>
<label for=m-langclanguagemiscanalyzability-check><a href=/lang/c/language/misc/analyzability/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langclanguagemiscanalyzability><span>可分析性</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdctype-li><input type=checkbox id=m-langcstdctype-check>
<label for=m-langcstdctype-check><a href=/lang/c/std/ctype/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdctype><span>&lt;ctype.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langcheader-li><input type=checkbox id=m-langcheader-check>
<label for=m-langcheader-check><a href=/lang/c/header/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcheader><span>C 标准库标头</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderassert-li><input type=checkbox id=m-langcheaderassert-check>
<label for=m-langcheaderassert-check><a href=/lang/c/header/assert/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderassert><span>&lt;assert.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheadercomplex-li><input type=checkbox id=m-langcheadercomplex-check>
<label for=m-langcheadercomplex-check><a href=/lang/c/header/complex/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheadercomplex><span>&lt;complex.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderctype-li><input type=checkbox id=m-langcheaderctype-check>
<label for=m-langcheaderctype-check><a href=/lang/c/header/ctype/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderctype><span>&lt;ctype.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheadererrno-li><input type=checkbox id=m-langcheadererrno-check>
<label for=m-langcheadererrno-check><a href=/lang/c/header/errno/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheadererrno><span>&lt;errno.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderfenv-li><input type=checkbox id=m-langcheaderfenv-check>
<label for=m-langcheaderfenv-check><a href=/lang/c/header/fenv/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderfenv><span>&lt;fenv.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderfloat-li><input type=checkbox id=m-langcheaderfloat-check>
<label for=m-langcheaderfloat-check><a href=/lang/c/header/float/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderfloat><span>&lt;float.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderinttypes-li><input type=checkbox id=m-langcheaderinttypes-check>
<label for=m-langcheaderinttypes-check><a href=/lang/c/header/inttypes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderinttypes><span>&lt;inttypes.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderiso646-li><input type=checkbox id=m-langcheaderiso646-check>
<label for=m-langcheaderiso646-check><a href=/lang/c/header/iso646/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderiso646><span>&lt;iso646.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderlimits-li><input type=checkbox id=m-langcheaderlimits-check>
<label for=m-langcheaderlimits-check><a href=/lang/c/header/limits/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderlimits><span>&lt;limits.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderlocale-li><input type=checkbox id=m-langcheaderlocale-check>
<label for=m-langcheaderlocale-check><a href=/lang/c/header/locale/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderlocale><span>&lt;locale.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheadermath-li><input type=checkbox id=m-langcheadermath-check>
<label for=m-langcheadermath-check><a href=/lang/c/header/math/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheadermath><span>&lt;math.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheadersignal-li><input type=checkbox id=m-langcheadersignal-check>
<label for=m-langcheadersignal-check><a href=/lang/c/header/signal/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheadersignal><span>&lt;signal.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheadersetjmp-li><input type=checkbox id=m-langcheadersetjmp-check>
<label for=m-langcheadersetjmp-check><a href=/lang/c/header/setjmp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheadersetjmp><span>&lt;setjmp.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdalign-li><input type=checkbox id=m-langcheaderstdalign-check>
<label for=m-langcheaderstdalign-check><a href=/lang/c/header/stdalign/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdalign><span>&lt;stdalign.h> (C11)(C23 弃用)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdarg-li><input type=checkbox id=m-langcheaderstdarg-check>
<label for=m-langcheaderstdarg-check><a href=/lang/c/header/stdarg/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdarg><span>&lt;stdarg.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdatomic-li><input type=checkbox id=m-langcheaderstdatomic-check>
<label for=m-langcheaderstdatomic-check><a href=/lang/c/header/stdatomic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdatomic><span>&lt;stdatomic.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdbit-li><input type=checkbox id=m-langcheaderstdbit-check>
<label for=m-langcheaderstdbit-check><a href=/lang/c/header/stdbit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdbit><span>&lt;stdbit.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdbool-li><input type=checkbox id=m-langcheaderstdbool-check>
<label for=m-langcheaderstdbool-check><a href=/lang/c/header/stdbool/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdbool><span>&lt;stdbool.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdckdint-li><input type=checkbox id=m-langcheaderstdckdint-check>
<label for=m-langcheaderstdckdint-check><a href=/lang/c/header/stdckdint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdckdint><span>stdckdint</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstddef-li><input type=checkbox id=m-langcheaderstddef-check>
<label for=m-langcheaderstddef-check><a href=/lang/c/header/stddef/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstddef><span>&lt;stddef.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdint-li><input type=checkbox id=m-langcheaderstdint-check>
<label for=m-langcheaderstdint-check><a href=/lang/c/header/stdint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdint><span>&lt;stdint.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdio-li><input type=checkbox id=m-langcheaderstdio-check>
<label for=m-langcheaderstdio-check><a href=/lang/c/header/stdio/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdio><span>&lt;stdio.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdlib-li><input type=checkbox id=m-langcheaderstdlib-check>
<label for=m-langcheaderstdlib-check><a href=/lang/c/header/stdlib/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdlib><span>&lt;stdlib.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdmchar-li><input type=checkbox id=m-langcheaderstdmchar-check>
<label for=m-langcheaderstdmchar-check><a href=/lang/c/header/stdmchar/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdmchar><span>stdmchar 不存在呀</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstdnoreturn-li><input type=checkbox id=m-langcheaderstdnoreturn-check>
<label for=m-langcheaderstdnoreturn-check><a href=/lang/c/header/stdnoreturn/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstdnoreturn><span>&lt;stdnoreturn.h> (C11)(C23 弃用)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderstring-li><input type=checkbox id=m-langcheaderstring-check>
<label for=m-langcheaderstring-check><a href=/lang/c/header/string/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderstring><span>&lt;string.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheadertgmath-li><input type=checkbox id=m-langcheadertgmath-check>
<label for=m-langcheadertgmath-check><a href=/lang/c/header/tgmath/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheadertgmath><span>&lt;tgmath.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderthreads-li><input type=checkbox id=m-langcheaderthreads-check>
<label for=m-langcheaderthreads-check><a href=/lang/c/header/threads/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderthreads><span>&lt;threads.h> (C11)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheadertime-li><input type=checkbox id=m-langcheadertime-check>
<label for=m-langcheadertime-check><a href=/lang/c/header/time/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheadertime><span>&lt;time.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderuchar-li><input type=checkbox id=m-langcheaderuchar-check>
<label for=m-langcheaderuchar-check><a href=/lang/c/header/uchar/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderuchar><span>&lt;uchar.h> (C11)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderwchar-li><input type=checkbox id=m-langcheaderwchar-check>
<label for=m-langcheaderwchar-check><a href=/lang/c/header/wchar/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderwchar><span>&lt;wchar.h> (C95)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcheaderwctype-li><input type=checkbox id=m-langcheaderwctype-check>
<label for=m-langcheaderwctype-check><a href=/lang/c/header/wctype/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcheaderwctype><span>&lt;wctype.h> (C95)</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstderrno-li><input type=checkbox id=m-langcstderrno-check>
<label for=m-langcstderrno-check><a href=/lang/c/std/errno/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstderrno><span>&lt;errno.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langctypes-li><input type=checkbox id=m-langctypes-check>
<label for=m-langctypes-check><a href=/lang/c/types/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langctypes><span>类型支持</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langctypessize_t-li><input type=checkbox id=m-langctypessize_t-check>
<label for=m-langctypessize_t-check><a href=/lang/c/types/size_t/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langctypessize_t><span>size_t</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langctypesptrdiff_t-li><input type=checkbox id=m-langctypesptrdiff_t-check>
<label for=m-langctypesptrdiff_t-check><a href=/lang/c/types/ptrdiff_t/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langctypesptrdiff_t><span>ptrdiff_t</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langctypesnullptr_t-li><input type=checkbox id=m-langctypesnullptr_t-check>
<label for=m-langctypesnullptr_t-check><a href=/lang/c/types/nullptr_t/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langctypesnullptr_t><span>nullptr_t</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langctypesnull-li><input type=checkbox id=m-langctypesnull-check>
<label for=m-langctypesnull-check><a href=/lang/c/types/NULL/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langctypesnull><span>NULL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langctypesmax_align_t-li><input type=checkbox id=m-langctypesmax_align_t-check>
<label for=m-langctypesmax_align_t-check><a href=/lang/c/types/max_align_t/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langctypesmax_align_t><span>max_align_t</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langctypesoffsetof-li><input type=checkbox id=m-langctypesoffsetof-check>
<label for=m-langctypesoffsetof-check><a href=/lang/c/types/offsetof/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langctypesoffsetof><span>offsetof</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langctypeslimits-li><input type=checkbox id=m-langctypeslimits-check>
<label for=m-langctypeslimits-check><a href=/lang/c/types/limits/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langctypeslimits><span>数值极限</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langctypeslimitsflt_rounds-li><input type=checkbox id=m-langctypeslimitsflt_rounds-check>
<label for=m-langctypeslimitsflt_rounds-check><a href=/lang/c/types/limits/FLT_ROUNDS/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langctypeslimitsflt_rounds><span>FLT_ROUNDS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langctypeslimitsflt_eval_method-li><input type=checkbox id=m-langctypeslimitsflt_eval_method-check>
<label for=m-langctypeslimitsflt_eval_method-check><a href=/lang/c/types/limits/FLT_EVAL_METHOD/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langctypeslimitsflt_eval_method><span>FLT_EVAL_METHOD</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langctypesinteger-li><input type=checkbox id=m-langctypesinteger-check>
<label for=m-langctypesinteger-check><a href=/lang/c/types/integer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langctypesinteger><span>定宽整数类型 (C99 起)</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdfenv-li><input type=checkbox id=m-langcstdfenv-check>
<label for=m-langcstdfenv-check><a href=/lang/c/std/fenv/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdfenv><span>&lt;fenv.h> (C99)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdfloat-li><input type=checkbox id=m-langcstdfloat-check>
<label for=m-langcstdfloat-check><a href=/lang/c/std/float/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdfloat><span>&lt;float.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdinttypes-li><input type=checkbox id=m-langcstdinttypes-check>
<label for=m-langcstdinttypes-check><a href=/lang/c/std/inttypes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdinttypes><span>&lt;inttypes.h> (C99)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcerror-li><input type=checkbox id=m-langcerror-check>
<label for=m-langcerror-check><a href=/lang/c/error/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcerror><span>错误处理</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdiso646-li><input type=checkbox id=m-langcstdiso646-check>
<label for=m-langcstdiso646-check><a href=/lang/c/std/iso646/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdiso646><span>&lt;iso646.h> (C95)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcmemory-li><input type=checkbox id=m-langcmemory-check>
<label for=m-langcmemory-check><a href=/lang/c/memory/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcmemory><span>动态内存管理</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdlimits-li><input type=checkbox id=m-langcstdlimits-check>
<label for=m-langcstdlimits-check><a href=/lang/c/std/limits/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdlimits><span>&lt;limits.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langcstring-li><input type=checkbox id=m-langcstring-check>
<label for=m-langcstring-check><a href=/lang/c/string/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcstring><span>字符串库</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstringbyte-li><input type=checkbox id=m-langcstringbyte-check>
<label for=m-langcstringbyte-check><a href=/lang/c/string/byte/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstringbyte><span>空终止字节字符串</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstringmultibyte-li><input type=checkbox id=m-langcstringmultibyte-check>
<label for=m-langcstringmultibyte-check><a href=/lang/c/string/multibyte/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstringmultibyte><span>空终止多字节字符串</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstringwide-li><input type=checkbox id=m-langcstringwide-check>
<label for=m-langcstringwide-check><a href=/lang/c/string/wide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstringwide><span>空终止宽字符串</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdlocale-li><input type=checkbox id=m-langcstdlocale-check>
<label for=m-langcstdlocale-check><a href=/lang/c/std/locale/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdlocale><span>&lt;locale.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcchrono-li><input type=checkbox id=m-langcchrono-check>
<label for=m-langcchrono-check><a href=/lang/c/chrono/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcchrono><span>日期和时间工具</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-langcstdmath-li><input type=checkbox id=m-langcstdmath-check checked>
<label for=m-langcstdmath-check><a href=/lang/c/std/math/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-langcstdmath><span class=td-sidebar-nav-active-item>&lt;math.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langclocale-li><input type=checkbox id=m-langclocale-check>
<label for=m-langclocale-check><a href=/lang/c/locale/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langclocale><span>本地化支持</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdsetjmp-li><input type=checkbox id=m-langcstdsetjmp-check>
<label for=m-langcstdsetjmp-check><a href=/lang/c/std/setjmp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdsetjmp><span>&lt;setjmp.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcio-li><input type=checkbox id=m-langcio-check>
<label for=m-langcio-check><a href=/lang/c/io/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcio><span>文件输入/输出</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdsignal-li><input type=checkbox id=m-langcstdsignal-check>
<label for=m-langcstdsignal-check><a href=/lang/c/std/signal/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdsignal><span>&lt;signal.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcalgorithm-li><input type=checkbox id=m-langcalgorithm-check>
<label for=m-langcalgorithm-check><a href=/lang/c/algorithm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcalgorithm><span>算法</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdalign-li><input type=checkbox id=m-langcstdstdalign-check>
<label for=m-langcstdstdalign-check><a href=/lang/c/std/stdalign/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdalign><span>&lt;stdalign.h> (C11)(C23 弃用)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langcnumeric-li><input type=checkbox id=m-langcnumeric-check>
<label for=m-langcnumeric-check><a href=/lang/c/numeric/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcnumeric><span>数值</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcnumericmath-li><input type=checkbox id=m-langcnumericmath-check>
<label for=m-langcnumericmath-check><a href=/lang/c/numeric/math/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcnumericmath><span>常用数学函数</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcnumericfenv-li><input type=checkbox id=m-langcnumericfenv-check>
<label for=m-langcnumericfenv-check><a href=/lang/c/numeric/fenv/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcnumericfenv><span>浮点数环境</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcnumericrandom-li><input type=checkbox id=m-langcnumericrandom-check>
<label for=m-langcnumericrandom-check><a href=/lang/c/numeric/random/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcnumericrandom><span>伪随机数生成</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcnumericcomplex-li><input type=checkbox id=m-langcnumericcomplex-check>
<label for=m-langcnumericcomplex-check><a href=/lang/c/numeric/complex/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcnumericcomplex><span>复数算术</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcnumerictgmath-li><input type=checkbox id=m-langcnumerictgmath-check>
<label for=m-langcnumerictgmath-check><a href=/lang/c/numeric/tgmath/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcnumerictgmath><span>泛型数学 (C99 起)</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdarg-li><input type=checkbox id=m-langcstdstdarg-check>
<label for=m-langcstdstdarg-check><a href=/lang/c/std/stdarg/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdarg><span>&lt;stdarg.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcthread-li><input type=checkbox id=m-langcthread-check>
<label for=m-langcthread-check><a href=/lang/c/thread/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcthread><span>并发支持库</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdatomic-li><input type=checkbox id=m-langcstdstdatomic-check>
<label for=m-langcstdstdatomic-check><a href=/lang/c/std/stdatomic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdatomic><span>&lt;stdatomic.h> (C11)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-langcexperimental-li><input type=checkbox id=m-langcexperimental-check>
<label for=m-langcexperimental-check><a href=/lang/c/experimental/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-langcexperimental><span>实验性 C 特性</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcexperimentaldynamic-li><input type=checkbox id=m-langcexperimentaldynamic-check>
<label for=m-langcexperimentaldynamic-check><a href=/lang/c/experimental/dynamic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcexperimentaldynamic><span>动态内存扩展</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcexperimentalfpext1-li><input type=checkbox id=m-langcexperimentalfpext1-check>
<label for=m-langcexperimentalfpext1-check><a href=/lang/c/experimental/fpext1/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcexperimentalfpext1><span>浮点扩展部分 1 ：二进制浮点算术</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcexperimentalfpext4-li><input type=checkbox id=m-langcexperimentalfpext4-check>
<label for=m-langcexperimentalfpext4-check><a href=/lang/c/experimental/fpext4/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcexperimentalfpext4><span>fpext4</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdbit-li><input type=checkbox id=m-langcstdstdbit-check>
<label for=m-langcstdstdbit-check><a href=/lang/c/std/stdbit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdbit><span>&lt;stdbit.h> (C23)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdbool-li><input type=checkbox id=m-langcstdstdbool-check>
<label for=m-langcstdstdbool-check><a href=/lang/c/std/stdbool/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdbool><span>&lt;stdbool.h> (C99)(C23 弃用)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdckdint-li><input type=checkbox id=m-langcstdstdckdint-check>
<label for=m-langcstdstdckdint-check><a href=/lang/c/std/stdckdint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdckdint><span>创建 c/header/stdckdint</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstddef-li><input type=checkbox id=m-langcstdstddef-check>
<label for=m-langcstdstddef-check><a href=/lang/c/std/stddef/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstddef><span>&lt;stddef.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdint-li><input type=checkbox id=m-langcstdstdint-check>
<label for=m-langcstdstdint-check><a href=/lang/c/std/stdint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdint><span>&lt;stdint.h> (C99)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdio-li><input type=checkbox id=m-langcstdstdio-check>
<label for=m-langcstdstdio-check><a href=/lang/c/std/stdio/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdio><span>&lt;stdio.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdlib-li><input type=checkbox id=m-langcstdstdlib-check>
<label for=m-langcstdstdlib-check><a href=/lang/c/std/stdlib/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdlib><span>&lt;stdlib.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdmchar-li><input type=checkbox id=m-langcstdstdmchar-check>
<label for=m-langcstdstdmchar-check><a href=/lang/c/std/stdmchar/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdmchar><span>&lt;stdmchar.h> (C29)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstdnoreturn-li><input type=checkbox id=m-langcstdstdnoreturn-check>
<label for=m-langcstdstdnoreturn-check><a href=/lang/c/std/stdnoreturn/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstdnoreturn><span>&lt;stdnoreturn.h> (C11)(C23 弃用)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdstring-li><input type=checkbox id=m-langcstdstring-check>
<label for=m-langcstdstring-check><a href=/lang/c/std/string/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdstring><span>&lt;string.h></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdtgmath-li><input type=checkbox id=m-langcstdtgmath-check>
<label for=m-langcstdtgmath-check><a href=/lang/c/std/tgmath/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdtgmath><span>&lt;tgmath.h> (C99)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-langcstdassert-li><input type=checkbox id=m-langcstdassert-check>
<label for=m-langcstdassert-check><a href=/lang/c/std/assert/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-langcstdassert><span>&lt;assert.h></span></a></label></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://before80.github.io/go_docs/comm/coffee class="td-page-meta--view td-page-meta__view" style=color:#2bf518!important target=_blank rel=noopener><i class="fa-solid fa-mug-hot fa-fw"></i> 请作者喝杯咖啡吧</a>
<a href=https://github.com/before80/lang/tree/main/content/c/std/math.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> 查看页面源码</a>
<a href=https://github.com/before80/lang/edit/main/content/c/std/math.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 编辑此页</a>
<a href="https://github.com/before80/lang/new/main/content/c/std?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 添加子页面</a>
<a href="https://github.com/before80/lang/issues/new?title=%3cmath.h%3e" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> 提交文档问题</a>
<a href=https://github.com/before80/lang/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> 提交项目问题</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#类型>类型</a><ul><li><a href=#double_t>double_t</a></li><li><a href=#float_t>float_t</a></li></ul></li><li><a href=#枚举>枚举</a></li><li><a href=#宏>宏</a><ul><li><a href=#fp_fast_fma>FP_FAST_FMA</a></li><li><a href=#fp_fast_fmaf>FP_FAST_FMAF</a></li><li><a href=#fp_fast_fmal>FP_FAST_FMAL</a></li><li><a href=#fp_ilogb0>FP_ILOGB0</a></li><li><a href=#fp_ilogbnan>FP_ILOGBNAN</a></li><li><a href=#fp_infinite>FP_INFINITE</a></li><li><a href=#fp_nan>FP_NAN</a></li><li><a href=#fp_normal>FP_NORMAL</a></li><li><a href=#fp_subnormal>FP_SUBNORMAL</a></li><li><a href=#fp_zero>FP_ZERO</a></li><li><a href=#huge_val>HUGE_VAL</a></li><li><a href=#huge_valf>HUGE_VALF</a></li><li><a href=#huge_vall>HUGE_VALL</a></li><li><a href=#infinity>INFINITY</a></li><li><a href=#math_errexcept>MATH_ERREXCEPT</a></li><li><a href=#math_errno>MATH_ERRNO</a></li><li><a href=#nan>NAN</a></li><li><a href=#__stdc_version_math_h__><strong>STDC_VERSION_MATH_H</strong></a></li><li><a href=#fpclassify>fpclassify</a></li><li><a href=#isfinite>isfinite</a></li><li><a href=#isgreater>isgreater</a></li><li><a href=#isgreaterequal>isgreaterequal</a></li><li><a href=#isinf>isinf</a></li><li><a href=#isless>isless</a></li><li><a href=#islessequal>islessequal</a></li><li><a href=#islessgreater>islessgreater</a></li><li><a href=#isnan>isnan</a></li><li><a href=#isnormal>isnormal</a></li><li><a href=#isunordered>isunordered</a></li><li><a href=#math_errhandling>math_errhandling</a></li><li><a href=#signbit>signbit</a></li></ul></li><li><a href=#函数>函数</a><ul><li><a href=#acos>acos</a></li><li><a href=#acosf>acosf</a></li><li><a href=#acosh>acosh</a></li><li><a href=#acoshf>acoshf</a></li><li><a href=#acoshl>acoshl</a></li><li><a href=#acosl>acosl</a></li><li><a href=#asin>asin</a></li><li><a href=#asinf>asinf</a></li><li><a href=#asinh>asinh</a></li><li><a href=#asinhf>asinhf</a></li><li><a href=#asinhl>asinhl</a></li><li><a href=#asinl>asinl</a></li><li><a href=#atan>atan</a></li><li><a href=#atan2>atan2</a></li><li><a href=#atan2f>atan2f</a></li><li><a href=#atan2l>atan2l</a></li><li><a href=#atanf>atanf</a></li><li><a href=#atanh>atanh</a></li><li><a href=#atanhf>atanhf</a></li><li><a href=#atanhl>atanhl</a></li><li><a href=#atanl>atanl</a></li><li><a href=#cbrt>cbrt</a></li><li><a href=#cbrtf>cbrtf</a></li><li><a href=#cbrtl>cbrtl</a></li><li><a href=#ceil>ceil</a></li><li><a href=#ceilf>ceilf</a></li><li><a href=#ceill>ceill</a></li><li><a href=#copysign>copysign</a></li><li><a href=#copysignf>copysignf</a></li><li><a href=#copysignl>copysignl</a></li><li><a href=#cos>cos</a></li><li><a href=#cosf>cosf</a></li><li><a href=#cosh>cosh</a></li><li><a href=#coshf>coshf</a></li><li><a href=#coshl>coshl</a></li><li><a href=#cosl>cosl</a></li><li><a href=#erf>erf</a></li><li><a href=#erfc>erfc</a></li><li><a href=#erfcf>erfcf</a></li><li><a href=#erfcl>erfcl</a></li><li><a href=#erff>erff</a></li><li><a href=#erfl>erfl</a></li><li><a href=#exp>exp</a></li><li><a href=#exp2>exp2</a></li><li><a href=#exp2f>exp2f</a></li><li><a href=#exp2l>exp2l</a></li><li><a href=#expf>expf</a></li><li><a href=#expl>expl</a></li><li><a href=#expm1>expm1</a></li><li><a href=#expm1f>expm1f</a></li><li><a href=#expm1l>expm1l</a></li><li><a href=#fabs>fabs</a></li><li><a href=#fabsf>fabsf</a></li><li><a href=#fabsl>fabsl</a></li><li><a href=#fdim>fdim</a></li><li><a href=#fdimf>fdimf</a></li><li><a href=#fdiml>fdiml</a></li><li><a href=#floor>floor</a></li><li><a href=#floorf>floorf</a></li><li><a href=#floorl>floorl</a></li><li><a href=#fma>fma</a></li><li><a href=#fmaf>fmaf</a></li><li><a href=#fmal>fmal</a></li><li><a href=#fmax>fmax</a></li><li><a href=#fmaxf>fmaxf</a></li><li><a href=#fmaxl>fmaxl</a></li><li><a href=#fmin>fmin</a></li><li><a href=#fminf>fminf</a></li><li><a href=#fminl>fminl</a></li><li><a href=#fmod>fmod</a></li><li><a href=#fmodf>fmodf</a></li><li><a href=#fmodl>fmodl</a></li><li><a href=#frexp>frexp</a></li><li><a href=#frexpf>frexpf</a></li><li><a href=#frexpl>frexpl</a></li><li><a href=#hypot>hypot</a></li><li><a href=#hypotf>hypotf</a></li><li><a href=#hypotl>hypotl</a></li><li><a href=#ilogb>ilogb</a></li><li><a href=#ilogbf>ilogbf</a></li><li><a href=#ilogbl>ilogbl</a></li><li><a href=#ldexp>ldexp</a></li><li><a href=#ldexpf>ldexpf</a></li><li><a href=#ldexpl>ldexpl</a></li><li><a href=#lgamma>lgamma</a></li><li><a href=#lgammaf>lgammaf</a></li><li><a href=#lgammal>lgammal</a></li><li><a href=#llrint>llrint</a></li><li><a href=#llrintf>llrintf</a></li><li><a href=#llrintl>llrintl</a></li><li><a href=#llround>llround</a></li><li><a href=#llroundf>llroundf</a></li><li><a href=#llroundl>llroundl</a></li><li><a href=#log>log</a></li><li><a href=#log10>log10</a></li><li><a href=#log10f>log10f</a></li><li><a href=#log10l>log10l</a></li><li><a href=#log1p>log1p</a></li><li><a href=#log1pf>log1pf</a></li><li><a href=#log1pl>log1pl</a></li><li><a href=#log2>log2</a></li><li><a href=#log2f>log2f</a></li><li><a href=#log2l>log2l</a></li><li><a href=#logb>logb</a></li><li><a href=#logbf>logbf</a></li><li><a href=#logbl>logbl</a></li><li><a href=#logf>logf</a></li><li><a href=#logl>logl</a></li><li><a href=#lrint>lrint</a></li><li><a href=#lrintf>lrintf</a></li><li><a href=#lrintl>lrintl</a></li><li><a href=#lround>lround</a></li><li><a href=#lroundf>lroundf</a></li><li><a href=#lroundl>lroundl</a></li><li><a href=#modf>modf</a></li><li><a href=#modff>modff</a></li><li><a href=#modfl>modfl</a></li><li><a href=#nan-1>nan</a></li><li><a href=#nanf>nanf</a></li><li><a href=#nanl>nanl</a></li><li><a href=#nearbyint>nearbyint</a></li><li><a href=#nearbyintf>nearbyintf</a></li><li><a href=#nearbyintl>nearbyintl</a></li><li><a href=#nextafter>nextafter</a></li><li><a href=#nextafterf>nextafterf</a></li><li><a href=#nextafterl>nextafterl</a></li><li><a href=#nexttoward>nexttoward</a></li><li><a href=#nexttowardf>nexttowardf</a></li><li><a href=#nexttowardl>nexttowardl</a></li><li><a href=#pow>pow</a></li><li><a href=#powf>powf</a></li><li><a href=#powl>powl</a></li><li><a href=#remainder>remainder</a></li><li><a href=#remainderf>remainderf</a></li><li><a href=#remainderl>remainderl</a></li><li><a href=#remquo>remquo</a></li><li><a href=#remquof>remquof</a></li><li><a href=#remquol>remquol</a></li><li><a href=#rint>rint</a></li><li><a href=#rintf>rintf</a></li><li><a href=#rintl>rintl</a></li><li><a href=#round>round</a></li><li><a href=#roundf>roundf</a></li><li><a href=#roundl>roundl</a></li><li><a href=#scalbln>scalbln</a></li><li><a href=#scalblnf>scalblnf</a></li><li><a href=#scalblnl>scalblnl</a></li><li><a href=#scalbn>scalbn</a></li><li><a href=#scalbnf>scalbnf</a></li><li><a href=#scalbnl>scalbnl</a></li><li><a href=#sin>sin</a></li><li><a href=#sinf>sinf</a></li><li><a href=#sinh>sinh</a></li><li><a href=#sinhf>sinhf</a></li><li><a href=#sinhl>sinhl</a></li><li><a href=#sinl>sinl</a></li><li><a href=#sqrt>sqrt</a></li><li><a href=#sqrtf>sqrtf</a></li><li><a href=#sqrtl>sqrtl</a></li><li><a href=#tan>tan</a></li><li><a href=#tanf>tanf</a></li><li><a href=#tanh>tanh</a></li><li><a href=#tanhf>tanhf</a></li><li><a href=#tanhl>tanhl</a></li><li><a href=#tanl>tanl</a></li><li><a href=#tgamma>tgamma</a></li><li><a href=#tgammaf>tgammaf</a></li><li><a href=#tgammal>tgammal</a></li><li><a href=#trunc>trunc</a></li><li><a href=#truncf>truncf</a></li><li><a href=#truncl>truncl</a></li></ul></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/lang/c/>C</a></li><li class="breadcrumb-item active" aria-current=page>&lt;math.h></li></ol></nav><div class=td-content><h1>&lt;math.h></h1><div class=lead>常用数学函数</div><header class=article-meta><p class=reading-time><i class="fa-solid fa-clock" style=color:#e90 aria-hidden=true></i>&nbsp; <span style=font-size:3rem;color:#006400 id=advice-reading-time>404 </span>分钟阅读 &nbsp;</p></header><h2 id=类型>类型</h2><h3 id=double_t>double_t</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/float_t>https://zh.cppreference.com/w/c/numeric/math/float_t</a></p><p>作用：宽度至少等于 <code>double</code> 的最高效浮点类型 (typedef)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>typedef</span> <span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span> <span style=color:#e5c07b>float_t</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>typedef</span> <span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span> <span style=color:#e5c07b>double_t</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ <code>float_t</code> 和 <code>double_t</code> 类型分别是至少与 <code>float</code> 和 <code>double</code> 一样宽的浮点数类型，并满足 <code>double_t</code> 至少与 <code>float_t</code> 一样宽。<a href=https://zh.cppreference.com/w/c/types/limits/FLT_EVAL_METHOD>FLT_EVAL_METHOD</a> 的值确定 <code>float_t</code> 和 <code>double_t</code> 的类型。</p><table><thead><tr><th><code>FLT_EVAL_METHOD</code></th><th>解释</th></tr></thead><tbody><tr><td><code>0</code></td><td><code>float_t</code> 和 <code>double_t</code> 分别等价于 <code>float</code> 和 <code>double</code></td></tr><tr><td><code>1</code></td><td><code>float_t</code> 和 <code>double_t</code> 都等价于 <code>double</code></td></tr><tr><td><code>2</code></td><td><code>float_t</code> 和 <code>double_t</code> 都等价于 <code>long double</code></td></tr><tr><td>其他</td><td><code>float_t</code> 和 <code>double_t</code> 均为实现定义</td></tr></tbody></table><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#define SHOW(expr) printf(&#34;%s = %d\n&#34;, #expr, (int)(expr))
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>SHOW</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FLT_EVAL_METHOD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>SHOW</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>float</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>SHOW</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>float_t</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>SHOW</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>SHOW</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double_t</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>FLT_EVAL_METHOD = 1
</span></span><span style=display:flex><span>sizeof(float) = 4
</span></span><span style=display:flex><span>sizeof(float_t) = 8
</span></span><span style=display:flex><span>sizeof(double) = 8
</span></span><span style=display:flex><span>sizeof(double_t) = 8
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li>7.12 Mathematics &lt;math.h> （第 TBD 页）</li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12 Mathematics &lt;math.h> （第 TBD 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12 Mathematics &lt;math.h> （第 231 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12 Mathematics &lt;math.h> （第 212 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/types/limits/FLT_EVAL_METHOD>FLT_EVAL_METHOD (C99)<br></a></th><th>指定所有算术运算以什么精度执行 (宏常量)</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h3 id=float_t>float_t</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/float_t>https://zh.cppreference.com/w/c/numeric/math/float_t</a></p><p>作用：宽度至少等于 <code>float</code> 的最高效浮点数类型 (typedef)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>typedef</span> <span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span> <span style=color:#e5c07b>float_t</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>typedef</span> <span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span> <span style=color:#e5c07b>double_t</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ <code>float_t</code> 和 <code>double_t</code> 类型分别是至少与 <code>float</code> 和 <code>double</code> 一样宽的浮点数类型，并满足 <code>double_t</code> 至少与 <code>float_t</code> 一样宽。<a href=https://zh.cppreference.com/w/c/types/limits/FLT_EVAL_METHOD>FLT_EVAL_METHOD</a> 的值确定 <code>float_t</code> 和 <code>double_t</code> 的类型。</p><table><thead><tr><th><code>FLT_EVAL_METHOD</code></th><th>解释</th></tr></thead><tbody><tr><td><code>0</code></td><td><code>float_t</code> 和 <code>double_t</code> 分别等价于 <code>float</code> 和 <code>double</code></td></tr><tr><td><code>1</code></td><td><code>float_t</code> 和 <code>double_t</code> 都等价于 <code>double</code></td></tr><tr><td><code>2</code></td><td><code>float_t</code> 和 <code>double_t</code> 都等价于 <code>long double</code></td></tr><tr><td>其他</td><td><code>float_t</code> 和 <code>double_t</code> 均为实现定义</td></tr></tbody></table><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#define SHOW(expr) printf(&#34;%s = %d\n&#34;, #expr, (int)(expr))
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>SHOW</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FLT_EVAL_METHOD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>SHOW</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>float</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>SHOW</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>float_t</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>SHOW</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>SHOW</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double_t</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>FLT_EVAL_METHOD = 1
</span></span><span style=display:flex><span>sizeof(float) = 4
</span></span><span style=display:flex><span>sizeof(float_t) = 8
</span></span><span style=display:flex><span>sizeof(double) = 8
</span></span><span style=display:flex><span>sizeof(double_t) = 8
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li>7.12 Mathematics &lt;math.h> （第 TBD 页）</li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12 Mathematics &lt;math.h> （第 TBD 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12 Mathematics &lt;math.h> （第 231 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12 Mathematics &lt;math.h> （第 212 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/types/limits/FLT_EVAL_METHOD>FLT_EVAL_METHOD (C99)<br></a></th><th>指定所有算术运算以什么精度执行 (宏常量)</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h2 id=枚举>枚举</h2><h2 id=宏>宏</h2><h3 id=fp_fast_fma>FP_FAST_FMA</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fma>https://zh.cppreference.com/w/c/numeric/math/fma</a></p><p>作用：指示 fma 函数与操作数的一次乘法和一次加法相比，执行速度相当或更快 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMA  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAF </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fma( x, y, z )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>(x * y) + z</code>，如同用无限精度，而仅舍入一次到结果类型。</p><p>4-6) 若定义宏常量 <code>FP_FAST_FMA</code>、<code>FP_FAST_FMAF</code> 或 <code>FP_FAST_FMAL</code>，则对应函数 <code>fma</code>、<code>fmaf</code> 或 <code>fmal</code> 分别求值快于（并且精度高于）<code>double</code>、<code>float</code> 和 <code>long double</code> 实参的表达式 <code>x * y + z</code>。若定义，则这些宏求值为整数 <code>1</code>。</p><p>7） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>fmal</code>。否则若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fma</code>。否则调用<code>fmaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y, z</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>(x * y) + z</code> 的值，如同计算为无限精度再舍入一次以适合目标类型（或者说是作为单次三元浮点数运算计算）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若</p><p><code>x</code></p><p>为零而</p><p><code>y</code></p><p>为无穷大或</p><p><code>x</code></p><p>为无穷大而</p><p><code>y</code></p><p>为零，且</p><ul><li>若 <code>z</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若 <code>z</code> 为 NaN，则返回 NaN 并可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li></ul></li><li><p>若 <code>x * y</code> 为准确的无穷大且 <code>z</code> 为带相反符号的无穷大，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</p></li><li><p>若 <code>x</code> 或 <code>y</code> 为 NaN，则返回 NaN。</p></li><li><p>若 <code>z</code> 为 NaN，且 <code>x * y</code> 不是 <code>0 * Inf</code> 或 <code>Inf * 0</code>，则返回 NaN（而无 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>）。</p></li></ul><p><strong>注解</strong></p><p>​ 此运算经常在硬件中实现为<a href=https://en.wikipedia.org/wiki/Multiply%E2%80%93accumulate_operation>融合乘加</a> CPU 指令。若硬件支持，则期待定义相应的 <code>FP_FAST_FMA*</code> 宏，但多数实现即使在不定义这些宏时也利用该 CPU 指令。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/fma.html>POSIX 指定</a> <code>x * y</code> 非法且 <code>z</code> 为 NaN 的情形是定义域错误。</p><p>​ 由于其无限的中间精度，<code>fma</code> 是其他正确舍入数学运算，如 <a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt</a> 或甚至除法（在 CPU 不支持的平台上，例如 <a href=https://en.wikipedia.org/wiki/Itanium>Itanium</a>）的常用构建块。</p><p>​ 同所有浮点数表达式，表达式 <code>(x*y) + z</code> 可编译为融合乘加，除非 <a href=https://zh.cppreference.com/w/cpp/preprocessor/impl>#pragma</a> <code>STDC FP_CONTRACT</code> 为关闭。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 演示 fma 和内建运算符间的区别
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>in</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 double is %.23f (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3),&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34; or 1.0 if rounded to double</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>expr_result</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 * 10 - 1 = %g : 1 subtracted after &#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;intermediate rounding to 1.0</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>expr_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>fma_result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(0.1, 10, -1) = %g (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// fma 用于 double-double
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>in double-double arithmetic, 0.1 * 10 is representable as &#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>high</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>low</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>high</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%g + %g</span><span style=color:#d26464;font-weight:700>\n\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>high</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>low</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(+Inf, 10, -Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>0.1 double is 0.10000000000000000555112 (0x1.999999999999ap-4)
</span></span><span style=display:flex><span>0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3), or 1.0 if rounded to double
</span></span><span style=display:flex><span>0.1 * 10 - 1 = 0 : 1 subtracted after intermediate rounding to 1.0
</span></span><span style=display:flex><span>fma(0.1, 10, -1) = 5.55112e-17 (0x1p-54)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>in double-double arithmetic, 0.1 * 10 is representable as 1 + 5.55112e-17
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>fma(+Inf, 10, -Inf) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.13.1 The fma functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.10.1 The fma functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.13.1 The fma functions （第 188-189 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.10.1 The fma functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.13.1 The fma functions （第 258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.10.1 The fma functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.13.1 The fma functions （第 239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.10.1 The fma functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></th><th>计算浮点数除法运算的带符号余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>fma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fma>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fp_fast_fmaf>FP_FAST_FMAF</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fma>https://zh.cppreference.com/w/c/numeric/math/fma</a></p><p>作用：指示 fma 函数与操作数的一次乘法和一次加法相比，执行速度相当或更快 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMA  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAF </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fma( x, y, z )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>(x * y) + z</code>，如同用无限精度，而仅舍入一次到结果类型。</p><p>4-6) 若定义宏常量 <code>FP_FAST_FMA</code>、<code>FP_FAST_FMAF</code> 或 <code>FP_FAST_FMAL</code>，则对应函数 <code>fma</code>、<code>fmaf</code> 或 <code>fmal</code> 分别求值快于（并且精度高于）<code>double</code>、<code>float</code> 和 <code>long double</code> 实参的表达式 <code>x * y + z</code>。若定义，则这些宏求值为整数 <code>1</code>。</p><p>7） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>fmal</code>。否则若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fma</code>。否则调用<code>fmaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y, z</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>(x * y) + z</code> 的值，如同计算为无限精度再舍入一次以适合目标类型（或者说是作为单次三元浮点数运算计算）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若</p><p><code>x</code></p><p>为零而</p><p><code>y</code></p><p>为无穷大或</p><p><code>x</code></p><p>为无穷大而</p><p><code>y</code></p><p>为零，且</p><ul><li>若 <code>z</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若 <code>z</code> 为 NaN，则返回 NaN 并可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li></ul></li><li><p>若 <code>x * y</code> 为准确的无穷大且 <code>z</code> 为带相反符号的无穷大，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</p></li><li><p>若 <code>x</code> 或 <code>y</code> 为 NaN，则返回 NaN。</p></li><li><p>若 <code>z</code> 为 NaN，且 <code>x * y</code> 不是 <code>0 * Inf</code> 或 <code>Inf * 0</code>，则返回 NaN（而无 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>）。</p></li></ul><p><strong>注解</strong></p><p>​ 此运算经常在硬件中实现为<a href=https://en.wikipedia.org/wiki/Multiply%E2%80%93accumulate_operation>融合乘加</a> CPU 指令。若硬件支持，则期待定义相应的 <code>FP_FAST_FMA*</code> 宏，但多数实现即使在不定义这些宏时也利用该 CPU 指令。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/fma.html>POSIX 指定</a> <code>x * y</code> 非法且 <code>z</code> 为 NaN 的情形是定义域错误。</p><p>​ 由于其无限的中间精度，<code>fma</code> 是其他正确舍入数学运算，如 <a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt</a> 或甚至除法（在 CPU 不支持的平台上，例如 <a href=https://en.wikipedia.org/wiki/Itanium>Itanium</a>）的常用构建块。</p><p>​ 同所有浮点数表达式，表达式 <code>(x*y) + z</code> 可编译为融合乘加，除非 <a href=https://zh.cppreference.com/w/cpp/preprocessor/impl>#pragma</a> <code>STDC FP_CONTRACT</code> 为关闭。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 演示 fma 和内建运算符间的区别
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>in</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 double is %.23f (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3),&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34; or 1.0 if rounded to double</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>expr_result</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 * 10 - 1 = %g : 1 subtracted after &#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;intermediate rounding to 1.0</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>expr_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>fma_result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(0.1, 10, -1) = %g (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// fma 用于 double-double
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>in double-double arithmetic, 0.1 * 10 is representable as &#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>high</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>low</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>high</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%g + %g</span><span style=color:#d26464;font-weight:700>\n\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>high</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>low</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(+Inf, 10, -Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>0.1 double is 0.10000000000000000555112 (0x1.999999999999ap-4)
</span></span><span style=display:flex><span>0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3), or 1.0 if rounded to double
</span></span><span style=display:flex><span>0.1 * 10 - 1 = 0 : 1 subtracted after intermediate rounding to 1.0
</span></span><span style=display:flex><span>fma(0.1, 10, -1) = 5.55112e-17 (0x1p-54)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>in double-double arithmetic, 0.1 * 10 is representable as 1 + 5.55112e-17
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>fma(+Inf, 10, -Inf) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.13.1 The fma functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.10.1 The fma functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.13.1 The fma functions （第 188-189 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.10.1 The fma functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.13.1 The fma functions （第 258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.10.1 The fma functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.13.1 The fma functions （第 239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.10.1 The fma functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></th><th>计算浮点数除法运算的带符号余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>fma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fma>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fp_fast_fmal>FP_FAST_FMAL</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fma>https://zh.cppreference.com/w/c/numeric/math/fma</a></p><p>作用：指示 fma 函数与操作数的一次乘法和一次加法相比，执行速度相当或更快 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMA  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAF </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fma( x, y, z )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>(x * y) + z</code>，如同用无限精度，而仅舍入一次到结果类型。</p><p>4-6) 若定义宏常量 <code>FP_FAST_FMA</code>、<code>FP_FAST_FMAF</code> 或 <code>FP_FAST_FMAL</code>，则对应函数 <code>fma</code>、<code>fmaf</code> 或 <code>fmal</code> 分别求值快于（并且精度高于）<code>double</code>、<code>float</code> 和 <code>long double</code> 实参的表达式 <code>x * y + z</code>。若定义，则这些宏求值为整数 <code>1</code>。</p><p>7） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>fmal</code>。否则若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fma</code>。否则调用<code>fmaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y, z</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>(x * y) + z</code> 的值，如同计算为无限精度再舍入一次以适合目标类型（或者说是作为单次三元浮点数运算计算）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若</p><p><code>x</code></p><p>为零而</p><p><code>y</code></p><p>为无穷大或</p><p><code>x</code></p><p>为无穷大而</p><p><code>y</code></p><p>为零，且</p><ul><li>若 <code>z</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若 <code>z</code> 为 NaN，则返回 NaN 并可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li></ul></li><li><p>若 <code>x * y</code> 为准确的无穷大且 <code>z</code> 为带相反符号的无穷大，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</p></li><li><p>若 <code>x</code> 或 <code>y</code> 为 NaN，则返回 NaN。</p></li><li><p>若 <code>z</code> 为 NaN，且 <code>x * y</code> 不是 <code>0 * Inf</code> 或 <code>Inf * 0</code>，则返回 NaN（而无 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>）。</p></li></ul><p><strong>注解</strong></p><p>​ 此运算经常在硬件中实现为<a href=https://en.wikipedia.org/wiki/Multiply%E2%80%93accumulate_operation>融合乘加</a> CPU 指令。若硬件支持，则期待定义相应的 <code>FP_FAST_FMA*</code> 宏，但多数实现即使在不定义这些宏时也利用该 CPU 指令。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/fma.html>POSIX 指定</a> <code>x * y</code> 非法且 <code>z</code> 为 NaN 的情形是定义域错误。</p><p>​ 由于其无限的中间精度，<code>fma</code> 是其他正确舍入数学运算，如 <a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt</a> 或甚至除法（在 CPU 不支持的平台上，例如 <a href=https://en.wikipedia.org/wiki/Itanium>Itanium</a>）的常用构建块。</p><p>​ 同所有浮点数表达式，表达式 <code>(x*y) + z</code> 可编译为融合乘加，除非 <a href=https://zh.cppreference.com/w/cpp/preprocessor/impl>#pragma</a> <code>STDC FP_CONTRACT</code> 为关闭。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 演示 fma 和内建运算符间的区别
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>in</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 double is %.23f (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3),&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34; or 1.0 if rounded to double</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>expr_result</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 * 10 - 1 = %g : 1 subtracted after &#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;intermediate rounding to 1.0</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>expr_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>fma_result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(0.1, 10, -1) = %g (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// fma 用于 double-double
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>in double-double arithmetic, 0.1 * 10 is representable as &#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>high</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>low</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>high</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%g + %g</span><span style=color:#d26464;font-weight:700>\n\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>high</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>low</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(+Inf, 10, -Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>0.1 double is 0.10000000000000000555112 (0x1.999999999999ap-4)
</span></span><span style=display:flex><span>0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3), or 1.0 if rounded to double
</span></span><span style=display:flex><span>0.1 * 10 - 1 = 0 : 1 subtracted after intermediate rounding to 1.0
</span></span><span style=display:flex><span>fma(0.1, 10, -1) = 5.55112e-17 (0x1p-54)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>in double-double arithmetic, 0.1 * 10 is representable as 1 + 5.55112e-17
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>fma(+Inf, 10, -Inf) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.13.1 The fma functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.10.1 The fma functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.13.1 The fma functions （第 188-189 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.10.1 The fma functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.13.1 The fma functions （第 258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.10.1 The fma functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.13.1 The fma functions （第 239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.10.1 The fma functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></th><th>计算浮点数除法运算的带符号余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>fma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fma>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fp_ilogb0>FP_ILOGB0</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>https://zh.cppreference.com/w/c/numeric/math/ilogb</a></p><p>作用：分别求值为当 x 为 0 或 NaN 时的 <code>ilogb(x)</code> (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogbf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogbl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ilogb( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ILOGB0    </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ILOGBNAN  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 从浮点数实参 <code>arg</code> 提取独立于基底的无偏指数，并将它作为有符号整数返回。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ilogbl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ilogb</code>。否则调用 <code>ilogbf</code>。</p><p>5） 展开成整数常量表达式，值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 或 <code>-[INT_MAX](http://zh.cppreference.com/w/c/types/limits)</code>。</p><p>6） 展开成整数常量表达式，值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 或 <code>+[INT_MAX](http://zh.cppreference.com/w/c/types/limits)</code>。</p><p>​ 正式而言，无偏指数是非零 <code>arg</code> 的 <em>logr|arg|</em> 的整数部分，作为有符号整数，其中 <code>r</code> 是 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回作为 int 值的 <code>arg</code> 的无偏指数。</p><p>​ 若 <code>arg</code> 为零，则返回 FP_ILOGB0。</p><p>​ 若 <code>arg</code> 为无穷大，则返回 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a>。</p><p>​ 若 <code>arg</code> 为 NaN，则返回 FP_ILOGBNAN。</p><p>​ 若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>，则返回值未指定，且可能出现定义域或值域错误。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零、无穷大或 NaN ，则可能出现定义域错误或值域错误。</p><p>​ 若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> ，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>arg</code> 为 ±0、 ±∞ 或 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>所有其他情况下，结果是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>）并且忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 不是零、无穷大或 NaN，则返回的值准确等价于 <code>(int)[logb](http://zh.cppreference.com/w/c/numeric/math/logb)(arg)</code>。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/ilogb.html>POSIX 要求</a>若 <code>arg</code> 为零、无穷大、NaN 或若正确结果在 <code>int</code> 的范围外则出现定义域错误。</p><p>​ POSIX 亦要求在 XSI 一致的系统上，正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 时返回值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a>，而正确结果小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 时返回值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>。</p><p>​ 在所有已知平台上正确结果都能表示成 <code>int</code>。对于要出现溢出的情况，<a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 必须小于 <code>[LDBL_MAX_EXP](http://zh.cppreference.com/w/c/types/limits) * log2([FLT_RADIX](http://zh.cppreference.com/w/c/types/limits))</code> 或 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 必须大于 <code>[LDBL_MIN_EXP](http://zh.cppreference.com/w/c/types/limits) - [LDBL_MANT_DIG](http://zh.cppreference.com/w/c/types/limits)) * log2([FLT_RADIX](http://zh.cppreference.com/w/c/types/limits))</code>。</p><p>​ <code>ilogb</code> 所返回的指数值始终比 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 所返回的小 1，因为不同的正规化要求：对于 <code>ilogb</code> 返回的指数 <code>e</code>，<em>|arg*r-e
|</em> 在 1 与 <code>r</code> 之间（典型地在 <code>1</code> 与 <code>2</code> 之间），但 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 返回的指数 <code>e</code>，<em>|arg*2-e
|</em> 在 <code>0.5</code> 与 <code>1</code> 之间。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ilogb(0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span><span style=display:flex><span>ilogb(0) = -2147483648
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 TBD 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 TBD 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 232 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 244 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 213 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 224-225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.5 The ilogb functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/logb>logb (C99)<br>logbf (C99)<br>logbl (C99)<br></a></td><td>提取给定数的指数（结果为浮点数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>ilogb</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ilogb>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fp_ilogbnan>FP_ILOGBNAN</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>https://zh.cppreference.com/w/c/numeric/math/ilogb</a></p><p>作用：分别求值为当 x 为 0 或 NaN 时的 <code>ilogb(x)</code> (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogbf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogbl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ilogb( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ILOGB0    </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ILOGBNAN  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 从浮点数实参 <code>arg</code> 提取独立于基底的无偏指数，并将它作为有符号整数返回。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ilogbl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ilogb</code>。否则调用 <code>ilogbf</code>。</p><p>5） 展开成整数常量表达式，值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 或 <code>-[INT_MAX](http://zh.cppreference.com/w/c/types/limits)</code>。</p><p>6） 展开成整数常量表达式，值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 或 <code>+[INT_MAX](http://zh.cppreference.com/w/c/types/limits)</code>。</p><p>​ 正式而言，无偏指数是非零 <code>arg</code> 的 <em>logr|arg|</em> 的整数部分，作为有符号整数，其中 <code>r</code> 是 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回作为 int 值的 <code>arg</code> 的无偏指数。</p><p>​ 若 <code>arg</code> 为零，则返回 FP_ILOGB0。</p><p>​ 若 <code>arg</code> 为无穷大，则返回 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a>。</p><p>​ 若 <code>arg</code> 为 NaN，则返回 FP_ILOGBNAN。</p><p>​ 若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>，则返回值未指定，且可能出现定义域或值域错误。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零、无穷大或 NaN ，则可能出现定义域错误或值域错误。</p><p>​ 若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> ，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>arg</code> 为 ±0、 ±∞ 或 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>所有其他情况下，结果是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>）并且忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 不是零、无穷大或 NaN，则返回的值准确等价于 <code>(int)[logb](http://zh.cppreference.com/w/c/numeric/math/logb)(arg)</code>。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/ilogb.html>POSIX 要求</a>若 <code>arg</code> 为零、无穷大、NaN 或若正确结果在 <code>int</code> 的范围外则出现定义域错误。</p><p>​ POSIX 亦要求在 XSI 一致的系统上，正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 时返回值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a>，而正确结果小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 时返回值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>。</p><p>​ 在所有已知平台上正确结果都能表示成 <code>int</code>。对于要出现溢出的情况，<a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 必须小于 <code>[LDBL_MAX_EXP](http://zh.cppreference.com/w/c/types/limits) * log2([FLT_RADIX](http://zh.cppreference.com/w/c/types/limits))</code> 或 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 必须大于 <code>[LDBL_MIN_EXP](http://zh.cppreference.com/w/c/types/limits) - [LDBL_MANT_DIG](http://zh.cppreference.com/w/c/types/limits)) * log2([FLT_RADIX](http://zh.cppreference.com/w/c/types/limits))</code>。</p><p>​ <code>ilogb</code> 所返回的指数值始终比 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 所返回的小 1，因为不同的正规化要求：对于 <code>ilogb</code> 返回的指数 <code>e</code>，<em>|arg*r-e
|</em> 在 1 与 <code>r</code> 之间（典型地在 <code>1</code> 与 <code>2</code> 之间），但 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 返回的指数 <code>e</code>，<em>|arg*2-e
|</em> 在 <code>0.5</code> 与 <code>1</code> 之间。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ilogb(0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span><span style=display:flex><span>ilogb(0) = -2147483648
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 TBD 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 TBD 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 232 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 244 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 213 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 224-225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.5 The ilogb functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/logb>logb (C99)<br>logbf (C99)<br>logbl (C99)<br></a></td><td>提取给定数的指数（结果为浮点数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>ilogb</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ilogb>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fp_infinite>FP_INFINITE</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/FP_categories>https://zh.cppreference.com/w/c/numeric/math/FP_categories</a></p><p>作用：指示浮点数类别 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_NORMAL    </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_SUBNORMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ZERO      </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_INFINITE  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_NAN       </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ <code>FP_NORMAL</code>、<code>FP_SUBNORMAL</code>、<code>FP_ZERO</code>、<code>FP_INFINITE</code>、<code>FP_NAN</code> 宏各代表一个独自的浮点数类别。它们都展开成整数常量表达式。</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>FP_NORMAL</code></td><td>指示值为<em>正规</em>，即不是无穷大、非正规、非数或零</td></tr><tr><td><code>FP_SUBNORMAL</code></td><td>指示值为<a href=https://en.wikipedia.org/wiki/Subnormal_number><em>非正规</em></a></td></tr><tr><td><code>FP_ZERO</code></td><td>指示值为正或负零</td></tr><tr><td><code>FP_INFINITE</code></td><td>指示值无法以底层类型表示（正或负无穷大）</td></tr><tr><td><code>FP_NAN</code></td><td>指示值是非数（NaN）</td></tr></tbody></table><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span> <span style=color:#54b1c7>*</span><span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>switch</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fpclassify</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>))</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_INFINITE</span><span style=color:#abb2bf>:</span>  <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;Inf&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NAN</span><span style=color:#abb2bf>:</span>       <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;NaN&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NORMAL</span><span style=color:#abb2bf>:</span>    <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;normal&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_SUBNORMAL</span><span style=color:#abb2bf>:</span> <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;subnormal&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_ZERO</span><span style=color:#abb2bf>:</span>      <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;zero&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>default</span><span style=color:#54b1c7>:</span>           <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;unknown&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.0/0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;DBL_MIN/2 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MIN</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;-0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34; 1.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>1.0/0.0 is Inf
</span></span><span style=display:flex><span>0.0/0.0 is NaN
</span></span><span style=display:flex><span>DBL_MIN/2 is subnormal
</span></span><span style=display:flex><span>-0.0 is zero
</span></span><span style=display:flex><span> 1.0 is normal
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 169-170 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 232 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 213 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>fpclassify (C99)<br></a></th><th>对给定的浮点数分类 (宏函数)</th></tr></thead><tbody><tr><td><strong>FP_categories</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/FP_categories>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fp_nan>FP_NAN</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/FP_categories>https://zh.cppreference.com/w/c/numeric/math/FP_categories</a></p><p>作用：指示浮点数类别 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_NORMAL    </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_SUBNORMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ZERO      </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_INFINITE  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_NAN       </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ <code>FP_NORMAL</code>、<code>FP_SUBNORMAL</code>、<code>FP_ZERO</code>、<code>FP_INFINITE</code>、<code>FP_NAN</code> 宏各代表一个独自的浮点数类别。它们都展开成整数常量表达式。</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>FP_NORMAL</code></td><td>指示值为<em>正规</em>，即不是无穷大、非正规、非数或零</td></tr><tr><td><code>FP_SUBNORMAL</code></td><td>指示值为<a href=https://en.wikipedia.org/wiki/Subnormal_number><em>非正规</em></a></td></tr><tr><td><code>FP_ZERO</code></td><td>指示值为正或负零</td></tr><tr><td><code>FP_INFINITE</code></td><td>指示值无法以底层类型表示（正或负无穷大）</td></tr><tr><td><code>FP_NAN</code></td><td>指示值是非数（NaN）</td></tr></tbody></table><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span> <span style=color:#54b1c7>*</span><span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>switch</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fpclassify</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>))</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_INFINITE</span><span style=color:#abb2bf>:</span>  <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;Inf&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NAN</span><span style=color:#abb2bf>:</span>       <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;NaN&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NORMAL</span><span style=color:#abb2bf>:</span>    <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;normal&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_SUBNORMAL</span><span style=color:#abb2bf>:</span> <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;subnormal&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_ZERO</span><span style=color:#abb2bf>:</span>      <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;zero&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>default</span><span style=color:#54b1c7>:</span>           <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;unknown&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.0/0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;DBL_MIN/2 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MIN</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;-0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34; 1.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>1.0/0.0 is Inf
</span></span><span style=display:flex><span>0.0/0.0 is NaN
</span></span><span style=display:flex><span>DBL_MIN/2 is subnormal
</span></span><span style=display:flex><span>-0.0 is zero
</span></span><span style=display:flex><span> 1.0 is normal
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 169-170 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 232 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 213 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>fpclassify (C99)<br></a></th><th>对给定的浮点数分类 (宏函数)</th></tr></thead><tbody><tr><td><strong>FP_categories</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/FP_categories>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fp_normal>FP_NORMAL</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/FP_categories>https://zh.cppreference.com/w/c/numeric/math/FP_categories</a></p><p>作用：指示浮点数类别 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_NORMAL    </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_SUBNORMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ZERO      </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_INFINITE  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_NAN       </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ <code>FP_NORMAL</code>、<code>FP_SUBNORMAL</code>、<code>FP_ZERO</code>、<code>FP_INFINITE</code>、<code>FP_NAN</code> 宏各代表一个独自的浮点数类别。它们都展开成整数常量表达式。</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>FP_NORMAL</code></td><td>指示值为<em>正规</em>，即不是无穷大、非正规、非数或零</td></tr><tr><td><code>FP_SUBNORMAL</code></td><td>指示值为<a href=https://en.wikipedia.org/wiki/Subnormal_number><em>非正规</em></a></td></tr><tr><td><code>FP_ZERO</code></td><td>指示值为正或负零</td></tr><tr><td><code>FP_INFINITE</code></td><td>指示值无法以底层类型表示（正或负无穷大）</td></tr><tr><td><code>FP_NAN</code></td><td>指示值是非数（NaN）</td></tr></tbody></table><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span> <span style=color:#54b1c7>*</span><span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>switch</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fpclassify</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>))</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_INFINITE</span><span style=color:#abb2bf>:</span>  <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;Inf&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NAN</span><span style=color:#abb2bf>:</span>       <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;NaN&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NORMAL</span><span style=color:#abb2bf>:</span>    <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;normal&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_SUBNORMAL</span><span style=color:#abb2bf>:</span> <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;subnormal&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_ZERO</span><span style=color:#abb2bf>:</span>      <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;zero&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>default</span><span style=color:#54b1c7>:</span>           <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;unknown&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.0/0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;DBL_MIN/2 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MIN</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;-0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34; 1.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>1.0/0.0 is Inf
</span></span><span style=display:flex><span>0.0/0.0 is NaN
</span></span><span style=display:flex><span>DBL_MIN/2 is subnormal
</span></span><span style=display:flex><span>-0.0 is zero
</span></span><span style=display:flex><span> 1.0 is normal
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 169-170 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 232 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 213 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>fpclassify (C99)<br></a></th><th>对给定的浮点数分类 (宏函数)</th></tr></thead><tbody><tr><td><strong>FP_categories</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/FP_categories>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fp_subnormal>FP_SUBNORMAL</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/FP_categories>https://zh.cppreference.com/w/c/numeric/math/FP_categories</a></p><p>作用：指示浮点数类别 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_NORMAL    </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_SUBNORMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ZERO      </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_INFINITE  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_NAN       </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ <code>FP_NORMAL</code>、<code>FP_SUBNORMAL</code>、<code>FP_ZERO</code>、<code>FP_INFINITE</code>、<code>FP_NAN</code> 宏各代表一个独自的浮点数类别。它们都展开成整数常量表达式。</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>FP_NORMAL</code></td><td>指示值为<em>正规</em>，即不是无穷大、非正规、非数或零</td></tr><tr><td><code>FP_SUBNORMAL</code></td><td>指示值为<a href=https://en.wikipedia.org/wiki/Subnormal_number><em>非正规</em></a></td></tr><tr><td><code>FP_ZERO</code></td><td>指示值为正或负零</td></tr><tr><td><code>FP_INFINITE</code></td><td>指示值无法以底层类型表示（正或负无穷大）</td></tr><tr><td><code>FP_NAN</code></td><td>指示值是非数（NaN）</td></tr></tbody></table><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span> <span style=color:#54b1c7>*</span><span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>switch</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fpclassify</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>))</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_INFINITE</span><span style=color:#abb2bf>:</span>  <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;Inf&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NAN</span><span style=color:#abb2bf>:</span>       <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;NaN&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NORMAL</span><span style=color:#abb2bf>:</span>    <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;normal&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_SUBNORMAL</span><span style=color:#abb2bf>:</span> <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;subnormal&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_ZERO</span><span style=color:#abb2bf>:</span>      <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;zero&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>default</span><span style=color:#54b1c7>:</span>           <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;unknown&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.0/0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;DBL_MIN/2 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MIN</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;-0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34; 1.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>1.0/0.0 is Inf
</span></span><span style=display:flex><span>0.0/0.0 is NaN
</span></span><span style=display:flex><span>DBL_MIN/2 is subnormal
</span></span><span style=display:flex><span>-0.0 is zero
</span></span><span style=display:flex><span> 1.0 is normal
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 169-170 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 232 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 213 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>fpclassify (C99)<br></a></th><th>对给定的浮点数分类 (宏函数)</th></tr></thead><tbody><tr><td><strong>FP_categories</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/FP_categories>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fp_zero>FP_ZERO</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/FP_categories>https://zh.cppreference.com/w/c/numeric/math/FP_categories</a></p><p>作用：指示浮点数类别 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_NORMAL    </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_SUBNORMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ZERO      </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_INFINITE  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_NAN       </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ <code>FP_NORMAL</code>、<code>FP_SUBNORMAL</code>、<code>FP_ZERO</code>、<code>FP_INFINITE</code>、<code>FP_NAN</code> 宏各代表一个独自的浮点数类别。它们都展开成整数常量表达式。</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>FP_NORMAL</code></td><td>指示值为<em>正规</em>，即不是无穷大、非正规、非数或零</td></tr><tr><td><code>FP_SUBNORMAL</code></td><td>指示值为<a href=https://en.wikipedia.org/wiki/Subnormal_number><em>非正规</em></a></td></tr><tr><td><code>FP_ZERO</code></td><td>指示值为正或负零</td></tr><tr><td><code>FP_INFINITE</code></td><td>指示值无法以底层类型表示（正或负无穷大）</td></tr><tr><td><code>FP_NAN</code></td><td>指示值是非数（NaN）</td></tr></tbody></table><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span> <span style=color:#54b1c7>*</span><span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>switch</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fpclassify</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>))</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_INFINITE</span><span style=color:#abb2bf>:</span>  <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;Inf&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NAN</span><span style=color:#abb2bf>:</span>       <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;NaN&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NORMAL</span><span style=color:#abb2bf>:</span>    <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;normal&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_SUBNORMAL</span><span style=color:#abb2bf>:</span> <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;subnormal&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_ZERO</span><span style=color:#abb2bf>:</span>      <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;zero&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>default</span><span style=color:#54b1c7>:</span>           <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;unknown&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.0/0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;DBL_MIN/2 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MIN</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;-0.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34; 1.0 is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>1.0/0.0 is Inf
</span></span><span style=display:flex><span>0.0/0.0 is NaN
</span></span><span style=display:flex><span>DBL_MIN/2 is subnormal
</span></span><span style=display:flex><span>-0.0 is zero
</span></span><span style=display:flex><span> 1.0 is normal
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 169-170 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 232 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12/6 FP_NORMAL, &mldr; （第 213 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>fpclassify (C99)<br></a></th><th>对给定的浮点数分类 (宏函数)</th></tr></thead><tbody><tr><td><strong>FP_categories</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/FP_categories>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=huge_val>HUGE_VAL</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL</a></p><p>作用：分别指示过大而无法以 <code>float</code>、<code>double</code> 和 <code>long double</code> 表示的值（无穷大） (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define HUGE_VALF </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define HUGE_VAL  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#define HUGE_VALL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ <code>HUGE_VALF</code>、<code>HUGE_VAL</code> 和 <code>HUGE_VALL</code> 宏展开成正浮点数常量表达式，它们比较等于上溢情况中浮点数函数和运算符的返回值（见 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a>）。</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>HUGE_VALF</code></td><td>展开成指示上溢的正 <code>float</code> 表达式</td></tr><tr><td><code>HUGE_VAL</code></td><td>展开成指示上溢的正 <code>double</code> 表达式，不必可表示为 <code>float</code></td></tr><tr><td><code>HUGE_VALL</code></td><td>展开成指示上溢的正 <code>long double</code> 表达式，不必可表示为 <code>float</code> 或 <code>double</code></td></tr></tbody></table><p>​ 在支持浮点数无穷大的平台上，这些宏始终分别展开成 <code>float</code>、<code>double</code> 和 <code>long double</code> 的正无穷大。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>1.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 == %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>result</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>HUGE_VAL</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 == HUGE_VAL&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>1.0/0.0 == inf
</span></span><span style=display:flex><span>1.0/0.0 == HUGE_VAL
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li><li><p>F.10/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li><li><p>F.10/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 231 页）</p></li><li><p>F.10/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 517 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 212 页）</p></li><li><p>F.9/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 454 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5 HUGE_VAL</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/INFINITY>INFINITY (C99)<br></a></th><th>求值为正无穷大或保证溢出 <code>float</code> 的值 (宏常量)</th></tr></thead><tbody><tr><td><strong>HUGE_VAL</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/HUGE_VAL>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=huge_valf>HUGE_VALF</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL</a></p><p>作用：分别指示过大而无法以 <code>float</code>、<code>double</code> 和 <code>long double</code> 表示的值（无穷大） (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define HUGE_VALF </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define HUGE_VAL  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#define HUGE_VALL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ <code>HUGE_VALF</code>、<code>HUGE_VAL</code> 和 <code>HUGE_VALL</code> 宏展开成正浮点数常量表达式，它们比较等于上溢情况中浮点数函数和运算符的返回值（见 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a>）。</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>HUGE_VALF</code></td><td>展开成指示上溢的正 <code>float</code> 表达式</td></tr><tr><td><code>HUGE_VAL</code></td><td>展开成指示上溢的正 <code>double</code> 表达式，不必可表示为 <code>float</code></td></tr><tr><td><code>HUGE_VALL</code></td><td>展开成指示上溢的正 <code>long double</code> 表达式，不必可表示为 <code>float</code> 或 <code>double</code></td></tr></tbody></table><p>​ 在支持浮点数无穷大的平台上，这些宏始终分别展开成 <code>float</code>、<code>double</code> 和 <code>long double</code> 的正无穷大。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>1.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 == %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>result</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>HUGE_VAL</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 == HUGE_VAL&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>1.0/0.0 == inf
</span></span><span style=display:flex><span>1.0/0.0 == HUGE_VAL
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li><li><p>F.10/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li><li><p>F.10/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 231 页）</p></li><li><p>F.10/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 517 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 212 页）</p></li><li><p>F.9/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 454 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5 HUGE_VAL</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/INFINITY>INFINITY (C99)<br></a></th><th>求值为正无穷大或保证溢出 <code>float</code> 的值 (宏常量)</th></tr></thead><tbody><tr><td><strong>HUGE_VAL</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/HUGE_VAL>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=huge_vall>HUGE_VALL</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL</a></p><p>作用：分别指示过大而无法以 <code>float</code>、<code>double</code> 和 <code>long double</code> 表示的值（无穷大） (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define HUGE_VALF </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define HUGE_VAL  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#define HUGE_VALL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ <code>HUGE_VALF</code>、<code>HUGE_VAL</code> 和 <code>HUGE_VALL</code> 宏展开成正浮点数常量表达式，它们比较等于上溢情况中浮点数函数和运算符的返回值（见 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a>）。</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>HUGE_VALF</code></td><td>展开成指示上溢的正 <code>float</code> 表达式</td></tr><tr><td><code>HUGE_VAL</code></td><td>展开成指示上溢的正 <code>double</code> 表达式，不必可表示为 <code>float</code></td></tr><tr><td><code>HUGE_VALL</code></td><td>展开成指示上溢的正 <code>long double</code> 表达式，不必可表示为 <code>float</code> 或 <code>double</code></td></tr></tbody></table><p>​ 在支持浮点数无穷大的平台上，这些宏始终分别展开成 <code>float</code>、<code>double</code> 和 <code>long double</code> 的正无穷大。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>1.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 == %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>result</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>HUGE_VAL</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 == HUGE_VAL&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>1.0/0.0 == inf
</span></span><span style=display:flex><span>1.0/0.0 == HUGE_VAL
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li><li><p>F.10/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li><li><p>F.10/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 231 页）</p></li><li><p>F.10/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 517 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/3 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 212 页）</p></li><li><p>F.9/2 HUGE_VAL, HUGE_VALF, HUGE_VALL （第 454 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5 HUGE_VAL</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/INFINITY>INFINITY (C99)<br></a></th><th>求值为正无穷大或保证溢出 <code>float</code> 的值 (宏常量)</th></tr></thead><tbody><tr><td><strong>HUGE_VAL</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/HUGE_VAL>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=infinity>INFINITY</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/INFINITY>https://zh.cppreference.com/w/c/numeric/math/INFINITY</a></p><p>作用：求值为正无穷大或保证溢出 <code>float</code> 的值 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define INFINITY </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 若实现支持浮点数无穷大，则宏 <code>INFINITY</code> 展开成求值为正或无符号无穷大的 <code>float</code> 类型常量表达式。</p><p>​ 若实现不支持浮点数无穷大，则宏 <code>INFINITY</code> 展开成保证在编译时上溢 <code>float</code> 的正值，而此宏的使用生成编译器警告。</p><p>​ 用于打印无穷大的风格是实现定义的。</p><p><strong>示例</strong></p><p>​ 显示用于打印无穷大的风格及其 IEEE 格式。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdint.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;inttypes.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>fn</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>fn</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;INFINITY:   %f %&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fn</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>INFINITY:   inf 7ff0000000000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12/4 INFINITY （第 231-232 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12/4 INFINITY （第 212-213 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isinf>isinf (C99)<br></a></th><th>检查给定数是否是无穷大 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>HUGE_VALF (C99)<br>HUGE_VAL (C99)<br>HUGE_VALL<br></a></td><td>分别指示过大而无法以 <code>float</code>、<code>double</code> 和 <code>long double</code> 表示的值（无穷大） (宏常量)</td></tr><tr><td><strong>INFINITY</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/INFINITY>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=math_errexcept>MATH_ERREXCEPT</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>https://zh.cppreference.com/w/c/numeric/math/math_errhandling</a></p><p>作用：定义用于常用数学函数的错误处理机制 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define MATH_ERRNO        1</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define MATH_ERREXCEPT    2</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define math_errhandling  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 宏常量 <code>math_errhandling</code> 展开成 <code>int</code> 类型的表达式，要么等于 <code>MATH_ERRNO</code>，要么等于 <code>MATH_ERREXCEPT</code>，要么等于其逐位或（<code>MATH_ERRNO | MATH_ERREXCEPT</code>）。</p><p>​ <code>math_errhandling</code> 的值指示浮点数运算符和<a href=https://zh.cppreference.com/w/c/numeric/math>函数</a>所进行的错误处理：</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>MATH_ERREXCEPT</code></td><td>指示使用浮点数异常：<code>&lt;fenv.h></code> 中至少定义了 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>、<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 及 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_OVERFLOW</a>。</td></tr><tr><td><code>MATH_ERRNO</code></td><td>指明浮点数运算使用变量 <a href=https://zh.cppreference.com/w/c/error/errno>errno</a> 报告错误。</td></tr></tbody></table><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则要求 <code>math_errhandling & MATH_ERREXCEPT</code> 非零。</p><p>​ 识别下列浮点数错误条件：</p><table><thead><tr><th style=text-align:center>条件</th><th style=text-align:center>解释</th><th style=text-align:center>errno</th><th style=text-align:center>浮点数异常</th><th style=text-align:center>示例</th></tr></thead><tbody><tr><td style=text-align:center>定义域错误</td><td style=text-align:center>实参在该运算的数学上的定义域之外（<a href=https://zh.cppreference.com/w/c/numeric/math>每个函数</a>的描述列出了要求的定义域错误）</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>EDOM</a></td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></td><td style=text-align:center><code>[acos](http://zh.cppreference.com/w/c/numeric/math/acos)(2)</code></td></tr><tr><td style=text-align:center>极点错误</td><td style=text-align:center>函数的数学结果恰是无限大或未定义</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>ERANGE</a></td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></td><td style=text-align:center><code>[log](http://zh.cppreference.com/w/c/numeric/math/log)(0.0)</code>、<code>1.0/0.0</code></td></tr><tr><td style=text-align:center>上溢所致的值域错误</td><td style=text-align:center>数学结果有限，但舍入后变为无限，或在向下舍入后变成最大可表示有限值</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>ERANGE</a></td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_OVERFLOW</a></td><td style=text-align:center><code>[pow](http://zh.cppreference.com/w/c/numeric/math/pow)([DBL_MAX](http://zh.cppreference.com/w/c/types/limits),2)</code></td></tr><tr><td style=text-align:center>下溢所致的值域错误</td><td style=text-align:center>结果非零，但因为舍入变为零，或变成非正规并有精度损失</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>ERANGE</a> 或不改变（实现定义）</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_UNDERFLOW</a> 或无（实现定义）</td><td style=text-align:center><code>DBL_TRUE_MIN/2</code></td></tr><tr><td style=text-align:center>结果不准确</td><td style=text-align:center>结果必须被舍入到目标类型</td><td style=text-align:center>不改变</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>或无（未指定）</td><td style=text-align:center><code>[sqrt](http://zh.cppreference.com/w/c/numeric/math/sqrt)(2)</code>、<code>1.0/10.0</code></td></tr></tbody></table><p><strong>注意</strong></p><p>​ 通常，<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 是否为数学库函数所引发是未指定的，但这可以显式指定于函数的描述（例如 <a href=https://zh.cppreference.com/w/c/numeric/math/rint>rint</a> vs <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a>）。</p><p>​ C99 前，浮点数异常是未指定的，要求对于任何定义于错误发生 <code>[EDOM](http://zh.cppreference.com/w/c/error/errno_macros)</code>，要求对上溢和实现定义的下溢发生 <code>[ERANGE](http://zh.cppreference.com/w/c/error/errno_macros)</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;MATH_ERRNO is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>math_errhandling</span> <span style=color:#54b1c7>&amp;</span> <span style=color:#aa89ea>MATH_ERRNO</span> <span style=color:#54b1c7>?</span> <span style=color:#98c379>&#34;set&#34;</span> <span style=color:#54b1c7>:</span> <span style=color:#98c379>&#34;not set&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;MATH_ERREXCEPT is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#aa89ea>math_errhandling</span> <span style=color:#54b1c7>&amp;</span> <span style=color:#aa89ea>MATH_ERREXCEPT</span> <span style=color:#54b1c7>?</span> <span style=color:#98c379>&#34;set&#34;</span> <span style=color:#54b1c7>:</span> <span style=color:#98c379>&#34;not set&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;FE_DIVBYZERO (pole error) reported&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>MATH_ERRNO is set
</span></span><span style=display:flex><span>MATH_ERREXCEPT is set
</span></span><span style=display:flex><span>log(0) = -inf
</span></span><span style=display:flex><span>errno = ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>FE_DIVBYZERO (pole error) reported
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/9 MATH_ERRNO, MATH_ERREXCEPT, math_errhandling （第 170 页）</p></li><li><p>F.10/4 MATH_ERREXCEPT, math_errhandling （第 377 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/9 MATH_ERRNO, MATH_ERREXCEPT, math_errhandling （第 233 页）</p></li><li><p>F.10/4 MATH_ERREXCEPT, math_errhandling （第 517 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/9 MATH_ERRNO, MATH_ERREXCEPT, math_errhandling （第 214 页）</p></li><li><p>F.9/4 MATH_ERREXCEPT, math_errhandling> （第 454 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_ALL_EXCEPT (C99)<br>FE_DIVBYZERO (C99)<br>FE_INEXACT<br>FE_INVALID<br>FE_OVERFLOW<br>FE_UNDERFLOW<br></a></th><th>浮点数异常 (宏常量)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/error/errno>errno<br></a></td><td>展开成 POSIX 兼容的线程局域错误编号变量 (宏变量)</td></tr><tr><td><strong>math_errhandling</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/math_errhandling>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=math_errno>MATH_ERRNO</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>https://zh.cppreference.com/w/c/numeric/math/math_errhandling</a></p><p>作用：定义用于常用数学函数的错误处理机制 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define MATH_ERRNO        1</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define MATH_ERREXCEPT    2</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define math_errhandling  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 宏常量 <code>math_errhandling</code> 展开成 <code>int</code> 类型的表达式，要么等于 <code>MATH_ERRNO</code>，要么等于 <code>MATH_ERREXCEPT</code>，要么等于其逐位或（<code>MATH_ERRNO | MATH_ERREXCEPT</code>）。</p><p>​ <code>math_errhandling</code> 的值指示浮点数运算符和<a href=https://zh.cppreference.com/w/c/numeric/math>函数</a>所进行的错误处理：</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>MATH_ERREXCEPT</code></td><td>指示使用浮点数异常：<code>&lt;fenv.h></code> 中至少定义了 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>、<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 及 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_OVERFLOW</a>。</td></tr><tr><td><code>MATH_ERRNO</code></td><td>指明浮点数运算使用变量 <a href=https://zh.cppreference.com/w/c/error/errno>errno</a> 报告错误。</td></tr></tbody></table><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则要求 <code>math_errhandling & MATH_ERREXCEPT</code> 非零。</p><p>​ 识别下列浮点数错误条件：</p><table><thead><tr><th style=text-align:center>条件</th><th style=text-align:center>解释</th><th style=text-align:center>errno</th><th style=text-align:center>浮点数异常</th><th style=text-align:center>示例</th></tr></thead><tbody><tr><td style=text-align:center>定义域错误</td><td style=text-align:center>实参在该运算的数学上的定义域之外（<a href=https://zh.cppreference.com/w/c/numeric/math>每个函数</a>的描述列出了要求的定义域错误）</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>EDOM</a></td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></td><td style=text-align:center><code>[acos](http://zh.cppreference.com/w/c/numeric/math/acos)(2)</code></td></tr><tr><td style=text-align:center>极点错误</td><td style=text-align:center>函数的数学结果恰是无限大或未定义</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>ERANGE</a></td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></td><td style=text-align:center><code>[log](http://zh.cppreference.com/w/c/numeric/math/log)(0.0)</code>、<code>1.0/0.0</code></td></tr><tr><td style=text-align:center>上溢所致的值域错误</td><td style=text-align:center>数学结果有限，但舍入后变为无限，或在向下舍入后变成最大可表示有限值</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>ERANGE</a></td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_OVERFLOW</a></td><td style=text-align:center><code>[pow](http://zh.cppreference.com/w/c/numeric/math/pow)([DBL_MAX](http://zh.cppreference.com/w/c/types/limits),2)</code></td></tr><tr><td style=text-align:center>下溢所致的值域错误</td><td style=text-align:center>结果非零，但因为舍入变为零，或变成非正规并有精度损失</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>ERANGE</a> 或不改变（实现定义）</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_UNDERFLOW</a> 或无（实现定义）</td><td style=text-align:center><code>DBL_TRUE_MIN/2</code></td></tr><tr><td style=text-align:center>结果不准确</td><td style=text-align:center>结果必须被舍入到目标类型</td><td style=text-align:center>不改变</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>或无（未指定）</td><td style=text-align:center><code>[sqrt](http://zh.cppreference.com/w/c/numeric/math/sqrt)(2)</code>、<code>1.0/10.0</code></td></tr></tbody></table><p><strong>注意</strong></p><p>​ 通常，<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 是否为数学库函数所引发是未指定的，但这可以显式指定于函数的描述（例如 <a href=https://zh.cppreference.com/w/c/numeric/math/rint>rint</a> vs <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a>）。</p><p>​ C99 前，浮点数异常是未指定的，要求对于任何定义于错误发生 <code>[EDOM](http://zh.cppreference.com/w/c/error/errno_macros)</code>，要求对上溢和实现定义的下溢发生 <code>[ERANGE](http://zh.cppreference.com/w/c/error/errno_macros)</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;MATH_ERRNO is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>math_errhandling</span> <span style=color:#54b1c7>&amp;</span> <span style=color:#aa89ea>MATH_ERRNO</span> <span style=color:#54b1c7>?</span> <span style=color:#98c379>&#34;set&#34;</span> <span style=color:#54b1c7>:</span> <span style=color:#98c379>&#34;not set&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;MATH_ERREXCEPT is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#aa89ea>math_errhandling</span> <span style=color:#54b1c7>&amp;</span> <span style=color:#aa89ea>MATH_ERREXCEPT</span> <span style=color:#54b1c7>?</span> <span style=color:#98c379>&#34;set&#34;</span> <span style=color:#54b1c7>:</span> <span style=color:#98c379>&#34;not set&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;FE_DIVBYZERO (pole error) reported&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>MATH_ERRNO is set
</span></span><span style=display:flex><span>MATH_ERREXCEPT is set
</span></span><span style=display:flex><span>log(0) = -inf
</span></span><span style=display:flex><span>errno = ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>FE_DIVBYZERO (pole error) reported
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/9 MATH_ERRNO, MATH_ERREXCEPT, math_errhandling （第 170 页）</p></li><li><p>F.10/4 MATH_ERREXCEPT, math_errhandling （第 377 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/9 MATH_ERRNO, MATH_ERREXCEPT, math_errhandling （第 233 页）</p></li><li><p>F.10/4 MATH_ERREXCEPT, math_errhandling （第 517 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/9 MATH_ERRNO, MATH_ERREXCEPT, math_errhandling （第 214 页）</p></li><li><p>F.9/4 MATH_ERREXCEPT, math_errhandling> （第 454 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_ALL_EXCEPT (C99)<br>FE_DIVBYZERO (C99)<br>FE_INEXACT<br>FE_INVALID<br>FE_OVERFLOW<br>FE_UNDERFLOW<br></a></th><th>浮点数异常 (宏常量)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/error/errno>errno<br></a></td><td>展开成 POSIX 兼容的线程局域错误编号变量 (宏变量)</td></tr><tr><td><strong>math_errhandling</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/math_errhandling>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=nan>NAN</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/NAN>https://zh.cppreference.com/w/c/numeric/math/NAN</a></p><p>作用：求值为 <code>float</code> 类型的安静 NaN (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define NAN </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 宏 <code>NAN</code> 展开成求值为安静非数（QNaN）的 <code>float</code> 类型常量表达式。若实现不支持 QNaN，则不定义此宏。</p><p>​ 用于打印 NaN 的风格是实现定义的。</p><p><strong>注意</strong></p><p>​ 有许多不同的 NaN 值，区别于其载荷与其符号位。宏 <code>NAN</code> 所生成的 NaN 的载荷与符号位的内容是实现定义的。</p><p><strong>示例</strong></p><p>​ 显示用于打印 NaN 的风格和 IEEE 格式。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;inttypes.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdint.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>fn</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>fn</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;NAN:   %f %&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fn</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>NAN:   nan 7ff8000000000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12/5 NAN （第 TBD 页）</p></li><li><p>F.10/11/13 NAN （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/5 NAN （第 TBD 页）</p></li><li><p>F.10/11/13 NAN （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/5 NAN （第 232 页）</p></li><li><p>F.10/11/13 NAN （第 518 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/5 NAN （第 213 页）</p></li><li><p>F.9/11/13 NAN （第 455 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/nan>nan (C99)<br>nanf (C99)<br>nanl (C99)<br></a></th><th>返回 NaN（非数） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isnan>isnan (C99)<br></a></td><td>检查给定数是否为 NaN (宏函数)</td></tr><tr><td><strong>NAN</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/NAN>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=__stdc_version_math_h__><strong>STDC_VERSION_MATH_H</strong></h3><p>原址：</p><p>作用：</p><p>备注：</p><h3 id=fpclassify>fpclassify</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>https://zh.cppreference.com/w/c/numeric/math/fpclassify</a></p><p>作用：对给定的浮点数分类 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fpclassify(arg) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 归类浮点数 <code>arg</code> 到下列类别中：零、非正规、正规、无穷大、NaN 或实现定义类别。该宏返回整数。</p><p>​ 忽略 <a href=https://zh.cppreference.com/w/c/types/limits/FLT_EVAL_METHOD>FLT_EVAL_METHOD</a>：即使以多于实参类型的范围和精度对它求值，首先仍将它转换到其语义类型，然后基于该类型分类：正规的 <code>long double</code> 值可能在转换到 <code>double</code> 时变为非正规，而在转换到 <code>float</code> 时变为零。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 指明 <code>arg</code> 类别的 <a href=https://zh.cppreference.com/w/c/numeric/math/FP_categories>FP_INFINITE</a>、<a href=https://zh.cppreference.com/w/c/numeric/math/FP_categories>FP_NAN</a>、<a href=https://zh.cppreference.com/w/c/numeric/math/FP_categories>FP_NORMAL</a>、<a href=https://zh.cppreference.com/w/c/numeric/math/FP_categories>FP_SUBNORMAL</a>、<a href=https://zh.cppreference.com/w/c/numeric/math/FP_categories>FP_ZERO</a> 或实现定义类型之一。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span> <span style=color:#54b1c7>*</span><span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>switch</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fpclassify</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_INFINITE</span><span style=color:#abb2bf>:</span>  <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;Inf&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NAN</span><span style=color:#abb2bf>:</span>       <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;NaN&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_NORMAL</span><span style=color:#abb2bf>:</span>    <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;正规&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_SUBNORMAL</span><span style=color:#abb2bf>:</span> <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;非正规&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>case</span> <span style=color:#f5a40d>FP_ZERO</span><span style=color:#abb2bf>:</span>      <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;零&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>default</span><span style=color:#54b1c7>:</span>           <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;未知&#34;</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0/0.0 为 %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.0/0.0 为 %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;DBL_MIN/2 为 %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MIN</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;-0.0 为 %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1.0 为 %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>show_classification</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>1.0/0.0 为 Inf
</span></span><span style=display:flex><span>0.0/0.0 为 NaN
</span></span><span style=display:flex><span>DBL_MIN/2 为 非正规
</span></span><span style=display:flex><span>-0.0 为 零
</span></span><span style=display:flex><span>1.0 为 正规
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li>7.12.3.1 The fpclassify macro （第 TBD 页）</li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12.3.1 The fpclassify macro （第 TBD 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12.3.1 The fpclassify macro （第 235 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.3.1 The fpclassify macro （第 216 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isfinite>isfinite (C99)<br></a></th><th>检查给定数是否具有有限值 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isinf>isinf (C99)<br></a></td><td>检查给定数是否是无穷大 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isnan>isnan (C99)<br></a></td><td>检查给定数是否为 NaN (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isnormal>isnormal (C99)<br></a></td><td>检查给定数是否正规 (宏函数)</td></tr><tr><td><strong>fpclassify</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fpclassify>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=isfinite>isfinite</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/isfinite>https://zh.cppreference.com/w/c/numeric/math/isfinite</a></p><p>作用：检查给定数是否具有有限值 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define isfinite(arg) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定给定的浮点数 <code>arg</code> 是否拥有有限值，即它是正规、非正规或零，但不是无穷大或 NaN。该宏返回整数。</p><p>​ 忽略 <a href=https://zh.cppreference.com/w/c/types/limits/FLT_EVAL_METHOD>FLT_EVAL_METHOD</a>：即使以多于实参类型的范围和精度对它求值，首先仍将它转换到其语义类型，然后分类基于该类型。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>arg</code> 拥有有限值则返回非零整数，否则返回 <code>0</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isfinite(NAN)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isfinite</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isfinite(INFINITY)    = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isfinite</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isfinite(0.0)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isfinite</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isfinite(DBL_MIN/2.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isfinite</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MIN</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isfinite(1.0)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isfinite</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isfinite(exp(800))    = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isfinite</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>800</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>isfinite(NAN)         = 0
</span></span><span style=display:flex><span>isfinite(INFINITY)    = 0
</span></span><span style=display:flex><span>isfinite(0.0)         = 1
</span></span><span style=display:flex><span>isfinite(DBL_MIN/2.0) = 1
</span></span><span style=display:flex><span>isfinite(1.0)         = 1
</span></span><span style=display:flex><span>isfinite(exp(800))    = 0
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li>7.12.3.2 The isfinite macro （第 TBD 页）</li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12.3.2 The isfinite macro （第 TBD 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12.3.2 The isfinite macro （第 236 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.3.2 The isfinite macro （第 216-217 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>fpclassify (C99)<br></a></th><th>对给定的浮点数分类 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isinf>isinf (C99)<br></a></td><td>检查给定数是否是无穷大 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isnan>isnan (C99)<br></a></td><td>检查给定数是否为 NaN (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isnormal>isnormal (C99)<br></a></td><td>检查给定数是否正规 (宏函数)</td></tr><tr><td><strong>isfinite</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/isfinite>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=isgreater>isgreater</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/isgreater>https://zh.cppreference.com/w/c/numeric/math/isgreater</a></p><p>作用：检查第一个浮点数实参是否大于第二个 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define isgreater(x, y) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定浮点数 <code>x</code> 是否大于浮点数 <code>y</code>，而不设置浮点数异常。</p><p><strong>参数</strong></p><table><thead><tr><th>x</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>y</td><td>-</td><td>浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>x > y</code> 则为非零整数，否则为 <code>0</code>。</p><p><strong>注解</strong></p><p>​ 若一或两个参数为 NaN，则内建的 <code>operator></code> 对浮点数可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。此宏是 <code>operator></code> 的“安静”版本。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isgreater(2.0,1.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isgreater</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isgreater(1.0,2.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isgreater</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isgreater(INFINITY,1.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isgreater</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isgreater(1.0,NAN)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isgreater</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>isgreater(2.0,1.0)      = 1
</span></span><span style=display:flex><span>isgreater(1.0,2.0)      = 0
</span></span><span style=display:flex><span>isgreater(INFINITY,1.0) = 1
</span></span><span style=display:flex><span>isgreater(1.0,NAN)      = 0
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.14.1 The isgreater macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.14.1 The isgreater macro （第 189 页）</p></li><li><p>F.10.11 Comparison macros （第 386-387 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.14.1 The isgreater macro （第 259 页）</p></li><li><p>F.10.11 Comparison macros （第 531 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.14.1 The isgreater macro （第 240 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isless>isless (C99)<br></a></th><th>检查第一个浮点数实参是否小于第二个 (宏函数)</th></tr></thead><tbody><tr><td><strong>isgreater</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/isgreater>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=isgreaterequal>isgreaterequal</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/isgreaterequal>https://zh.cppreference.com/w/c/numeric/math/isgreaterequal</a></p><p>作用：检查第一个浮点数实参是否大于等于第二个 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define isgreaterequal(x, y) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定浮点数 <code>x</code> 是否大于或等于浮点数 <code>y</code>，而不设置浮点数异常。</p><p><strong>参数</strong></p><table><thead><tr><th>x</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>y</td><td>-</td><td>浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>x >= y</code> 则为非零整数，否则为 <code>0</code>。</p><p><strong>注解</strong></p><p>​ 若一或两个参数为 NaN，则内建的 <code>operator>=</code> 对浮点数可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。此宏是 <code>operator>=</code> 的“安静”版本。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isgreaterequal(2.0,1.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isgreaterequal</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isgreaterequal(1.0,2.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isgreaterequal</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isgreaterequal(1.0,1.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isgreaterequal</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isgreaterequal(INFINITY,1.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isgreaterequal</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isgreaterequal(1.0,NAN)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isgreaterequal</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>isgreaterequal(2.0,1.0)      = 1
</span></span><span style=display:flex><span>isgreaterequal(1.0,2.0)      = 0
</span></span><span style=display:flex><span>isgreaterequal(1.0,1.0)      = 1
</span></span><span style=display:flex><span>isgreaterequal(INFINITY,1.0) = 1
</span></span><span style=display:flex><span>isgreaterequal(1.0,NAN)      = 0
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.14.2 The isgreaterequal macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.14.2 The isgreaterequal macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.14.2 The isgreaterequal macro （第 259-260 页）</p></li><li><p>F.10.11 Comparison macros （第 531 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.14.2 The isgreaterequal macro （第 240-241 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/islessequal>islessequal (C99)<br></a></th><th>检查第一个浮点数实参是否小于或等于第二个 (宏函数)</th></tr></thead><tbody><tr><td><strong>isgreaterequal</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/isgreaterequal>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=isinf>isinf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/isinf>https://zh.cppreference.com/w/c/numeric/math/isinf</a></p><p>作用：检查给定数是否是无穷大 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define isinf(arg) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定给定的浮点数 <code>arg</code> 是否正或负无穷大。该宏返回整数。</p><p>​ 忽略 <a href=https://zh.cppreference.com/w/c/types/limits/FLT_EVAL_METHOD>FLT_EVAL_METHOD</a>：即使以多于实参类型的范围和精度对它求值，首先仍将它转换到其语义类型，然后分类基于该类型。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>arg</code> 拥有无穷大值则为返回非零整数，否则返回 <code>0</code> 。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isinf(NAN)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isinf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isinf(INFINITY)    = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isinf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isinf(0.0)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isinf</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isinf(DBL_MIN/2.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isinf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MIN</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isinf(1.0)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isinf</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isinf(exp(800))    = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isinf</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>800</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>isinf(NAN)         = 0
</span></span><span style=display:flex><span>isinf(INFINITY)    = 1
</span></span><span style=display:flex><span>isinf(0.0)         = 0
</span></span><span style=display:flex><span>isinf(DBL_MIN/2.0) = 0
</span></span><span style=display:flex><span>isinf(1.0)         = 0
</span></span><span style=display:flex><span>isinf(exp(800))    = 1
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12.3.3 The isinf macro （第 236 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.3.3 The isinf macro （第 217 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>fpclassify (C99)<br></a></th><th>对给定的浮点数分类 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isfinite>isfinite (C99)<br></a></td><td>检查给定数是否具有有限值 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isnan>isnan (C99)<br></a></td><td>检查给定数是否为 NaN (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isnormal>isnormal (C99)<br></a></td><td>检查给定数是否正规 (宏函数)</td></tr><tr><td><strong>isinf</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/isinf>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=isless>isless</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/isless>https://zh.cppreference.com/w/c/numeric/math/isless</a></p><p>作用：检查第一个浮点数实参是否小于第二个 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define isless(x, y) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定浮点数 <code>x</code> 是否小于浮点数 <code>y</code>，而不设置浮点数异常。</p><p><strong>参数</strong></p><table><thead><tr><th>x</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>y</td><td>-</td><td>浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>x &lt; y</code> 则为非零整数，否则为 <code>0</code>。</p><p><strong>注解</strong></p><p>​ 若一或两个实参为 NaN，则内建的 <code>operator&lt;</code> 对浮点数可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。此宏是 <code>operator&lt;</code> 的“安静”版本。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isless(2.0,1.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isless</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isless(1.0,2.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isless</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isless(INFINITY,1.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isless</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isless(1.0,NAN)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isless</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>isless(2.0,1.0)      = 0
</span></span><span style=display:flex><span>isless(1.0,2.0)      = 1
</span></span><span style=display:flex><span>isless(INFINITY,1.0) = 0
</span></span><span style=display:flex><span>isless(1.0,NAN)      = 0
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.14.3 The isless macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.14.3 The isless macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.14.3 The isless macro （第 260 页）</p></li><li><p>F.10.11 Comparison macros （第 531 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.14.3 The isless macro （第 241 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isgreater>isgreater (C99)<br></a></th><th>检查第一个浮点数实参是否大于第二个 (宏函数)</th></tr></thead><tbody><tr><td><strong>isless</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/isless>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=islessequal>islessequal</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/islessequal>https://zh.cppreference.com/w/c/numeric/math/islessequal</a></p><p>作用：检查第一个浮点数实参是否小于或等于第二个 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define islessequal(x, y) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定浮点数 <code>x</code> 是否小于或等于浮点数 <code>y</code>，而不设置浮点数异常。</p><p><strong>参数</strong></p><table><thead><tr><th>x</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>y</td><td>-</td><td>浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>x &lt;= y</code> 则为非零整数，否则为 <code>0</code>。</p><p><strong>注解</strong></p><p>​ 若一或两个实参为 NaN，则内建的 <code>operator&lt;=</code> 对浮点数可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。此宏是 <code>operator&lt;=</code> 的“安静”版本。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;islessequal(2.0,1.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>islessequal</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;islessequal(1.0,2.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>islessequal</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;islessequal(1.0,1.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>islessequal</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;islessequal(INFINITY,1.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>islessequal</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;islessequal(1.0,NAN)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>islessequal</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>islessequal(2.0,1.0)      = 0
</span></span><span style=display:flex><span>islessequal(1.0,2.0)      = 1
</span></span><span style=display:flex><span>islessequal(1.0,1.0)      = 1
</span></span><span style=display:flex><span>islessequal(INFINITY,1.0) = 0
</span></span><span style=display:flex><span>islessequal(1.0,NAN)      = 0
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.14.4 The islessequal macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.14.4 The islessequal macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.14.4 The islessequal macro （第 260 页）</p></li><li><p>F.10.11 Comparison macros （第 531 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.14.4 The islessequal macro （第 241 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isgreaterequal>isgreaterequal (C99)<br></a></th><th>检查第一个浮点数实参是否大于等于第二个 (宏函数)</th></tr></thead><tbody><tr><td><strong>islessequal</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/islessequal>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=islessgreater>islessgreater</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/islessgreater>https://zh.cppreference.com/w/c/numeric/math/islessgreater</a></p><p>作用：检查第一个浮点数实参是否小于或大于第二个 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define islessgreater(x, y) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定浮点数 <code>x</code> 是否小于或大于浮点数 <code>y</code>，而不设置浮点数异常。</p><p><strong>参数</strong></p><table><thead><tr><th>x</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>y</td><td>-</td><td>浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>x &lt; y || x > y</code> 则为非零整数，否则为 <code>0</code> 。</p><p><strong>注解</strong></p><p>​ 若一或两个实参为 NaN，则内建的 <code>operator&lt;</code> 和 <code>operator></code> 可能对浮点数引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。此宏是表达式 <code>x &lt; y || x > y</code> 的“安静”版本。宏不会对 x 和 y 求值两次。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;islessgreater(2.0,1.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>islessgreater</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;islessgreater(1.0,2.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>islessgreater</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;islessgreater(1.0,1.0)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>islessgreater</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;islessgreater(INFINITY,1.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>islessgreater</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;islessgreater(1.0,NAN)      = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>islessgreater</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>islessgreater(2.0,1.0)      = 1
</span></span><span style=display:flex><span>islessgreater(1.0,2.0)      = 1
</span></span><span style=display:flex><span>islessgreater(1.0,1.0)      = 0
</span></span><span style=display:flex><span>islessgreater(INFINITY,1.0) = 1
</span></span><span style=display:flex><span>islessgreater(1.0,NAN)      = 0
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.14.5 The islessgreater macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.14.5 The islessgreater macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.14.5 The islessgreater macro （第 261 页）</p></li><li><p>F.10.11 Comparison macros （第 531 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.14.5 The islessgreater macro （第 241-242 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isless>isless (C99)<br></a></th><th>检查第一个浮点数实参是否小于第二个 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isgreater>isgreater (C99)<br></a></td><td>检查第一个浮点数实参是否大于第二个 (宏函数)</td></tr><tr><td><strong>islessgreater</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/islessgreater>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=isnan>isnan</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/isnan>https://zh.cppreference.com/w/c/numeric/math/isnan</a></p><p>作用：检查给定数是否为 NaN (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define isnan(arg) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定给定的浮点数 <code>arg</code> 是否非数（NaN）值。该宏返回整数。</p><p>​ 忽略 <a href=https://zh.cppreference.com/w/c/types/limits/FLT_EVAL_METHOD>FLT_EVAL_METHOD</a>：即使以多于实参类型的范围和精度对它求值，首先仍将它转换到其语义类型，然后分类基于该类型。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>arg</code> 为 NaN 则为非零整数，否则为 <code>0</code>。</p><p><strong>注解</strong></p><p>​ 有多个拥有不同符号位和载荷的不同 NaN 值，参阅 <a href=https://zh.cppreference.com/w/c/numeric/math/nan>nan</a>。</p><p>​ NaN 值决不与自身或其他 NaN 值比较相等。复制 NaN 可能改变其位模式。</p><p>​ 另一种测试浮点数是否 NaN 的方式是与自身比较：<code>bool is_nan(double x) { return x != x; }</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnan(NAN)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnan(INFINITY)    = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnan(0.0)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnan(DBL_MIN/2.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MIN</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnan(0.0 / 0.0)   = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnan(Inf - Inf)   = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>isnan(NAN)         = 1
</span></span><span style=display:flex><span>isnan(INFINITY)    = 0
</span></span><span style=display:flex><span>isnan(0.0)         = 0
</span></span><span style=display:flex><span>isnan(DBL_MIN/2.0) = 0
</span></span><span style=display:flex><span>isnan(0.0 / 0.0)   = 1
</span></span><span style=display:flex><span>isnan(Inf - Inf)   = 1
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li>7.12.3.4 The isnan macro （第 TBD 页）</li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12.3.4 The isnan macro （第 TBD 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12.3.4 The isnan macro （第 236-237 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.3.4 The isnan macro （第 217 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/nan>nan (C99)<br>nanf (C99)<br>nanl (C99)<br></a></th><th>返回 NaN（非数） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>fpclassify (C99)<br></a></td><td>对给定的浮点数分类 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isfinite>isfinite (C99)<br></a></td><td>检查给定数是否具有有限值 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isinf>isinf (C99)<br></a></td><td>检查给定数是否是无穷大 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isnormal>isnormal (C99)<br></a></td><td>检查给定数是否正规 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isunordered>isunordered (C99)<br></a></td><td>检查两个浮点数是否无序 (宏函数)</td></tr><tr><td><strong>isnan</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/isnan>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=isnormal>isnormal</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/isnormal>https://zh.cppreference.com/w/c/numeric/math/isnormal</a></p><p>作用：检查给定数是否正规 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define isnormal(arg) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定给定的浮点数 <code>arg</code> 是否正规，即它不是零、非正规、无穷大或 <code>NaN</code>。该宏返回整数。</p><p>​ 忽略 <a href=https://zh.cppreference.com/w/c/types/limits/FLT_EVAL_METHOD>FLT_EVAL_METHOD</a>：即使以多于实参类型的范围和精度对它求值，首先仍将它转换到其语义类型，然后分类基于该类型。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>arg</code> 正规则为非零整数，否则为 <code>0</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnormal(NAN)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnormal</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnormal(INFINITY)    = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnormal</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnormal(0.0)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnormal</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnormal(DBL_MIN/2.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnormal</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MIN</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isnormal(1.0)         = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isnormal</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>isnormal(NAN)         = 0
</span></span><span style=display:flex><span>isnormal(INFINITY)    = 0
</span></span><span style=display:flex><span>isnormal(0.0)         = 0
</span></span><span style=display:flex><span>isnormal(DBL_MIN/2.0) = 0
</span></span><span style=display:flex><span>isnormal(1.0)         = 1
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li>7.12.3.5 The isnormal macro （第 TBD 页）</li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12.3.5 The isnormal macro （第 TBD 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12.3.5 The isnormal macro （第 237 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.3.5 The isnormal macro （第 217-218 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>fpclassify (C99)<br></a></th><th>对给定的浮点数分类 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isfinite>isfinite (C99)<br></a></td><td>检查给定数是否具有有限值 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isinf>isinf (C99)<br></a></td><td>检查给定数是否是无穷大 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isnan>isnan (C99)<br></a></td><td>检查给定数是否为 NaN (宏函数)</td></tr><tr><td><strong>isnormal</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/isnormal>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=isunordered>isunordered</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/isunordered>https://zh.cppreference.com/w/c/numeric/math/isunordered</a></p><p>作用：检查两个浮点数是否无序 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define isunordered(x, y) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定浮点数 <code>x</code> 与 <code>y</code> 是否无序，即一或两个是 NaN，从而无法有意义地彼此比较。</p><p><strong>参数</strong></p><table><thead><tr><th>x</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>y</td><td>-</td><td>浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>x</code> 或 <code>y</code> 为 NaN 则为非零整数，否则为 <code>0</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isunordered(NAN,1.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isunordered</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isunordered(1.0,NAN) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isunordered</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isunordered(NAN,NAN) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isunordered</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;isunordered(1.0,0.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>isunordered</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>isunordered(NAN,1.0) = 1
</span></span><span style=display:flex><span>isunordered(1.0,NAN) = 1
</span></span><span style=display:flex><span>isunordered(NAN,NAN) = 1
</span></span><span style=display:flex><span>isunordered(1.0,0.0) = 0
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.14.6 The isunordered macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.14.6 The isunordered macro （第 TBD 页）</p></li><li><p>F.10.11 Comparison macros （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.14.6 The isunordered macro （第 261 页）</p></li><li><p>F.10.11 Comparison macros （第 531 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.14.6 The isunordered macro （第 242 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fpclassify>fpclassify (C99)<br></a></th><th>对给定的浮点数分类 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/isnan>isnan (C99)<br></a></td><td>检查给定数是否为 NaN (宏函数)</td></tr><tr><td><strong>isunordered</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/isunordered>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=math_errhandling>math_errhandling</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>https://zh.cppreference.com/w/c/numeric/math/math_errhandling</a></p><p>作用：定义用于常用数学函数的错误处理机制 (宏常量)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define MATH_ERRNO        1</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define MATH_ERREXCEPT    2</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define math_errhandling  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 宏常量 <code>math_errhandling</code> 展开成 <code>int</code> 类型的表达式，要么等于 <code>MATH_ERRNO</code>，要么等于 <code>MATH_ERREXCEPT</code>，要么等于其逐位或（<code>MATH_ERRNO | MATH_ERREXCEPT</code>）。</p><p>​ <code>math_errhandling</code> 的值指示浮点数运算符和<a href=https://zh.cppreference.com/w/c/numeric/math>函数</a>所进行的错误处理：</p><table><thead><tr><th>常量</th><th>解释</th></tr></thead><tbody><tr><td><code>MATH_ERREXCEPT</code></td><td>指示使用浮点数异常：<code>&lt;fenv.h></code> 中至少定义了 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>、<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 及 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_OVERFLOW</a>。</td></tr><tr><td><code>MATH_ERRNO</code></td><td>指明浮点数运算使用变量 <a href=https://zh.cppreference.com/w/c/error/errno>errno</a> 报告错误。</td></tr></tbody></table><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则要求 <code>math_errhandling & MATH_ERREXCEPT</code> 非零。</p><p>​ 识别下列浮点数错误条件：</p><table><thead><tr><th style=text-align:center>条件</th><th style=text-align:center>解释</th><th style=text-align:center>errno</th><th style=text-align:center>浮点数异常</th><th style=text-align:center>示例</th></tr></thead><tbody><tr><td style=text-align:center>定义域错误</td><td style=text-align:center>实参在该运算的数学上的定义域之外（<a href=https://zh.cppreference.com/w/c/numeric/math>每个函数</a>的描述列出了要求的定义域错误）</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>EDOM</a></td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></td><td style=text-align:center><code>[acos](http://zh.cppreference.com/w/c/numeric/math/acos)(2)</code></td></tr><tr><td style=text-align:center>极点错误</td><td style=text-align:center>函数的数学结果恰是无限大或未定义</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>ERANGE</a></td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></td><td style=text-align:center><code>[log](http://zh.cppreference.com/w/c/numeric/math/log)(0.0)</code>、<code>1.0/0.0</code></td></tr><tr><td style=text-align:center>上溢所致的值域错误</td><td style=text-align:center>数学结果有限，但舍入后变为无限，或在向下舍入后变成最大可表示有限值</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>ERANGE</a></td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_OVERFLOW</a></td><td style=text-align:center><code>[pow](http://zh.cppreference.com/w/c/numeric/math/pow)([DBL_MAX](http://zh.cppreference.com/w/c/types/limits),2)</code></td></tr><tr><td style=text-align:center>下溢所致的值域错误</td><td style=text-align:center>结果非零，但因为舍入变为零，或变成非正规并有精度损失</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/error/errno_macros>ERANGE</a> 或不改变（实现定义）</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_UNDERFLOW</a> 或无（实现定义）</td><td style=text-align:center><code>DBL_TRUE_MIN/2</code></td></tr><tr><td style=text-align:center>结果不准确</td><td style=text-align:center>结果必须被舍入到目标类型</td><td style=text-align:center>不改变</td><td style=text-align:center><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>或无（未指定）</td><td style=text-align:center><code>[sqrt](http://zh.cppreference.com/w/c/numeric/math/sqrt)(2)</code>、<code>1.0/10.0</code></td></tr></tbody></table><p><strong>注意</strong></p><p>​ 通常，<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 是否为数学库函数所引发是未指定的，但这可以显式指定于函数的描述（例如 <a href=https://zh.cppreference.com/w/c/numeric/math/rint>rint</a> vs <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a>）。</p><p>​ C99 前，浮点数异常是未指定的，要求对于任何定义于错误发生 <code>[EDOM](http://zh.cppreference.com/w/c/error/errno_macros)</code>，要求对上溢和实现定义的下溢发生 <code>[ERANGE](http://zh.cppreference.com/w/c/error/errno_macros)</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;MATH_ERRNO is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>math_errhandling</span> <span style=color:#54b1c7>&amp;</span> <span style=color:#aa89ea>MATH_ERRNO</span> <span style=color:#54b1c7>?</span> <span style=color:#98c379>&#34;set&#34;</span> <span style=color:#54b1c7>:</span> <span style=color:#98c379>&#34;not set&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;MATH_ERREXCEPT is %s</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#aa89ea>math_errhandling</span> <span style=color:#54b1c7>&amp;</span> <span style=color:#aa89ea>MATH_ERREXCEPT</span> <span style=color:#54b1c7>?</span> <span style=color:#98c379>&#34;set&#34;</span> <span style=color:#54b1c7>:</span> <span style=color:#98c379>&#34;not set&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;FE_DIVBYZERO (pole error) reported&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>MATH_ERRNO is set
</span></span><span style=display:flex><span>MATH_ERREXCEPT is set
</span></span><span style=display:flex><span>log(0) = -inf
</span></span><span style=display:flex><span>errno = ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>FE_DIVBYZERO (pole error) reported
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/9 MATH_ERRNO, MATH_ERREXCEPT, math_errhandling （第 170 页）</p></li><li><p>F.10/4 MATH_ERREXCEPT, math_errhandling （第 377 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/9 MATH_ERRNO, MATH_ERREXCEPT, math_errhandling （第 233 页）</p></li><li><p>F.10/4 MATH_ERREXCEPT, math_errhandling （第 517 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/9 MATH_ERRNO, MATH_ERREXCEPT, math_errhandling （第 214 页）</p></li><li><p>F.9/4 MATH_ERREXCEPT, math_errhandling> （第 454 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_ALL_EXCEPT (C99)<br>FE_DIVBYZERO (C99)<br>FE_INEXACT<br>FE_INVALID<br>FE_OVERFLOW<br>FE_UNDERFLOW<br></a></th><th>浮点数异常 (宏常量)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/error/errno>errno<br></a></td><td>展开成 POSIX 兼容的线程局域错误编号变量 (宏变量)</td></tr><tr><td><strong>math_errhandling</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/math_errhandling>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=signbit>signbit</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/signbit>https://zh.cppreference.com/w/c/numeric/math/signbit</a></p><p>作用：检查给定数是不是负数 (宏函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define signbit( arg ) </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 确定给定的浮点数 <code>arg</code> 是否为负。该宏返回整数。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>arg</code> 为负，则返回非零整数，否则返回 <code>0</code>。</p><p><strong>注解</strong></p><p>​ 此宏检测零、无穷大和 NaN 的符号。这个宏和 <a href=https://zh.cppreference.com/w/c/numeric/math/copysign>copysign</a> 是检验 NaN 符号的唯二可移植方式。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;signbit(+0.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;signbit(-0.0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>signbit(+0.0) = 0
</span></span><span style=display:flex><span>signbit(-0.0) = 128
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li>7.12.3.6 The signbit macro （第 TBD 页）</li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li>7.12.3.6 The signbit macro （第 TBD 页）</li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li>7.12.3.6 The signbit macro （第 237 页）</li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li>7.12.3.6 The signbit macro （第 218 页）</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fabs>fabs<br>fabsf (C99)<br>fabsl (C99)<br></a></th><th>计算浮点数的绝对值（|x||x|） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/copysign>copysign (C99)<br>copysignf (C99)<br>copysignl (C99)<br></a></td><td>从一个给定值的绝对值和另一个给定值的符号产生值 (函数)</td></tr><tr><td><strong>signbit</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/signbit>C++ 文档</a></strong></td><td></td></tr></tbody></table><h2 id=函数>函数</h2><h3 id=acos>acos</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/acos>https://zh.cppreference.com/w/c/numeric/math/acos</a></p><p>作用：计算反余弦（{\small\arccos{x} }{\small\arccos{x} }arccos(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>acosf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>acosl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>acosd32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>acosd64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>acosd128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define acos( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> 的弧（反）余弦主值。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>acosl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>acos</code>。否则调用 <code>acosf</code>。若实参为复数，则宏调用对应的复数函数（<code>[cacosf](http://zh.cppreference.com/w/c/numeric/complex/cacos)</code>、<code>[cacos](http://zh.cppreference.com/w/c/numeric/complex/cacos)</code>、<code>[cacosl](http://zh.cppreference.com/w/c/numeric/complex/cacos)</code>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 于范围 <em>[0 ; π]</em> 中的弧（反）余弦（<em>arccos(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 在范围 <code>[-1.0; 1.0]</code> 外则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 <em>+1</em>，则返回值 <code>+0</code>。</li><li>若 <em>|arg| > 1</em>，则返回定义域错误并返回 NaN。</li><li>若实参 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(0.0) = %f 2*acos(0.0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(0.5) = %f 3*acos(0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(1.1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>acos(-1) = 3.141593
</span></span><span style=display:flex><span>acos(0.0) = 1.570796 2*acos(0.0) = 3.141593
</span></span><span style=display:flex><span>acos(0.5) = 1.047198 3*acos(0.5) = 3.141593
</span></span><span style=display:flex><span>acos(1) = 0.000000
</span></span><span style=display:flex><span>acos(1.1) = nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.1 The acos functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.1 The acos functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.1 The acos functions （第 173 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.1 The acos functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.1 The acos functions （第 238 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.1 The acos functions （第 518 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.1 The acos functions （第 218 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.1 The acos functions （第 455 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.1 The acos function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></th><th>计算反正弦（arcsinxarcsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan2>atan2<br>atan2f (C99)<br>atan2l (C99)<br></a></td><td>计算反正切，以符号确定象限 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cos>cos<br>cosf (C99)<br>cosl (C99)<br></a></td><td>计算余弦（cosxcos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cacos>cacos (C99)<br>cacosf (C99)<br>cacosl (C99)<br></a></td><td>计算复数反余弦 (函数)</td></tr><tr><td><strong>acos</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/acos>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=acosf>acosf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/acos>https://zh.cppreference.com/w/c/numeric/math/acos</a></p><p>作用：计算反余弦（{\small\arccos{x} }{\small\arccos{x} }arccos(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>acosf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>acosl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>acosd32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>acosd64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>acosd128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define acos( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> 的弧（反）余弦主值。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>acosl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>acos</code>。否则调用 <code>acosf</code>。若实参为复数，则宏调用对应的复数函数（<code>[cacosf](http://zh.cppreference.com/w/c/numeric/complex/cacos)</code>、<code>[cacos](http://zh.cppreference.com/w/c/numeric/complex/cacos)</code>、<code>[cacosl](http://zh.cppreference.com/w/c/numeric/complex/cacos)</code>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 于范围 <em>[0 ; π]</em> 中的弧（反）余弦（<em>arccos(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 在范围 <code>[-1.0; 1.0]</code> 外则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 <em>+1</em>，则返回值 <code>+0</code>。</li><li>若 <em>|arg| > 1</em>，则返回定义域错误并返回 NaN。</li><li>若实参 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(0.0) = %f 2*acos(0.0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(0.5) = %f 3*acos(0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(1.1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>acos(-1) = 3.141593
</span></span><span style=display:flex><span>acos(0.0) = 1.570796 2*acos(0.0) = 3.141593
</span></span><span style=display:flex><span>acos(0.5) = 1.047198 3*acos(0.5) = 3.141593
</span></span><span style=display:flex><span>acos(1) = 0.000000
</span></span><span style=display:flex><span>acos(1.1) = nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.1 The acos functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.1 The acos functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.1 The acos functions （第 173 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.1 The acos functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.1 The acos functions （第 238 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.1 The acos functions （第 518 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.1 The acos functions （第 218 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.1 The acos functions （第 455 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.1 The acos function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></th><th>计算反正弦（arcsinxarcsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan2>atan2<br>atan2f (C99)<br>atan2l (C99)<br></a></td><td>计算反正切，以符号确定象限 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cos>cos<br>cosf (C99)<br>cosl (C99)<br></a></td><td>计算余弦（cosxcos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cacos>cacos (C99)<br>cacosf (C99)<br>cacosl (C99)<br></a></td><td>计算复数反余弦 (函数)</td></tr><tr><td><strong>acos</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/acos>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=acosh>acosh</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/acosh>https://zh.cppreference.com/w/c/numeric/math/acosh</a></p><p>作用：计算反双曲余弦（{\small\operatorname{arcosh}{x} }{\small\operatorname{arcosh}{x} }arcosh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>acoshf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>acoshl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define acosh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的反双曲余弦。</p><p>4） 泛型宏：若参数拥有 <code>long double</code> 类型，则调用 <code>acoshl</code>。否则，若参数拥有整数类型或 <code>double</code> 类型，则调用 <code>acosh</code>。否则调用 <code>acoshf</code>。若参数为复数，则宏调用对应的复数函数（<code>[cacoshf](http://zh.cppreference.com/w/c/numeric/complex/cacosh)</code>、<code>[cacosh](http://zh.cppreference.com/w/c/numeric/complex/cacosh)</code>、<code>[cacoshl](http://zh.cppreference.com/w/c/numeric/complex/cacosh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲扇形面积的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 在区间 <em>[0, +∞]</em> 上的反双曲余弦（<em>cosh-1
(arg)</em> 或 <em>arcosh(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实参小于 <code>1</code>，则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参小于 1，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回 NaN</li><li>若实参为 1，则返回 +0</li><li>若实参为 +∞，则返回 +∞</li><li>若实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 虽然 C 标准命名此函数为“弧双曲余弦”，但双曲函数的反函数仍是面积函数。其实参是双曲扇形的面积，而非弧长。正确的名称是“反双曲余弦”（POSIX 所用）或“面积双曲余弦”。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acosh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>acosh(10) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acosh(DBL_MAX) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>acosh(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MAX</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acosh(0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>acosh(1) = 0.000000
</span></span><span style=display:flex><span>acosh(10) = 2.993223
</span></span><span style=display:flex><span>acosh(DBL_MAX) = 710.475860
</span></span><span style=display:flex><span>acosh(Inf) = inf
</span></span><span style=display:flex><span>acosh(0.5) = -nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.1 The acosh functions （第 TBD 页）</p></li><li><p>7.27 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.1 The acosh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.1 The acosh functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.2.1 The acosh functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.1 The acosh functions （第 240 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.1 The acosh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.1 The acosh functions （第 221 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.1 The acosh functions （第 457 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asinh>asinh (C99)<br>asinhf (C99)<br>asinhl (C99)<br></a></th><th>计算反双曲正弦（arsinhxarsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atanh>atanh (C99)<br>atanhf (C99)<br>atanhl (C99)<br></a></td><td>计算反双曲正切（artanhxartanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cosh>cosh<br>coshf (C99)<br>coshl (C99)<br></a></td><td>计算双曲余弦（coshxcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cacosh>cacosh (C99)<br>cacoshf (C99)<br>cacoshl (C99)<br></a></td><td>计算复数反双曲余弦 (函数)</td></tr><tr><td><strong>acosh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/acosh>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/InverseHyperbolicCosine.html>Weisstein, Eric W. “反双曲余弦”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=acoshf>acoshf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/acosh>https://zh.cppreference.com/w/c/numeric/math/acosh</a></p><p>作用：计算反双曲余弦（{\small\operatorname{arcosh}{x} }{\small\operatorname{arcosh}{x} }arcosh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>acoshf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>acoshl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define acosh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的反双曲余弦。</p><p>4） 泛型宏：若参数拥有 <code>long double</code> 类型，则调用 <code>acoshl</code>。否则，若参数拥有整数类型或 <code>double</code> 类型，则调用 <code>acosh</code>。否则调用 <code>acoshf</code>。若参数为复数，则宏调用对应的复数函数（<code>[cacoshf](http://zh.cppreference.com/w/c/numeric/complex/cacosh)</code>、<code>[cacosh](http://zh.cppreference.com/w/c/numeric/complex/cacosh)</code>、<code>[cacoshl](http://zh.cppreference.com/w/c/numeric/complex/cacosh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲扇形面积的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 在区间 <em>[0, +∞]</em> 上的反双曲余弦（<em>cosh-1
(arg)</em> 或 <em>arcosh(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实参小于 <code>1</code>，则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参小于 1，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回 NaN</li><li>若实参为 1，则返回 +0</li><li>若实参为 +∞，则返回 +∞</li><li>若实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 虽然 C 标准命名此函数为“弧双曲余弦”，但双曲函数的反函数仍是面积函数。其实参是双曲扇形的面积，而非弧长。正确的名称是“反双曲余弦”（POSIX 所用）或“面积双曲余弦”。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acosh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>acosh(10) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acosh(DBL_MAX) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>acosh(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MAX</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acosh(0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>acosh(1) = 0.000000
</span></span><span style=display:flex><span>acosh(10) = 2.993223
</span></span><span style=display:flex><span>acosh(DBL_MAX) = 710.475860
</span></span><span style=display:flex><span>acosh(Inf) = inf
</span></span><span style=display:flex><span>acosh(0.5) = -nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.1 The acosh functions （第 TBD 页）</p></li><li><p>7.27 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.1 The acosh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.1 The acosh functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.2.1 The acosh functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.1 The acosh functions （第 240 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.1 The acosh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.1 The acosh functions （第 221 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.1 The acosh functions （第 457 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asinh>asinh (C99)<br>asinhf (C99)<br>asinhl (C99)<br></a></th><th>计算反双曲正弦（arsinhxarsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atanh>atanh (C99)<br>atanhf (C99)<br>atanhl (C99)<br></a></td><td>计算反双曲正切（artanhxartanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cosh>cosh<br>coshf (C99)<br>coshl (C99)<br></a></td><td>计算双曲余弦（coshxcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cacosh>cacosh (C99)<br>cacoshf (C99)<br>cacoshl (C99)<br></a></td><td>计算复数反双曲余弦 (函数)</td></tr><tr><td><strong>acosh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/acosh>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/InverseHyperbolicCosine.html>Weisstein, Eric W. “反双曲余弦”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=acoshl>acoshl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/acosh>https://zh.cppreference.com/w/c/numeric/math/acosh</a></p><p>作用：计算反双曲余弦（{\small\operatorname{arcosh}{x} }{\small\operatorname{arcosh}{x} }arcosh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>acoshf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>acoshl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define acosh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的反双曲余弦。</p><p>4） 泛型宏：若参数拥有 <code>long double</code> 类型，则调用 <code>acoshl</code>。否则，若参数拥有整数类型或 <code>double</code> 类型，则调用 <code>acosh</code>。否则调用 <code>acoshf</code>。若参数为复数，则宏调用对应的复数函数（<code>[cacoshf](http://zh.cppreference.com/w/c/numeric/complex/cacosh)</code>、<code>[cacosh](http://zh.cppreference.com/w/c/numeric/complex/cacosh)</code>、<code>[cacoshl](http://zh.cppreference.com/w/c/numeric/complex/cacosh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲扇形面积的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 在区间 <em>[0, +∞]</em> 上的反双曲余弦（<em>cosh-1
(arg)</em> 或 <em>arcosh(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实参小于 <code>1</code>，则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参小于 1，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回 NaN</li><li>若实参为 1，则返回 +0</li><li>若实参为 +∞，则返回 +∞</li><li>若实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 虽然 C 标准命名此函数为“弧双曲余弦”，但双曲函数的反函数仍是面积函数。其实参是双曲扇形的面积，而非弧长。正确的名称是“反双曲余弦”（POSIX 所用）或“面积双曲余弦”。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acosh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>acosh(10) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acosh(DBL_MAX) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>acosh(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MAX</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acosh(0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>acosh(1) = 0.000000
</span></span><span style=display:flex><span>acosh(10) = 2.993223
</span></span><span style=display:flex><span>acosh(DBL_MAX) = 710.475860
</span></span><span style=display:flex><span>acosh(Inf) = inf
</span></span><span style=display:flex><span>acosh(0.5) = -nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.1 The acosh functions （第 TBD 页）</p></li><li><p>7.27 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.1 The acosh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.1 The acosh functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.2.1 The acosh functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.1 The acosh functions （第 240 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.1 The acosh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.1 The acosh functions （第 221 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.1 The acosh functions （第 457 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asinh>asinh (C99)<br>asinhf (C99)<br>asinhl (C99)<br></a></th><th>计算反双曲正弦（arsinhxarsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atanh>atanh (C99)<br>atanhf (C99)<br>atanhl (C99)<br></a></td><td>计算反双曲正切（artanhxartanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cosh>cosh<br>coshf (C99)<br>coshl (C99)<br></a></td><td>计算双曲余弦（coshxcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cacosh>cacosh (C99)<br>cacoshf (C99)<br>cacoshl (C99)<br></a></td><td>计算复数反双曲余弦 (函数)</td></tr><tr><td><strong>acosh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/acosh>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/InverseHyperbolicCosine.html>Weisstein, Eric W. “反双曲余弦”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=acosl>acosl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/acos>https://zh.cppreference.com/w/c/numeric/math/acos</a></p><p>作用：计算反余弦（{\small\arccos{x} }{\small\arccos{x} }arccos(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>acosf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>acosl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>acosd32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>acosd64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>acosd128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define acos( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> 的弧（反）余弦主值。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>acosl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>acos</code>。否则调用 <code>acosf</code>。若实参为复数，则宏调用对应的复数函数（<code>[cacosf](http://zh.cppreference.com/w/c/numeric/complex/cacos)</code>、<code>[cacos](http://zh.cppreference.com/w/c/numeric/complex/cacos)</code>、<code>[cacosl](http://zh.cppreference.com/w/c/numeric/complex/cacos)</code>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 于范围 <em>[0 ; π]</em> 中的弧（反）余弦（<em>arccos(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 在范围 <code>[-1.0; 1.0]</code> 外则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 <em>+1</em>，则返回值 <code>+0</code>。</li><li>若 <em>|arg| > 1</em>，则返回定义域错误并返回 NaN。</li><li>若实参 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(0.0) = %f 2*acos(0.0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(0.5) = %f 3*acos(0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;acos(1.1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>acos(-1) = 3.141593
</span></span><span style=display:flex><span>acos(0.0) = 1.570796 2*acos(0.0) = 3.141593
</span></span><span style=display:flex><span>acos(0.5) = 1.047198 3*acos(0.5) = 3.141593
</span></span><span style=display:flex><span>acos(1) = 0.000000
</span></span><span style=display:flex><span>acos(1.1) = nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.1 The acos functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.1 The acos functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.1 The acos functions （第 173 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.1 The acos functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.1 The acos functions （第 238 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.1 The acos functions （第 518 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.1 The acos functions （第 218 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.1 The acos functions （第 455 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.1 The acos function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></th><th>计算反正弦（arcsinxarcsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan2>atan2<br>atan2f (C99)<br>atan2l (C99)<br></a></td><td>计算反正切，以符号确定象限 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cos>cos<br>cosf (C99)<br>cosl (C99)<br></a></td><td>计算余弦（cosxcos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cacos>cacos (C99)<br>cacosf (C99)<br>cacosl (C99)<br></a></td><td>计算复数反余弦 (函数)</td></tr><tr><td><strong>acos</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/acos>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=asin>asin</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/asin>https://zh.cppreference.com/w/c/numeric/math/asin</a></p><p>作用：计算反正弦（{\small\arcsin{x} }{\small\arcsin{x} }arcsin(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>asinf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>asinl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>asind32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>asind64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>asind128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define asin( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> 的弧（反）正弦主值。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 (3) <code>asinl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 (2) <code>asin</code>。否则调用 (1) <code>asinf</code>。若实参为复数，则宏调用对应的复数函数（<code>[casinf](http://zh.cppreference.com/w/c/numeric/complex/casin)</code>、<code>[casin](http://zh.cppreference.com/w/c/numeric/complex/casin)</code>、<code>[casinl](http://zh.cppreference.com/w/c/numeric/complex/casin)</code>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 在范围</p><p>[-</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>; +</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>]</p><p>中的弧（反）正弦（<em>arcsin(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 在范围 <code>[-1.0; 1.0]</code> 外则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0，则返回未修改的实参。</li><li>若 <em>|arg| > 1</em>，则出现定义域错误并返回 NaN。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin( 1.0) = %+f, 2*asin( 1.0)=%+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin(-0.5) = %+f, 6*asin(-0.5)=%+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>6</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin(0.0) = %1f, asin(-0.0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin(1.1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>asin( 1.0) = +1.570796, 2*asin( 1.0)=+3.141593
</span></span><span style=display:flex><span>asin(-0.5) = -0.523599, 6*asin(-0.5)=-3.141593
</span></span><span style=display:flex><span>asin(0.0) = 0.000000, asin(-0.0)=-0.000000
</span></span><span style=display:flex><span>asin(1.1) = nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.2 The asin functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.2 The asin functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.2 The asin functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.2 The asin functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.2 The asin functions （第 238 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.2 The asin functions （第 518 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.2 The asin functions （第 219 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.2 The asin functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.2 The asin function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></th><th>计算反余弦（arccosxarccos⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan2>atan2<br>atan2f (C99)<br>atan2l (C99)<br></a></td><td>计算反正切，以符号确定象限 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin<br>sinf (C99)<br>sinl (C99)<br></a></td><td>计算正弦（sinxsin⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/casin>casin (C99)<br>casinf (C99)<br>casinl (C99)<br></a></td><td>计算复数反正弦 (函数)</td></tr><tr><td><strong>asin</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/asin>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=asinf>asinf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/asin>https://zh.cppreference.com/w/c/numeric/math/asin</a></p><p>作用：计算反正弦（{\small\arcsin{x} }{\small\arcsin{x} }arcsin(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>asinf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>asinl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>asind32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>asind64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>asind128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define asin( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> 的弧（反）正弦主值。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 (3) <code>asinl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 (2) <code>asin</code>。否则调用 (1) <code>asinf</code>。若实参为复数，则宏调用对应的复数函数（<code>[casinf](http://zh.cppreference.com/w/c/numeric/complex/casin)</code>、<code>[casin](http://zh.cppreference.com/w/c/numeric/complex/casin)</code>、<code>[casinl](http://zh.cppreference.com/w/c/numeric/complex/casin)</code>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 在范围</p><p>[-</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>; +</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>]</p><p>中的弧（反）正弦（<em>arcsin(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 在范围 <code>[-1.0; 1.0]</code> 外则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0，则返回未修改的实参。</li><li>若 <em>|arg| > 1</em>，则出现定义域错误并返回 NaN。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin( 1.0) = %+f, 2*asin( 1.0)=%+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin(-0.5) = %+f, 6*asin(-0.5)=%+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>6</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin(0.0) = %1f, asin(-0.0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin(1.1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>asin( 1.0) = +1.570796, 2*asin( 1.0)=+3.141593
</span></span><span style=display:flex><span>asin(-0.5) = -0.523599, 6*asin(-0.5)=-3.141593
</span></span><span style=display:flex><span>asin(0.0) = 0.000000, asin(-0.0)=-0.000000
</span></span><span style=display:flex><span>asin(1.1) = nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.2 The asin functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.2 The asin functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.2 The asin functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.2 The asin functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.2 The asin functions （第 238 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.2 The asin functions （第 518 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.2 The asin functions （第 219 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.2 The asin functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.2 The asin function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></th><th>计算反余弦（arccosxarccos⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan2>atan2<br>atan2f (C99)<br>atan2l (C99)<br></a></td><td>计算反正切，以符号确定象限 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin<br>sinf (C99)<br>sinl (C99)<br></a></td><td>计算正弦（sinxsin⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/casin>casin (C99)<br>casinf (C99)<br>casinl (C99)<br></a></td><td>计算复数反正弦 (函数)</td></tr><tr><td><strong>asin</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/asin>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=asinh>asinh</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/asinh>https://zh.cppreference.com/w/c/numeric/math/asinh</a></p><p>作用：计算反双曲正弦（{\small\operatorname{arsinh}{x} }{\small\operatorname{arsinh}{x} }arsinh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>asinhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>asinhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define asinh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的反双曲正弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>asinhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>asinh</code>。否则调用 <code>asinhf</code>。若实参为复数，则宏调用对应的复数函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinhf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinh</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinhl</a>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲扇形面积的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不发生错误，则返回 <code>arg</code> 的反双曲正弦（<em>sinh-1
(arg)</em> 或 <em>arsinh(arg)</em>）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0 或 ±∞，则返回不修改的参数</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 虽然 C 标准命名此函数为“弧双曲正弦”，但双曲函数的反函数仍是面积函数。其实参为双曲扇形的面积，而非弧长。正确的名称是“反双曲正弦”（ POSIX 所用）或“面积双曲正弦”。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asinh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>asinh(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asinh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>asinh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>asinh(1) = 0.881374
</span></span><span style=display:flex><span>asinh(-1) = -0.881374
</span></span><span style=display:flex><span>asinh(+0) = 0.000000
</span></span><span style=display:flex><span>asinh(-0) = -0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.2 The asinh functions （第 240-241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.2 The asinh functions （第 520 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.2 The asinh functions （第 240-241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.2 The asinh functions （第 520 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.2 The asinh functions （第 240-241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.2 The asinh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.2 The asinh functions （第 221 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.2 The asinh functions （第 457 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/acosh>acosh (C99)<br>acoshf (C99)<br>acoshl (C99)<br></a></th><th>计算反双曲余弦（arcoshxarcosh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atanh>atanh (C99)<br>atanhf (C99)<br>atanhl (C99)<br></a></td><td>计算反双曲正切（artanhxartanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sinh>sinh<br>sinhf (C99)<br>sinhl (C99)<br></a></td><td>计算双曲正弦（sinhxsinh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinh (C99)<br>casinhf (C99)<br>casinhl (C99)<br></a></td><td>计算复数反双曲正弦 (函数)</td></tr><tr><td><strong>asinh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/asinh>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/InverseHyperbolicSine.html>Weisstein, Eric W. “反双曲正弦”</a>来自 MathWorld&ndash;A Wolfram Web Resource 。</p><h3 id=asinhf>asinhf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/asinh>https://zh.cppreference.com/w/c/numeric/math/asinh</a></p><p>作用：计算反双曲正弦（{\small\operatorname{arsinh}{x} }{\small\operatorname{arsinh}{x} }arsinh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>asinhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>asinhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define asinh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的反双曲正弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>asinhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>asinh</code>。否则调用 <code>asinhf</code>。若实参为复数，则宏调用对应的复数函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinhf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinh</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinhl</a>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲扇形面积的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不发生错误，则返回 <code>arg</code> 的反双曲正弦（<em>sinh-1
(arg)</em> 或 <em>arsinh(arg)</em>）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0 或 ±∞，则返回不修改的参数</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 虽然 C 标准命名此函数为“弧双曲正弦”，但双曲函数的反函数仍是面积函数。其实参为双曲扇形的面积，而非弧长。正确的名称是“反双曲正弦”（ POSIX 所用）或“面积双曲正弦”。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asinh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>asinh(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asinh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>asinh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>asinh(1) = 0.881374
</span></span><span style=display:flex><span>asinh(-1) = -0.881374
</span></span><span style=display:flex><span>asinh(+0) = 0.000000
</span></span><span style=display:flex><span>asinh(-0) = -0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.2 The asinh functions （第 240-241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.2 The asinh functions （第 520 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.2 The asinh functions （第 240-241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.2 The asinh functions （第 520 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.2 The asinh functions （第 240-241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.2 The asinh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.2 The asinh functions （第 221 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.2 The asinh functions （第 457 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/acosh>acosh (C99)<br>acoshf (C99)<br>acoshl (C99)<br></a></th><th>计算反双曲余弦（arcoshxarcosh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atanh>atanh (C99)<br>atanhf (C99)<br>atanhl (C99)<br></a></td><td>计算反双曲正切（artanhxartanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sinh>sinh<br>sinhf (C99)<br>sinhl (C99)<br></a></td><td>计算双曲正弦（sinhxsinh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinh (C99)<br>casinhf (C99)<br>casinhl (C99)<br></a></td><td>计算复数反双曲正弦 (函数)</td></tr><tr><td><strong>asinh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/asinh>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/InverseHyperbolicSine.html>Weisstein, Eric W. “反双曲正弦”</a>来自 MathWorld&ndash;A Wolfram Web Resource 。</p><h3 id=asinhl>asinhl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/asinh>https://zh.cppreference.com/w/c/numeric/math/asinh</a></p><p>作用：计算反双曲正弦（{\small\operatorname{arsinh}{x} }{\small\operatorname{arsinh}{x} }arsinh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>asinhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>asinhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define asinh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的反双曲正弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>asinhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>asinh</code>。否则调用 <code>asinhf</code>。若实参为复数，则宏调用对应的复数函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinhf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinh</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinhl</a>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲扇形面积的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不发生错误，则返回 <code>arg</code> 的反双曲正弦（<em>sinh-1
(arg)</em> 或 <em>arsinh(arg)</em>）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0 或 ±∞，则返回不修改的参数</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 虽然 C 标准命名此函数为“弧双曲正弦”，但双曲函数的反函数仍是面积函数。其实参为双曲扇形的面积，而非弧长。正确的名称是“反双曲正弦”（ POSIX 所用）或“面积双曲正弦”。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asinh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>asinh(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asinh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>asinh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>asinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>asinh(1) = 0.881374
</span></span><span style=display:flex><span>asinh(-1) = -0.881374
</span></span><span style=display:flex><span>asinh(+0) = 0.000000
</span></span><span style=display:flex><span>asinh(-0) = -0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.2 The asinh functions （第 240-241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.2 The asinh functions （第 520 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.2 The asinh functions （第 240-241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.2 The asinh functions （第 520 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.2 The asinh functions （第 240-241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.2 The asinh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.2 The asinh functions （第 221 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.2 The asinh functions （第 457 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/acosh>acosh (C99)<br>acoshf (C99)<br>acoshl (C99)<br></a></th><th>计算反双曲余弦（arcoshxarcosh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atanh>atanh (C99)<br>atanhf (C99)<br>atanhl (C99)<br></a></td><td>计算反双曲正切（artanhxartanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sinh>sinh<br>sinhf (C99)<br>sinhl (C99)<br></a></td><td>计算双曲正弦（sinhxsinh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/casinh>casinh (C99)<br>casinhf (C99)<br>casinhl (C99)<br></a></td><td>计算复数反双曲正弦 (函数)</td></tr><tr><td><strong>asinh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/asinh>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/InverseHyperbolicSine.html>Weisstein, Eric W. “反双曲正弦”</a>来自 MathWorld&ndash;A Wolfram Web Resource 。</p><h3 id=asinl>asinl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/asin>https://zh.cppreference.com/w/c/numeric/math/asin</a></p><p>作用：计算反正弦（{\small\arcsin{x} }{\small\arcsin{x} }arcsin(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>asinf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>asinl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>asind32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>asind64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>asind128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define asin( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> 的弧（反）正弦主值。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 (3) <code>asinl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 (2) <code>asin</code>。否则调用 (1) <code>asinf</code>。若实参为复数，则宏调用对应的复数函数（<code>[casinf](http://zh.cppreference.com/w/c/numeric/complex/casin)</code>、<code>[casin](http://zh.cppreference.com/w/c/numeric/complex/casin)</code>、<code>[casinl](http://zh.cppreference.com/w/c/numeric/complex/casin)</code>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 在范围</p><p>[-</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>; +</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>]</p><p>中的弧（反）正弦（<em>arcsin(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 在范围 <code>[-1.0; 1.0]</code> 外则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0，则返回未修改的实参。</li><li>若 <em>|arg| > 1</em>，则出现定义域错误并返回 NaN。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin( 1.0) = %+f, 2*asin( 1.0)=%+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin(-0.5) = %+f, 6*asin(-0.5)=%+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>6</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin(0.0) = %1f, asin(-0.0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;asin(1.1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>asin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>asin( 1.0) = +1.570796, 2*asin( 1.0)=+3.141593
</span></span><span style=display:flex><span>asin(-0.5) = -0.523599, 6*asin(-0.5)=-3.141593
</span></span><span style=display:flex><span>asin(0.0) = 0.000000, asin(-0.0)=-0.000000
</span></span><span style=display:flex><span>asin(1.1) = nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.2 The asin functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.2 The asin functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.2 The asin functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.2 The asin functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.2 The asin functions （第 238 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.2 The asin functions （第 518 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.2 The asin functions （第 219 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.2 The asin functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.2 The asin function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></th><th>计算反余弦（arccosxarccos⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan2>atan2<br>atan2f (C99)<br>atan2l (C99)<br></a></td><td>计算反正切，以符号确定象限 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin<br>sinf (C99)<br>sinl (C99)<br></a></td><td>计算正弦（sinxsin⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/casin>casin (C99)<br>casinf (C99)<br>casinl (C99)<br></a></td><td>计算复数反正弦 (函数)</td></tr><tr><td><strong>asin</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/asin>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=atan>atan</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/atan>https://zh.cppreference.com/w/c/numeric/math/atan</a></p><p>作用：计算反正切（{\small\arctan{x} }{\small\arctan{x} }arctan(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>atanf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>atanl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>atand32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>atand64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>atand128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define atan( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> 的弧（反）正切主值。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 (3) <code>atanl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 (2) <code>atan</code>。否则调用 (1) <code>atanf</code>。若实参为复数，则宏调用对应的复数函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catanf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catan</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catanl</a>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 在</p><p>[-</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>; +</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>]</p><p>弧度范围中的弧（反）正切（<em>arctan(arg)</em>）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回不修改的参数</li><li>若参数为 +∞，则返回 +π/2</li><li>若参数为 -∞，则返回 -π/2</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/atan.html>POSIX 指定</a>在下溢情况下，返回不修改的 <code>arg</code>，而若不支持如此，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan(1) = %f, 4*atan(1)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>4</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan(Inf) = %f, 2*atan(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan(-0.0) = %+f, atan(+0.0) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>atan(1) = 0.785398, 4*atan(1)=3.141593
</span></span><span style=display:flex><span>atan(Inf) = 1.570796, 2*atan(Inf) = 3.141593
</span></span><span style=display:flex><span>atan(-0.0) = -0.000000, atan(+0.0) = +0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.3 The atan functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.3 The atan functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.3 The atan functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.3 The atan functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.3 The atan functions （第 238-239 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.3 The atan functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.3 The atan functions （第 219 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.3 The atan functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.3 The atan function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/atan2>atan2<br>atan2f (C99)<br>atan2l (C99)<br></a></th><th>计算反正切，以符号确定象限 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></td><td>计算反正弦（arcsinxarcsin⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></td><td>计算反余弦（arccosxarccos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tan>tan<br>tanf (C99)<br>tanl (C99)<br></a></td><td>计算正切（tanxtan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catan (C99)<br>catanf (C99)<br>catanl (C99)<br></a></td><td>计算复数反正切 (函数)</td></tr><tr><td><strong>atan</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/atan>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=atan2>atan2</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/atan2>https://zh.cppreference.com/w/c/numeric/math/atan2</a></p><p>作用：计算反正切，以符号确定象限 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>atan2f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>atan2l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>atan2d32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>atan2d64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>atan2d128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define atan2( y, x )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>y / x</code> 的弧（反）正切，以实参符号确定正确的象限。</p><p>7） 泛型宏：若任何参数拥有 <code>long double</code> 类型，则调用 <code>atan2l</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>atan2</code>。否则调用 <code>atan2f</code>。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>y/x</code> 在 <em>[-π ; +π]</em> 弧度范围中的弧（反）正切（</p><p>arctan(</p><table><thead><tr><th>y</th></tr></thead><tbody><tr><td>x</td></tr></tbody></table><p>)</p><p>）。</p><p>Y 实参</p><p>返回值</p><p><a href=https://zh.cppreference.com/w/File:math-atan2.png><img src=https://upload.cppreference.com/mwiki/images/thumb/9/91/math-atan2.png/285px-math-atan2.png alt=math-atan2.png></a></p><p>X 实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>x</code> 与 <code>y</code> 均为零则可能出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（ IEC 60559 ），则</p><ul><li>若 <code>x</code> 与 <code>y</code> 均为零，则定义域错误<em>不出现</em></li><li>若 <code>x</code> 与 <code>y</code> 均为零，则也不出现值域错误</li><li>若 <code>y</code> 为零，则不出现极点错误</li><li>若 <code>y</code> 为 <code>±0</code> 且 <code>x</code> 为负或 <code>-0</code>，则返回 <code>±π</code></li><li>若 <code>y</code> 为 <code>±0</code> 且 <code>x</code> 为正或 <code>+0</code>，则返回 <code>±0</code></li><li>若 <code>y</code> 为 <code>±∞</code> 且 <code>x</code> 有限，则返回 <code>±π/2</code></li><li>若 <code>y</code> 为 <code>±∞</code> 且 <code>x</code> 为 <code>-∞</code>，则返回 <code>±3π/4</code></li><li>若 <code>y</code> 为 <code>±∞</code> 且 <code>x</code> 为 <code>+∞</code>，则返回 <code>±π/4</code></li><li>若 <code>x</code> 为 <code>±0</code> 且 <code>y</code> 为负，则返回 <code>-π/2</code></li><li>若 <code>x</code> 为 <code>±0</code> 且 <code>y</code> 为正，则返回 <code>+π/2</code></li><li>若 <code>x</code> 为 <code>-∞</code> 且 <code>y</code> 为正有限，则返回 <code>+π</code></li><li>若 <code>x</code> 为 <code>-∞</code> 且 <code>y</code> 为负有限，则返回 <code>-π</code></li><li>若 <code>x</code> 为 <code>+∞</code> 且 <code>y</code> 为正有限，则返回 <code>+0</code></li><li>若 <code>x</code> 为 <code>+∞</code> 且 <code>y</code> 为负有限，则返回 <code>-0</code></li><li>若 <code>x</code> 为 NaN 或 <code>y</code> 为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ <code>atan2(y, x)</code> 等价于 <code>[carg](http://zh.cppreference.com/w/c/numeric/complex/carg)(x + I*y)</code>。</p><p>​ <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/atan2.html>POSIX 指定</a>在下溢情况下，返回 <code>y / x</code>，而若不支持如此，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 正常用法：以两个参数的符号确定象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// atan2(1,1) = +pi/4，第 I 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(+1,+1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// atan2(1, -1) = +3pi/4，第 II 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(+1,-1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// atan2(-1,-1) = -3pi/4，第 III 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(-1,-1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// atan2(-1,-1) = -pi/4，第 IV 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(-1,+1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan2(0, 0) = %f atan2(0, -0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan2(7, 0) = %f atan2(7, -0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>7</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>7</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>(+1,+1) cartesian is (1.414214,0.785398) polar
</span></span><span style=display:flex><span>(+1,-1) cartesian is (1.414214,2.356194) polar
</span></span><span style=display:flex><span>(-1,-1) cartesian is (1.414214,-2.356194) polar
</span></span><span style=display:flex><span>(-1,+1) cartesian is (1.414214,-0.785398) polar
</span></span><span style=display:flex><span>atan2(0, 0) = 0.000000 atan2(0, -0)=3.141593
</span></span><span style=display:flex><span>atan2(7, 0) = 1.570796 atan2(7, -0)=1.570796
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.4 The atan2 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.4 The atan2 functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 239 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.4 The atan2 functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 219 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.4 The atan2 functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.4 The atan2 function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></th><th>计算反正弦（arcsinxarcsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></td><td>计算反余弦（arccosxarccos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/carg>carg (C99)<br>cargf (C99)<br>cargl (C99)<br></a></td><td>计算复数的辐角 (函数)</td></tr><tr><td><strong>atan2</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/atan2>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=atan2f>atan2f</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/atan2>https://zh.cppreference.com/w/c/numeric/math/atan2</a></p><p>作用：计算反正切，以符号确定象限 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>atan2f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>atan2l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>atan2d32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>atan2d64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>atan2d128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define atan2( y, x )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>y / x</code> 的弧（反）正切，以实参符号确定正确的象限。</p><p>7） 泛型宏：若任何参数拥有 <code>long double</code> 类型，则调用 <code>atan2l</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>atan2</code>。否则调用 <code>atan2f</code>。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>y/x</code> 在 <em>[-π ; +π]</em> 弧度范围中的弧（反）正切（</p><p>arctan(</p><table><thead><tr><th>y</th></tr></thead><tbody><tr><td>x</td></tr></tbody></table><p>)</p><p>）。</p><p>Y 实参</p><p>返回值</p><p><a href=https://zh.cppreference.com/w/File:math-atan2.png><img src=https://upload.cppreference.com/mwiki/images/thumb/9/91/math-atan2.png/285px-math-atan2.png alt=math-atan2.png></a></p><p>X 实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>x</code> 与 <code>y</code> 均为零则可能出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（ IEC 60559 ），则</p><ul><li>若 <code>x</code> 与 <code>y</code> 均为零，则定义域错误<em>不出现</em></li><li>若 <code>x</code> 与 <code>y</code> 均为零，则也不出现值域错误</li><li>若 <code>y</code> 为零，则不出现极点错误</li><li>若 <code>y</code> 为 <code>±0</code> 且 <code>x</code> 为负或 <code>-0</code>，则返回 <code>±π</code></li><li>若 <code>y</code> 为 <code>±0</code> 且 <code>x</code> 为正或 <code>+0</code>，则返回 <code>±0</code></li><li>若 <code>y</code> 为 <code>±∞</code> 且 <code>x</code> 有限，则返回 <code>±π/2</code></li><li>若 <code>y</code> 为 <code>±∞</code> 且 <code>x</code> 为 <code>-∞</code>，则返回 <code>±3π/4</code></li><li>若 <code>y</code> 为 <code>±∞</code> 且 <code>x</code> 为 <code>+∞</code>，则返回 <code>±π/4</code></li><li>若 <code>x</code> 为 <code>±0</code> 且 <code>y</code> 为负，则返回 <code>-π/2</code></li><li>若 <code>x</code> 为 <code>±0</code> 且 <code>y</code> 为正，则返回 <code>+π/2</code></li><li>若 <code>x</code> 为 <code>-∞</code> 且 <code>y</code> 为正有限，则返回 <code>+π</code></li><li>若 <code>x</code> 为 <code>-∞</code> 且 <code>y</code> 为负有限，则返回 <code>-π</code></li><li>若 <code>x</code> 为 <code>+∞</code> 且 <code>y</code> 为正有限，则返回 <code>+0</code></li><li>若 <code>x</code> 为 <code>+∞</code> 且 <code>y</code> 为负有限，则返回 <code>-0</code></li><li>若 <code>x</code> 为 NaN 或 <code>y</code> 为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ <code>atan2(y, x)</code> 等价于 <code>[carg](http://zh.cppreference.com/w/c/numeric/complex/carg)(x + I*y)</code>。</p><p>​ <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/atan2.html>POSIX 指定</a>在下溢情况下，返回 <code>y / x</code>，而若不支持如此，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 正常用法：以两个参数的符号确定象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// atan2(1,1) = +pi/4，第 I 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(+1,+1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// atan2(1, -1) = +3pi/4，第 II 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(+1,-1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// atan2(-1,-1) = -3pi/4，第 III 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(-1,-1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// atan2(-1,-1) = -pi/4，第 IV 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(-1,+1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan2(0, 0) = %f atan2(0, -0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan2(7, 0) = %f atan2(7, -0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>7</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>7</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>(+1,+1) cartesian is (1.414214,0.785398) polar
</span></span><span style=display:flex><span>(+1,-1) cartesian is (1.414214,2.356194) polar
</span></span><span style=display:flex><span>(-1,-1) cartesian is (1.414214,-2.356194) polar
</span></span><span style=display:flex><span>(-1,+1) cartesian is (1.414214,-0.785398) polar
</span></span><span style=display:flex><span>atan2(0, 0) = 0.000000 atan2(0, -0)=3.141593
</span></span><span style=display:flex><span>atan2(7, 0) = 1.570796 atan2(7, -0)=1.570796
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.4 The atan2 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.4 The atan2 functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 239 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.4 The atan2 functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 219 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.4 The atan2 functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.4 The atan2 function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></th><th>计算反正弦（arcsinxarcsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></td><td>计算反余弦（arccosxarccos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/carg>carg (C99)<br>cargf (C99)<br>cargl (C99)<br></a></td><td>计算复数的辐角 (函数)</td></tr><tr><td><strong>atan2</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/atan2>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=atan2l>atan2l</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/atan2>https://zh.cppreference.com/w/c/numeric/math/atan2</a></p><p>作用：计算反正切，以符号确定象限 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>atan2f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>atan2l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>atan2d32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>atan2d64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>atan2d128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define atan2( y, x )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>y / x</code> 的弧（反）正切，以实参符号确定正确的象限。</p><p>7） 泛型宏：若任何参数拥有 <code>long double</code> 类型，则调用 <code>atan2l</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>atan2</code>。否则调用 <code>atan2f</code>。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>y/x</code> 在 <em>[-π ; +π]</em> 弧度范围中的弧（反）正切（</p><p>arctan(</p><table><thead><tr><th>y</th></tr></thead><tbody><tr><td>x</td></tr></tbody></table><p>)</p><p>）。</p><p>Y 实参</p><p>返回值</p><p><a href=https://zh.cppreference.com/w/File:math-atan2.png><img src=https://upload.cppreference.com/mwiki/images/thumb/9/91/math-atan2.png/285px-math-atan2.png alt=math-atan2.png></a></p><p>X 实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>x</code> 与 <code>y</code> 均为零则可能出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（ IEC 60559 ），则</p><ul><li>若 <code>x</code> 与 <code>y</code> 均为零，则定义域错误<em>不出现</em></li><li>若 <code>x</code> 与 <code>y</code> 均为零，则也不出现值域错误</li><li>若 <code>y</code> 为零，则不出现极点错误</li><li>若 <code>y</code> 为 <code>±0</code> 且 <code>x</code> 为负或 <code>-0</code>，则返回 <code>±π</code></li><li>若 <code>y</code> 为 <code>±0</code> 且 <code>x</code> 为正或 <code>+0</code>，则返回 <code>±0</code></li><li>若 <code>y</code> 为 <code>±∞</code> 且 <code>x</code> 有限，则返回 <code>±π/2</code></li><li>若 <code>y</code> 为 <code>±∞</code> 且 <code>x</code> 为 <code>-∞</code>，则返回 <code>±3π/4</code></li><li>若 <code>y</code> 为 <code>±∞</code> 且 <code>x</code> 为 <code>+∞</code>，则返回 <code>±π/4</code></li><li>若 <code>x</code> 为 <code>±0</code> 且 <code>y</code> 为负，则返回 <code>-π/2</code></li><li>若 <code>x</code> 为 <code>±0</code> 且 <code>y</code> 为正，则返回 <code>+π/2</code></li><li>若 <code>x</code> 为 <code>-∞</code> 且 <code>y</code> 为正有限，则返回 <code>+π</code></li><li>若 <code>x</code> 为 <code>-∞</code> 且 <code>y</code> 为负有限，则返回 <code>-π</code></li><li>若 <code>x</code> 为 <code>+∞</code> 且 <code>y</code> 为正有限，则返回 <code>+0</code></li><li>若 <code>x</code> 为 <code>+∞</code> 且 <code>y</code> 为负有限，则返回 <code>-0</code></li><li>若 <code>x</code> 为 NaN 或 <code>y</code> 为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ <code>atan2(y, x)</code> 等价于 <code>[carg](http://zh.cppreference.com/w/c/numeric/complex/carg)(x + I*y)</code>。</p><p>​ <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/atan2.html>POSIX 指定</a>在下溢情况下，返回 <code>y / x</code>，而若不支持如此，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 正常用法：以两个参数的符号确定象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// atan2(1,1) = +pi/4，第 I 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(+1,+1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// atan2(1, -1) = +3pi/4，第 II 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(+1,-1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// atan2(-1,-1) = -3pi/4，第 III 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(-1,-1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// atan2(-1,-1) = -pi/4，第 IV 象限
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;(-1,+1) cartesian is (%f,%f) polar</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan2(0, 0) = %f atan2(0, -0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan2(7, 0) = %f atan2(7, -0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>7</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>7</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>(+1,+1) cartesian is (1.414214,0.785398) polar
</span></span><span style=display:flex><span>(+1,-1) cartesian is (1.414214,2.356194) polar
</span></span><span style=display:flex><span>(-1,-1) cartesian is (1.414214,-2.356194) polar
</span></span><span style=display:flex><span>(-1,+1) cartesian is (1.414214,-0.785398) polar
</span></span><span style=display:flex><span>atan2(0, 0) = 0.000000 atan2(0, -0)=3.141593
</span></span><span style=display:flex><span>atan2(7, 0) = 1.570796 atan2(7, -0)=1.570796
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.4 The atan2 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.4 The atan2 functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 239 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.4 The atan2 functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.4 The atan2 functions （第 219 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.4 The atan2 functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.4 The atan2 function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></th><th>计算反正弦（arcsinxarcsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></td><td>计算反余弦（arccosxarccos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/carg>carg (C99)<br>cargf (C99)<br>cargl (C99)<br></a></td><td>计算复数的辐角 (函数)</td></tr><tr><td><strong>atan2</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/atan2>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=atanf>atanf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/atan>https://zh.cppreference.com/w/c/numeric/math/atan</a></p><p>作用：计算反正切（{\small\arctan{x} }{\small\arctan{x} }arctan(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>atanf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>atanl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>atand32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>atand64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>atand128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define atan( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> 的弧（反）正切主值。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 (3) <code>atanl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 (2) <code>atan</code>。否则调用 (1) <code>atanf</code>。若实参为复数，则宏调用对应的复数函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catanf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catan</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catanl</a>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 在</p><p>[-</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>; +</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>]</p><p>弧度范围中的弧（反）正切（<em>arctan(arg)</em>）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回不修改的参数</li><li>若参数为 +∞，则返回 +π/2</li><li>若参数为 -∞，则返回 -π/2</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/atan.html>POSIX 指定</a>在下溢情况下，返回不修改的 <code>arg</code>，而若不支持如此，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan(1) = %f, 4*atan(1)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>4</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan(Inf) = %f, 2*atan(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan(-0.0) = %+f, atan(+0.0) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>atan(1) = 0.785398, 4*atan(1)=3.141593
</span></span><span style=display:flex><span>atan(Inf) = 1.570796, 2*atan(Inf) = 3.141593
</span></span><span style=display:flex><span>atan(-0.0) = -0.000000, atan(+0.0) = +0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.3 The atan functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.3 The atan functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.3 The atan functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.3 The atan functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.3 The atan functions （第 238-239 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.3 The atan functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.3 The atan functions （第 219 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.3 The atan functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.3 The atan function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/atan2>atan2<br>atan2f (C99)<br>atan2l (C99)<br></a></th><th>计算反正切，以符号确定象限 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></td><td>计算反正弦（arcsinxarcsin⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></td><td>计算反余弦（arccosxarccos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tan>tan<br>tanf (C99)<br>tanl (C99)<br></a></td><td>计算正切（tanxtan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catan (C99)<br>catanf (C99)<br>catanl (C99)<br></a></td><td>计算复数反正切 (函数)</td></tr><tr><td><strong>atan</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/atan>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=atanh>atanh</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/atanh>https://zh.cppreference.com/w/c/numeric/math/atanh</a></p><p>作用：计算反双曲正切（{\small\operatorname{artanh}{x} }{\small\operatorname{artanh}{x} }artanh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>atanhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>atanhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define atanh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的反双曲正切。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>atanhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>atanh</code>。否则调用 <code>atanhf</code>。若实参为复数，则调用对应的复函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanhf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanh</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanhl</a>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲扇形面积的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的反双曲正切（<em>tanh-1
(arg)</em> 或 <em>artanh(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（若支持则为 NaN）。</p><p>​ 若出现极点错误，则返回 <code>±[HUGE_VAL](http://zh.cppreference.com/w/c/numeric/math/HUGE_VAL)</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>（带正确符号）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实参不在区间 <code>[``-1``, ``+1``]</code> 中，则出现值域错误。</p><p>​ 若实参为 ±1，则出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0，则返回不修改的实参。</li><li>若实参为 ±1，则返回 ±∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a> 。</li><li>若 <em>|arg|>1</em>，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若实参为 NaN，则返回 NaN 。</li></ul><p><strong>注意</strong></p><p>​ 虽然 C 标准命名此函数为“弧双曲正切”，但双曲函数的反函数是面积函数。其实参为双曲扇形的面积，而非弧。正确的名称为“反双曲正切”（POSIX 所用）或“面积双曲正切”。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/atanh.html>POSIX 指定</a>在下溢的情况下，返回不修改的 <code>arg</code>，而且若不支持，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atanh(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>atanh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atanh(0.9) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.9</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atanh(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>atanh(0) = 0.000000
</span></span><span style=display:flex><span>atanh(-0) = -0.000000
</span></span><span style=display:flex><span>atanh(0.9) = 1.472219
</span></span><span style=display:flex><span>atanh(-1) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.3 The atanh functions （第 241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.3 The atanh functions （第 520 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.3 The atanh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.3 The atanh functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.3 The atanh functions （第 241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.3 The atanh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.3 The atanh functions （第 221-222 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.3 The atanh functions （第 457 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asinh>asinh (C99)<br>asinhf (C99)<br>asinhl (C99)<br></a></th><th>计算反双曲正弦（arsinhxarsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acosh>acosh (C99)<br>acoshf (C99)<br>acoshl (C99)<br></a></td><td>计算反双曲余弦（arcoshxarcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tanh>tanh<br>tanhf (C99)<br>tanhl (C99)<br></a></td><td>计算双曲正切（tanhxtanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanh (C99)<br>catanhf (C99)<br>catanhl (C99)<br></a></td><td>计算复数反双曲正切 (函数)</td></tr><tr><td><strong>atanh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/atanh>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=http://mathworld.wolfram.com/InverseHyperbolicTangent.html>Weisstein, Eric W. “反双曲正切。”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=atanhf>atanhf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/atanh>https://zh.cppreference.com/w/c/numeric/math/atanh</a></p><p>作用：计算反双曲正切（{\small\operatorname{artanh}{x} }{\small\operatorname{artanh}{x} }artanh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>atanhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>atanhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define atanh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的反双曲正切。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>atanhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>atanh</code>。否则调用 <code>atanhf</code>。若实参为复数，则调用对应的复函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanhf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanh</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanhl</a>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲扇形面积的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的反双曲正切（<em>tanh-1
(arg)</em> 或 <em>artanh(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（若支持则为 NaN）。</p><p>​ 若出现极点错误，则返回 <code>±[HUGE_VAL](http://zh.cppreference.com/w/c/numeric/math/HUGE_VAL)</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>（带正确符号）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实参不在区间 <code>[``-1``, ``+1``]</code> 中，则出现值域错误。</p><p>​ 若实参为 ±1，则出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0，则返回不修改的实参。</li><li>若实参为 ±1，则返回 ±∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a> 。</li><li>若 <em>|arg|>1</em>，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若实参为 NaN，则返回 NaN 。</li></ul><p><strong>注意</strong></p><p>​ 虽然 C 标准命名此函数为“弧双曲正切”，但双曲函数的反函数是面积函数。其实参为双曲扇形的面积，而非弧。正确的名称为“反双曲正切”（POSIX 所用）或“面积双曲正切”。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/atanh.html>POSIX 指定</a>在下溢的情况下，返回不修改的 <code>arg</code>，而且若不支持，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atanh(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>atanh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atanh(0.9) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.9</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atanh(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>atanh(0) = 0.000000
</span></span><span style=display:flex><span>atanh(-0) = -0.000000
</span></span><span style=display:flex><span>atanh(0.9) = 1.472219
</span></span><span style=display:flex><span>atanh(-1) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.3 The atanh functions （第 241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.3 The atanh functions （第 520 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.3 The atanh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.3 The atanh functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.3 The atanh functions （第 241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.3 The atanh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.3 The atanh functions （第 221-222 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.3 The atanh functions （第 457 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asinh>asinh (C99)<br>asinhf (C99)<br>asinhl (C99)<br></a></th><th>计算反双曲正弦（arsinhxarsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acosh>acosh (C99)<br>acoshf (C99)<br>acoshl (C99)<br></a></td><td>计算反双曲余弦（arcoshxarcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tanh>tanh<br>tanhf (C99)<br>tanhl (C99)<br></a></td><td>计算双曲正切（tanhxtanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanh (C99)<br>catanhf (C99)<br>catanhl (C99)<br></a></td><td>计算复数反双曲正切 (函数)</td></tr><tr><td><strong>atanh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/atanh>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=http://mathworld.wolfram.com/InverseHyperbolicTangent.html>Weisstein, Eric W. “反双曲正切。”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=atanhl>atanhl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/atanh>https://zh.cppreference.com/w/c/numeric/math/atanh</a></p><p>作用：计算反双曲正切（{\small\operatorname{artanh}{x} }{\small\operatorname{artanh}{x} }artanh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>atanhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>atanhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define atanh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的反双曲正切。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>atanhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>atanh</code>。否则调用 <code>atanhf</code>。若实参为复数，则调用对应的复函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanhf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanh</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanhl</a>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲扇形面积的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的反双曲正切（<em>tanh-1
(arg)</em> 或 <em>artanh(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（若支持则为 NaN）。</p><p>​ 若出现极点错误，则返回 <code>±[HUGE_VAL](http://zh.cppreference.com/w/c/numeric/math/HUGE_VAL)</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>（带正确符号）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实参不在区间 <code>[``-1``, ``+1``]</code> 中，则出现值域错误。</p><p>​ 若实参为 ±1，则出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0，则返回不修改的实参。</li><li>若实参为 ±1，则返回 ±∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a> 。</li><li>若 <em>|arg|>1</em>，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若实参为 NaN，则返回 NaN 。</li></ul><p><strong>注意</strong></p><p>​ 虽然 C 标准命名此函数为“弧双曲正切”，但双曲函数的反函数是面积函数。其实参为双曲扇形的面积，而非弧。正确的名称为“反双曲正切”（POSIX 所用）或“面积双曲正切”。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/atanh.html>POSIX 指定</a>在下溢的情况下，返回不修改的 <code>arg</code>，而且若不支持，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atanh(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>atanh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atanh(0.9) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.9</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atanh(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>atanh(0) = 0.000000
</span></span><span style=display:flex><span>atanh(-0) = -0.000000
</span></span><span style=display:flex><span>atanh(0.9) = 1.472219
</span></span><span style=display:flex><span>atanh(-1) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.3 The atanh functions （第 241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.3 The atanh functions （第 520 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.3 The atanh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.3 The atanh functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.3 The atanh functions （第 241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.3 The atanh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.3 The atanh functions （第 221-222 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.3 The atanh functions （第 457 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/asinh>asinh (C99)<br>asinhf (C99)<br>asinhl (C99)<br></a></th><th>计算反双曲正弦（arsinhxarsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acosh>acosh (C99)<br>acoshf (C99)<br>acoshl (C99)<br></a></td><td>计算反双曲余弦（arcoshxarcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tanh>tanh<br>tanhf (C99)<br>tanhl (C99)<br></a></td><td>计算双曲正切（tanhxtanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/catanh>catanh (C99)<br>catanhf (C99)<br>catanhl (C99)<br></a></td><td>计算复数反双曲正切 (函数)</td></tr><tr><td><strong>atanh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/atanh>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=http://mathworld.wolfram.com/InverseHyperbolicTangent.html>Weisstein, Eric W. “反双曲正切。”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=atanl>atanl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/atan>https://zh.cppreference.com/w/c/numeric/math/atan</a></p><p>作用：计算反正切（{\small\arctan{x} }{\small\arctan{x} }arctan(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>atanf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>atanl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>atand32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>atand64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>atand128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define atan( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> 的弧（反）正切主值。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 (3) <code>atanl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 (2) <code>atan</code>。否则调用 (1) <code>atanf</code>。若实参为复数，则宏调用对应的复数函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catanf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catan</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catanl</a>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 在</p><p>[-</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>; +</p><table><thead><tr><th>π</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>]</p><p>弧度范围中的弧（反）正切（<em>arctan(arg)</em>）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回不修改的参数</li><li>若参数为 +∞，则返回 +π/2</li><li>若参数为 -∞，则返回 -π/2</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/atan.html>POSIX 指定</a>在下溢情况下，返回不修改的 <code>arg</code>，而若不支持如此，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan(1) = %f, 4*atan(1)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>4</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan(Inf) = %f, 2*atan(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;atan(-0.0) = %+f, atan(+0.0) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>atan(1) = 0.785398, 4*atan(1)=3.141593
</span></span><span style=display:flex><span>atan(Inf) = 1.570796, 2*atan(Inf) = 3.141593
</span></span><span style=display:flex><span>atan(-0.0) = -0.000000, atan(+0.0) = +0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.3 The atan functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.3 The atan functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.3 The atan functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.3 The atan functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.3 The atan functions （第 238-239 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.3 The atan functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.3 The atan functions （第 219 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.3 The atan functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.3 The atan function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/atan2>atan2<br>atan2f (C99)<br>atan2l (C99)<br></a></th><th>计算反正切，以符号确定象限 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></td><td>计算反正弦（arcsinxarcsin⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></td><td>计算反余弦（arccosxarccos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tan>tan<br>tanf (C99)<br>tanl (C99)<br></a></td><td>计算正切（tanxtan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/catan>catan (C99)<br>catanf (C99)<br>catanl (C99)<br></a></td><td>计算复数反正切 (函数)</td></tr><tr><td><strong>atan</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/atan>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=cbrt>cbrt</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>https://zh.cppreference.com/w/c/numeric/math/cbrt</a></p><p>作用：计算立方根（\small{\sqrt[3]{x} }\small{\sqrt[3]{x} }3√x） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>cbrtf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cbrtl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define cbrt( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的立方根。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>cbrtl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>cbrt</code>。否则，调用 <code>cbrtf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的立方根（3√argarg3）。</p><p>​ 若出现下溢所致的错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>&lt;ath_errhandlin></code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（ IEC 60559 ），则</p><ul><li>若参数为 ±0 或 ±∞ ，则返回不更改的参数</li><li>若参数为 NaN ，则返回 NaN 。</li></ul><p><strong>注解</strong></p><p><code>cbrt(arg)</code> 不等价于 <code>[pow](http://zh.cppreference.com/w/c/numeric/math/pow)(arg, 1.0/3)</code>，因为有理数 1313 通常不等于 <code>1.0/3</code> 并且 <a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow</a> 不能求负底数的小数次幂。另外 <code>cbrt(arg)</code> 常给出比 <code>[pow](http://zh.cppreference.com/w/c/numeric/math/pow)(arg, 1.0/3)</code> 更精确的结果（见示例）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;普通用法:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;cbrt(729)      = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>729</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cbrt(-0.125)   = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.125</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;特殊值:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;cbrt(-0)       = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cbrt(+inf)     = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;精度:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;cbrt(343)      = %.*f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>DBL_DECIMAL_DIG</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>343</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(343,1.0/3) = %.*f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>DBL_DECIMAL_DIG</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>343</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>普通用法:
</span></span><span style=display:flex><span>cbrt(729)      = 9.000000
</span></span><span style=display:flex><span>cbrt(-0.125)   = -0.500000
</span></span><span style=display:flex><span>特殊值:
</span></span><span style=display:flex><span>cbrt(-0)       = -0.000000
</span></span><span style=display:flex><span>cbrt(+inf)     = inf
</span></span><span style=display:flex><span>精度:
</span></span><span style=display:flex><span>cbrt(343)      = 7.00000000000000000
</span></span><span style=display:flex><span>pow(343,1.0/3) = 6.99999999999999911
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.1 The cbrt functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 180-181 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.4.1 The cbrt functions （第 381- 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 247 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.1 The cbrt functions （第 524 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 228 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.1 The cbrt functions （第 460 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow<br>powf (C99)<br>powl (C99)<br></a></th><th>计算一个数的给定次幂（xyxy） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt<br>sqrtf (C99)<br>sqrtl (C99)<br></a></td><td>计算平方根（√xx） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/hypot>hypot (C99)<br>hypotf (C99)<br>hypotl (C99)<br></a></td><td>计算两个给定数平方和的平方根（√x2+y2x2+y2） (函数)</td></tr><tr><td><strong>cbrt</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/cbrt>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=cbrtf>cbrtf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>https://zh.cppreference.com/w/c/numeric/math/cbrt</a></p><p>作用：计算立方根（\small{\sqrt[3]{x} }\small{\sqrt[3]{x} }3√x） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>cbrtf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cbrtl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define cbrt( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的立方根。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>cbrtl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>cbrt</code>。否则，调用 <code>cbrtf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的立方根（3√argarg3）。</p><p>​ 若出现下溢所致的错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>&lt;ath_errhandlin></code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（ IEC 60559 ），则</p><ul><li>若参数为 ±0 或 ±∞ ，则返回不更改的参数</li><li>若参数为 NaN ，则返回 NaN 。</li></ul><p><strong>注解</strong></p><p><code>cbrt(arg)</code> 不等价于 <code>[pow](http://zh.cppreference.com/w/c/numeric/math/pow)(arg, 1.0/3)</code>，因为有理数 1313 通常不等于 <code>1.0/3</code> 并且 <a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow</a> 不能求负底数的小数次幂。另外 <code>cbrt(arg)</code> 常给出比 <code>[pow](http://zh.cppreference.com/w/c/numeric/math/pow)(arg, 1.0/3)</code> 更精确的结果（见示例）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;普通用法:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;cbrt(729)      = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>729</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cbrt(-0.125)   = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.125</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;特殊值:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;cbrt(-0)       = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cbrt(+inf)     = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;精度:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;cbrt(343)      = %.*f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>DBL_DECIMAL_DIG</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>343</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(343,1.0/3) = %.*f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>DBL_DECIMAL_DIG</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>343</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>普通用法:
</span></span><span style=display:flex><span>cbrt(729)      = 9.000000
</span></span><span style=display:flex><span>cbrt(-0.125)   = -0.500000
</span></span><span style=display:flex><span>特殊值:
</span></span><span style=display:flex><span>cbrt(-0)       = -0.000000
</span></span><span style=display:flex><span>cbrt(+inf)     = inf
</span></span><span style=display:flex><span>精度:
</span></span><span style=display:flex><span>cbrt(343)      = 7.00000000000000000
</span></span><span style=display:flex><span>pow(343,1.0/3) = 6.99999999999999911
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.1 The cbrt functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 180-181 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.4.1 The cbrt functions （第 381- 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 247 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.1 The cbrt functions （第 524 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 228 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.1 The cbrt functions （第 460 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow<br>powf (C99)<br>powl (C99)<br></a></th><th>计算一个数的给定次幂（xyxy） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt<br>sqrtf (C99)<br>sqrtl (C99)<br></a></td><td>计算平方根（√xx） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/hypot>hypot (C99)<br>hypotf (C99)<br>hypotl (C99)<br></a></td><td>计算两个给定数平方和的平方根（√x2+y2x2+y2） (函数)</td></tr><tr><td><strong>cbrt</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/cbrt>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=cbrtl>cbrtl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>https://zh.cppreference.com/w/c/numeric/math/cbrt</a></p><p>作用：计算立方根（\small{\sqrt[3]{x} }\small{\sqrt[3]{x} }3√x） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>cbrtf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cbrtl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define cbrt( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的立方根。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>cbrtl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>cbrt</code>。否则，调用 <code>cbrtf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的立方根（3√argarg3）。</p><p>​ 若出现下溢所致的错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>&lt;ath_errhandlin></code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（ IEC 60559 ），则</p><ul><li>若参数为 ±0 或 ±∞ ，则返回不更改的参数</li><li>若参数为 NaN ，则返回 NaN 。</li></ul><p><strong>注解</strong></p><p><code>cbrt(arg)</code> 不等价于 <code>[pow](http://zh.cppreference.com/w/c/numeric/math/pow)(arg, 1.0/3)</code>，因为有理数 1313 通常不等于 <code>1.0/3</code> 并且 <a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow</a> 不能求负底数的小数次幂。另外 <code>cbrt(arg)</code> 常给出比 <code>[pow](http://zh.cppreference.com/w/c/numeric/math/pow)(arg, 1.0/3)</code> 更精确的结果（见示例）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;普通用法:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;cbrt(729)      = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>729</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cbrt(-0.125)   = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.125</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;特殊值:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;cbrt(-0)       = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cbrt(+inf)     = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;精度:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;cbrt(343)      = %.*f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>DBL_DECIMAL_DIG</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cbrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>343</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(343,1.0/3) = %.*f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>DBL_DECIMAL_DIG</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>343</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>普通用法:
</span></span><span style=display:flex><span>cbrt(729)      = 9.000000
</span></span><span style=display:flex><span>cbrt(-0.125)   = -0.500000
</span></span><span style=display:flex><span>特殊值:
</span></span><span style=display:flex><span>cbrt(-0)       = -0.000000
</span></span><span style=display:flex><span>cbrt(+inf)     = inf
</span></span><span style=display:flex><span>精度:
</span></span><span style=display:flex><span>cbrt(343)      = 7.00000000000000000
</span></span><span style=display:flex><span>pow(343,1.0/3) = 6.99999999999999911
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.1 The cbrt functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 180-181 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.4.1 The cbrt functions （第 381- 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 247 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.1 The cbrt functions （第 524 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.1 The cbrt functions （第 228 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.1 The cbrt functions （第 460 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow<br>powf (C99)<br>powl (C99)<br></a></th><th>计算一个数的给定次幂（xyxy） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt<br>sqrtf (C99)<br>sqrtl (C99)<br></a></td><td>计算平方根（√xx） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/hypot>hypot (C99)<br>hypotf (C99)<br>hypotl (C99)<br></a></td><td>计算两个给定数平方和的平方根（√x2+y2x2+y2） (函数)</td></tr><tr><td><strong>cbrt</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/cbrt>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=ceil>ceil</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ceil>https://zh.cppreference.com/w/c/numeric/math/ceil</a></p><p>作用：计算不小于给定值的最小整数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>ceilf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>ceill</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ceil( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算不小于 <code>arg</code> 的最小整数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ceill</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ceil</code>。否则，调用 <code>ceilf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>返回值</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回不小于 <code>arg</code> 的最小整数，即 <em>⌈arg⌉</em>。</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/1/1e/math-ceil.svg alt=math-ceil.svg></p><p>实参</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回它而不修改。</li><li>若 <code>arg</code> 为 ±0，则返回它而不修改。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中的最大可表示浮点数都是准确的整数，故此函数自身决不上溢；然而存储于整数对象时，结果可以溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 此函数（<code>double</code> 实参的）表现如同（除了不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的自由）实现如下</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>result</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>save_round</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fegetround</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_UPWARD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>);</span> <span style=color:#8a93a5;font-style:italic>// 或 nearbyint
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>save_round</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>result</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(+2.4) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(-2.4) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>ceil(+2.4) = +3.0
</span></span><span style=display:flex><span>ceil(-2.4) = -2.0
</span></span><span style=display:flex><span>ceil(-0.0) = -0.0
</span></span><span style=display:flex><span>ceil(-Inf) = -inf
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.1 The ceil functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.1 The ceil functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.1 The ceil functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.1 The ceil functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.1 The ceil functions （第 251 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.1 The ceil functions （第 526 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.1 The ceil functions （第 231-232 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.1 The ceil functions （第 462-463 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.1 The ceil function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/round>round (C99)<br>roundf (C99)<br>roundl (C99)<br>lround (C99)<br>lroundf (C99)<br>lroundl (C99)<br>llround (C99)<br>llroundf (C99)<br>llroundl (C99)<br></a></td><td>取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint (C99)<br>nearbyintf (C99)<br>nearbyintl (C99)<br></a></td><td>用当前舍入模式取整到整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/rint>rint (C99)<br>rintf (C99)<br>rintl (C99)<br>lrint (C99)<br>lrintf (C99)<br>lrintl (C99)<br>llrint (C99)<br>llrintf (C99)<br>llrintl (C99)<br></a></td><td>使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</td></tr><tr><td><strong>ceil</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ceil>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=ceilf>ceilf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ceil>https://zh.cppreference.com/w/c/numeric/math/ceil</a></p><p>作用：计算不小于给定值的最小整数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>ceilf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>ceill</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ceil( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算不小于 <code>arg</code> 的最小整数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ceill</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ceil</code>。否则，调用 <code>ceilf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>返回值</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回不小于 <code>arg</code> 的最小整数，即 <em>⌈arg⌉</em>。</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/1/1e/math-ceil.svg alt=math-ceil.svg></p><p>实参</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回它而不修改。</li><li>若 <code>arg</code> 为 ±0，则返回它而不修改。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中的最大可表示浮点数都是准确的整数，故此函数自身决不上溢；然而存储于整数对象时，结果可以溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 此函数（<code>double</code> 实参的）表现如同（除了不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的自由）实现如下</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>result</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>save_round</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fegetround</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_UPWARD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>);</span> <span style=color:#8a93a5;font-style:italic>// 或 nearbyint
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>save_round</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>result</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(+2.4) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(-2.4) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>ceil(+2.4) = +3.0
</span></span><span style=display:flex><span>ceil(-2.4) = -2.0
</span></span><span style=display:flex><span>ceil(-0.0) = -0.0
</span></span><span style=display:flex><span>ceil(-Inf) = -inf
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.1 The ceil functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.1 The ceil functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.1 The ceil functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.1 The ceil functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.1 The ceil functions （第 251 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.1 The ceil functions （第 526 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.1 The ceil functions （第 231-232 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.1 The ceil functions （第 462-463 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.1 The ceil function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/round>round (C99)<br>roundf (C99)<br>roundl (C99)<br>lround (C99)<br>lroundf (C99)<br>lroundl (C99)<br>llround (C99)<br>llroundf (C99)<br>llroundl (C99)<br></a></td><td>取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint (C99)<br>nearbyintf (C99)<br>nearbyintl (C99)<br></a></td><td>用当前舍入模式取整到整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/rint>rint (C99)<br>rintf (C99)<br>rintl (C99)<br>lrint (C99)<br>lrintf (C99)<br>lrintl (C99)<br>llrint (C99)<br>llrintf (C99)<br>llrintl (C99)<br></a></td><td>使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</td></tr><tr><td><strong>ceil</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ceil>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=ceill>ceill</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ceil>https://zh.cppreference.com/w/c/numeric/math/ceil</a></p><p>作用：计算不小于给定值的最小整数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>ceilf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>ceill</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ceil( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算不小于 <code>arg</code> 的最小整数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ceill</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ceil</code>。否则，调用 <code>ceilf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>返回值</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回不小于 <code>arg</code> 的最小整数，即 <em>⌈arg⌉</em>。</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/1/1e/math-ceil.svg alt=math-ceil.svg></p><p>实参</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回它而不修改。</li><li>若 <code>arg</code> 为 ±0，则返回它而不修改。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中的最大可表示浮点数都是准确的整数，故此函数自身决不上溢；然而存储于整数对象时，结果可以溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 此函数（<code>double</code> 实参的）表现如同（除了不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的自由）实现如下</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>result</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>save_round</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fegetround</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_UPWARD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>);</span> <span style=color:#8a93a5;font-style:italic>// 或 nearbyint
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>save_round</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>result</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(+2.4) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(-2.4) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ceil(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>ceil(+2.4) = +3.0
</span></span><span style=display:flex><span>ceil(-2.4) = -2.0
</span></span><span style=display:flex><span>ceil(-0.0) = -0.0
</span></span><span style=display:flex><span>ceil(-Inf) = -inf
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.1 The ceil functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.1 The ceil functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.1 The ceil functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.1 The ceil functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.1 The ceil functions （第 251 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.1 The ceil functions （第 526 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.1 The ceil functions （第 231-232 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.1 The ceil functions （第 462-463 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.1 The ceil function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/round>round (C99)<br>roundf (C99)<br>roundl (C99)<br>lround (C99)<br>lroundf (C99)<br>lroundl (C99)<br>llround (C99)<br>llroundf (C99)<br>llroundl (C99)<br></a></td><td>取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint (C99)<br>nearbyintf (C99)<br>nearbyintl (C99)<br></a></td><td>用当前舍入模式取整到整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/rint>rint (C99)<br>rintf (C99)<br>rintl (C99)<br>lrint (C99)<br>lrintf (C99)<br>lrintl (C99)<br>llrint (C99)<br>llrintf (C99)<br>llrintl (C99)<br></a></td><td>使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</td></tr><tr><td><strong>ceil</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ceil>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=copysign>copysign</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/copysign>https://zh.cppreference.com/w/c/numeric/math/copysign</a></p><p>作用：从一个给定值的绝对值和另一个给定值的符号产生值 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>copysignf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>copysignl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define copysign(x, y)</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 以 <code>x</code> 的绝对值和 <code>y</code> 的符号合成浮点数。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>copysignl</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>copysign</code>。否则，调用 <code>copysignf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回拥有 <code>x</code> 的绝对值和 <code>y</code> 的符号的浮点数。</p><p>​ 若 <code>x</code> 为 NaN，则返回拥有 <code>y</code> 的符号的 NaN。</p><p>​ 若 <code>y</code> 为 -0，则仅若实现支持与算术运算一致的有符号零，结果才为负。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>返回值是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>），且与当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>独立。</li></ul><p><strong>注意</strong></p><p>​ <code>copysign</code> 是操纵 NaN 值符号的唯一可移植方式（为检验 NaN 的符号，亦可用 <a href=https://zh.cppreference.com/w/c/numeric/math/signbit>signbit</a>）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(1.0,+2.0)      = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(1.0,-2.0)      = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(INFINITY,-2.0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>    <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(NAN,-2.0)      = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>    <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>copysign(1.0,+2.0)      = +1.0
</span></span><span style=display:flex><span>copysign(1.0,-2.0)      = -1.0
</span></span><span style=display:flex><span>copysign(INFINITY,-2.0) = -inf
</span></span><span style=display:flex><span>copysign(NAN,-2.0)      = -nan
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.11.1 The copysign functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.8.1 The copysign functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.11.1 The copysign functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.8.1 The copysign functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.11.1 The copysign functions （第 255 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.8.1 The copysign functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.11.1 The copysign functions （第 236 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.8.1 The copysign functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fabs>fabs<br>fabsf (C99)<br>fabsl (C99)<br></a></th><th>计算浮点数的绝对值（|x||x|） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/signbit>signbit (C99)<br></a></td><td>检查给定数是不是负数 (宏函数)</td></tr><tr><td><strong>copysign</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/copysign>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=copysignf>copysignf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/copysign>https://zh.cppreference.com/w/c/numeric/math/copysign</a></p><p>作用：从一个给定值的绝对值和另一个给定值的符号产生值 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>copysignf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>copysignl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define copysign(x, y)</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 以 <code>x</code> 的绝对值和 <code>y</code> 的符号合成浮点数。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>copysignl</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>copysign</code>。否则，调用 <code>copysignf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回拥有 <code>x</code> 的绝对值和 <code>y</code> 的符号的浮点数。</p><p>​ 若 <code>x</code> 为 NaN，则返回拥有 <code>y</code> 的符号的 NaN。</p><p>​ 若 <code>y</code> 为 -0，则仅若实现支持与算术运算一致的有符号零，结果才为负。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>返回值是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>），且与当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>独立。</li></ul><p><strong>注意</strong></p><p>​ <code>copysign</code> 是操纵 NaN 值符号的唯一可移植方式（为检验 NaN 的符号，亦可用 <a href=https://zh.cppreference.com/w/c/numeric/math/signbit>signbit</a>）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(1.0,+2.0)      = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(1.0,-2.0)      = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(INFINITY,-2.0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>    <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(NAN,-2.0)      = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>    <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>copysign(1.0,+2.0)      = +1.0
</span></span><span style=display:flex><span>copysign(1.0,-2.0)      = -1.0
</span></span><span style=display:flex><span>copysign(INFINITY,-2.0) = -inf
</span></span><span style=display:flex><span>copysign(NAN,-2.0)      = -nan
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.11.1 The copysign functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.8.1 The copysign functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.11.1 The copysign functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.8.1 The copysign functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.11.1 The copysign functions （第 255 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.8.1 The copysign functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.11.1 The copysign functions （第 236 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.8.1 The copysign functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fabs>fabs<br>fabsf (C99)<br>fabsl (C99)<br></a></th><th>计算浮点数的绝对值（|x||x|） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/signbit>signbit (C99)<br></a></td><td>检查给定数是不是负数 (宏函数)</td></tr><tr><td><strong>copysign</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/copysign>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=copysignl>copysignl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/copysign>https://zh.cppreference.com/w/c/numeric/math/copysign</a></p><p>作用：从一个给定值的绝对值和另一个给定值的符号产生值 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>copysignf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>copysignl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define copysign(x, y)</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 以 <code>x</code> 的绝对值和 <code>y</code> 的符号合成浮点数。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>copysignl</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>copysign</code>。否则，调用 <code>copysignf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回拥有 <code>x</code> 的绝对值和 <code>y</code> 的符号的浮点数。</p><p>​ 若 <code>x</code> 为 NaN，则返回拥有 <code>y</code> 的符号的 NaN。</p><p>​ 若 <code>y</code> 为 -0，则仅若实现支持与算术运算一致的有符号零，结果才为负。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>返回值是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>），且与当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>独立。</li></ul><p><strong>注意</strong></p><p>​ <code>copysign</code> 是操纵 NaN 值符号的唯一可移植方式（为检验 NaN 的符号，亦可用 <a href=https://zh.cppreference.com/w/c/numeric/math/signbit>signbit</a>）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(1.0,+2.0)      = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(1.0,-2.0)      = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(INFINITY,-2.0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>    <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;copysign(NAN,-2.0)      = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>    <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>copysign(1.0,+2.0)      = +1.0
</span></span><span style=display:flex><span>copysign(1.0,-2.0)      = -1.0
</span></span><span style=display:flex><span>copysign(INFINITY,-2.0) = -inf
</span></span><span style=display:flex><span>copysign(NAN,-2.0)      = -nan
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.11.1 The copysign functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.8.1 The copysign functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.11.1 The copysign functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.8.1 The copysign functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.11.1 The copysign functions （第 255 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.8.1 The copysign functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.11.1 The copysign functions （第 236 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.8.1 The copysign functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/fabs>fabs<br>fabsf (C99)<br>fabsl (C99)<br></a></th><th>计算浮点数的绝对值（|x||x|） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/signbit>signbit (C99)<br></a></td><td>检查给定数是不是负数 (宏函数)</td></tr><tr><td><strong>copysign</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/copysign>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=cos>cos</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/cos>https://zh.cppreference.com/w/c/numeric/math/cos</a></p><p>作用：计算余弦（{\small\cos{x} }{\small\cos{x} }cos(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>cosf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cosl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>cosd32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>cosd64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>cosd128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define cos( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> （以弧度计量）的余弦。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>cosl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>cos</code>。否则，调用 <code>cosf</code>、若实参为复数，则该宏调用对应的复函数（<code>[ccosf](http://zh.cppreference.com/w/c/numeric/complex/ccos)</code>、<code>[ccos](http://zh.cppreference.com/w/c/numeric/complex/ccos)</code>、<code>[ccosl](http://zh.cppreference.com/w/c/numeric/complex/ccos)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>以弧度表示角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的余弦（<em>cos(arg)</em>），在范围 <em>[-1 ; +1]</em> 中。</p><p>​ 若 <code>arg</code> 的绝对值很大，则结果可能只有少量或没有效数字。 (C99 前)</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确的结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>则若参数为 ±0，则结果为 1.0</li><li>若参数为 ±∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 参数为无穷大的情况不被指定为 C 中的定义域错误，但被定义为 <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/cos.html>POSIX 中的定义域错误</a>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型用法
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi/3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi/2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(-3*pi/4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>cos(pi/3) = 0.500000
</span></span><span style=display:flex><span>cos(pi/2) = 0.000000
</span></span><span style=display:flex><span>cos(-3*pi/4) = -0.707107
</span></span><span style=display:flex><span>cos(+0) = 1.000000
</span></span><span style=display:flex><span>cos(-0) = 1.000000
</span></span><span style=display:flex><span>cos(INFINITY) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.5 The cos functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.5 The cos functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.5 The cos functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.5 The cos functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.5 The cos functions （第 239 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.5 The cos functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.5 The cos functions （第 220 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.5 The cos functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.5 The cos function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin<br>sinf (C99)<br>sinl (C99)<br></a></th><th>计算正弦（sinxsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tan>tan<br>tanf (C99)<br>tanl (C99)<br></a></td><td>计算正切（tanxtan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></td><td>计算反余弦（arccosxarccos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ccos>ccos (C99)<br>ccosf (C99)<br>ccosl (C99)<br></a></td><td>计算复数余弦 (函数)</td></tr><tr><td><strong>cos</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/cos>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=cosf>cosf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/cos>https://zh.cppreference.com/w/c/numeric/math/cos</a></p><p>作用：计算余弦（{\small\cos{x} }{\small\cos{x} }cos(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>cosf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cosl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>cosd32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>cosd64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>cosd128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define cos( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> （以弧度计量）的余弦。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>cosl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>cos</code>。否则，调用 <code>cosf</code>、若实参为复数，则该宏调用对应的复函数（<code>[ccosf](http://zh.cppreference.com/w/c/numeric/complex/ccos)</code>、<code>[ccos](http://zh.cppreference.com/w/c/numeric/complex/ccos)</code>、<code>[ccosl](http://zh.cppreference.com/w/c/numeric/complex/ccos)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>以弧度表示角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的余弦（<em>cos(arg)</em>），在范围 <em>[-1 ; +1]</em> 中。</p><p>​ 若 <code>arg</code> 的绝对值很大，则结果可能只有少量或没有效数字。 (C99 前)</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确的结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>则若参数为 ±0，则结果为 1.0</li><li>若参数为 ±∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 参数为无穷大的情况不被指定为 C 中的定义域错误，但被定义为 <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/cos.html>POSIX 中的定义域错误</a>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型用法
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi/3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi/2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(-3*pi/4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>cos(pi/3) = 0.500000
</span></span><span style=display:flex><span>cos(pi/2) = 0.000000
</span></span><span style=display:flex><span>cos(-3*pi/4) = -0.707107
</span></span><span style=display:flex><span>cos(+0) = 1.000000
</span></span><span style=display:flex><span>cos(-0) = 1.000000
</span></span><span style=display:flex><span>cos(INFINITY) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.5 The cos functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.5 The cos functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.5 The cos functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.5 The cos functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.5 The cos functions （第 239 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.5 The cos functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.5 The cos functions （第 220 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.5 The cos functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.5 The cos function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin<br>sinf (C99)<br>sinl (C99)<br></a></th><th>计算正弦（sinxsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tan>tan<br>tanf (C99)<br>tanl (C99)<br></a></td><td>计算正切（tanxtan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></td><td>计算反余弦（arccosxarccos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ccos>ccos (C99)<br>ccosf (C99)<br>ccosl (C99)<br></a></td><td>计算复数余弦 (函数)</td></tr><tr><td><strong>cos</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/cos>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=cosh>cosh</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/cosh>https://zh.cppreference.com/w/c/numeric/math/cosh</a></p><p>作用：计算双曲余弦（{\small\cosh{x} }{\small\cosh{x} }cosh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>coshf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>coshl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define cosh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的双曲余弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>coshl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>cosh</code>。否则调用 <code>coshf</code>。若实参为复数，则宏调用对应的复数函数（<code>[ccoshf](http://zh.cppreference.com/w/c/numeric/complex/ccosh)</code>、<code>[ccosh](http://zh.cppreference.com/w/c/numeric/complex/ccosh)</code>、<code>[ccoshl](http://zh.cppreference.com/w/c/numeric/complex/ccosh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的双曲余弦（<em>cosh(arg)</em> 或</p><table><thead><tr><th>earg +e-arg</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>）。</p><p>​ 若出现上溢所致的值域错误，则返回 <code>+HUGE_VAL</code>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 1</li><li>若参数为 ±∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <em>|arg| > 710.5</em>，则 <code>cosh(arg)</code> 上溢。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cosh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>cosh(-1)= %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(sinh(1) + cosh(1))=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>+</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cosh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>cosh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span><span style=color:#54b1c7>=</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cosh(710.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>cosh(1) = 1.543081
</span></span><span style=display:flex><span>cosh(-1)= 1.543081
</span></span><span style=display:flex><span>log(sinh(1) + cosh(1))=1.000000
</span></span><span style=display:flex><span>cosh(+0) = 1.000000
</span></span><span style=display:flex><span>cosh(-0) = 1.000000
</span></span><span style=display:flex><span>cosh(710.5) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.4 The cosh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.4 The cosh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.4 The cosh functions （第 176 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.2.4 The cosh functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.4 The cosh functions （第 241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.4 The cosh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.4 The cosh functions （第 222 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.4 The cosh functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.3.1 The cosh function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sinh>sinh<br>sinhf (C99)<br>sinhl (C99)<br></a></th><th>计算双曲正弦（sinhxsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tanh>tanh<br>tanhf (C99)<br>tanhl (C99)<br></a></td><td>计算双曲正切（tanhxtanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acosh>acosh (C99)<br>acoshf (C99)<br>acoshl (C99)<br></a></td><td>计算反双曲余弦（arcoshxarcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ccosh>ccosh (C99)<br>ccoshf (C99)<br>ccoshl (C99)<br></a></td><td>计算复双曲余弦 (函数)</td></tr><tr><td><strong>cosh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/cosh>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=coshf>coshf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/cosh>https://zh.cppreference.com/w/c/numeric/math/cosh</a></p><p>作用：计算双曲余弦（{\small\cosh{x} }{\small\cosh{x} }cosh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>coshf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>coshl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define cosh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的双曲余弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>coshl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>cosh</code>。否则调用 <code>coshf</code>。若实参为复数，则宏调用对应的复数函数（<code>[ccoshf](http://zh.cppreference.com/w/c/numeric/complex/ccosh)</code>、<code>[ccosh](http://zh.cppreference.com/w/c/numeric/complex/ccosh)</code>、<code>[ccoshl](http://zh.cppreference.com/w/c/numeric/complex/ccosh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的双曲余弦（<em>cosh(arg)</em> 或</p><table><thead><tr><th>earg +e-arg</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>）。</p><p>​ 若出现上溢所致的值域错误，则返回 <code>+HUGE_VAL</code>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 1</li><li>若参数为 ±∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <em>|arg| > 710.5</em>，则 <code>cosh(arg)</code> 上溢。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cosh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>cosh(-1)= %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(sinh(1) + cosh(1))=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>+</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cosh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>cosh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span><span style=color:#54b1c7>=</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cosh(710.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>cosh(1) = 1.543081
</span></span><span style=display:flex><span>cosh(-1)= 1.543081
</span></span><span style=display:flex><span>log(sinh(1) + cosh(1))=1.000000
</span></span><span style=display:flex><span>cosh(+0) = 1.000000
</span></span><span style=display:flex><span>cosh(-0) = 1.000000
</span></span><span style=display:flex><span>cosh(710.5) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.4 The cosh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.4 The cosh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.4 The cosh functions （第 176 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.2.4 The cosh functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.4 The cosh functions （第 241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.4 The cosh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.4 The cosh functions （第 222 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.4 The cosh functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.3.1 The cosh function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sinh>sinh<br>sinhf (C99)<br>sinhl (C99)<br></a></th><th>计算双曲正弦（sinhxsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tanh>tanh<br>tanhf (C99)<br>tanhl (C99)<br></a></td><td>计算双曲正切（tanhxtanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acosh>acosh (C99)<br>acoshf (C99)<br>acoshl (C99)<br></a></td><td>计算反双曲余弦（arcoshxarcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ccosh>ccosh (C99)<br>ccoshf (C99)<br>ccoshl (C99)<br></a></td><td>计算复双曲余弦 (函数)</td></tr><tr><td><strong>cosh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/cosh>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=coshl>coshl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/cosh>https://zh.cppreference.com/w/c/numeric/math/cosh</a></p><p>作用：计算双曲余弦（{\small\cosh{x} }{\small\cosh{x} }cosh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>coshf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>coshl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define cosh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的双曲余弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>coshl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>cosh</code>。否则调用 <code>coshf</code>。若实参为复数，则宏调用对应的复数函数（<code>[ccoshf](http://zh.cppreference.com/w/c/numeric/complex/ccosh)</code>、<code>[ccosh](http://zh.cppreference.com/w/c/numeric/complex/ccosh)</code>、<code>[ccoshl](http://zh.cppreference.com/w/c/numeric/complex/ccosh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的双曲余弦（<em>cosh(arg)</em> 或</p><table><thead><tr><th>earg +e-arg</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>）。</p><p>​ 若出现上溢所致的值域错误，则返回 <code>+HUGE_VAL</code>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 1</li><li>若参数为 ±∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <em>|arg| > 710.5</em>，则 <code>cosh(arg)</code> 上溢。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cosh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>cosh(-1)= %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(sinh(1) + cosh(1))=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>+</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cosh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>cosh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span><span style=color:#54b1c7>=</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cosh(710.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>cosh(1) = 1.543081
</span></span><span style=display:flex><span>cosh(-1)= 1.543081
</span></span><span style=display:flex><span>log(sinh(1) + cosh(1))=1.000000
</span></span><span style=display:flex><span>cosh(+0) = 1.000000
</span></span><span style=display:flex><span>cosh(-0) = 1.000000
</span></span><span style=display:flex><span>cosh(710.5) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.4 The cosh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.4 The cosh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.4 The cosh functions （第 176 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.2.4 The cosh functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.4 The cosh functions （第 241 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.4 The cosh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.4 The cosh functions （第 222 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.4 The cosh functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.3.1 The cosh function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sinh>sinh<br>sinhf (C99)<br>sinhl (C99)<br></a></th><th>计算双曲正弦（sinhxsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tanh>tanh<br>tanhf (C99)<br>tanhl (C99)<br></a></td><td>计算双曲正切（tanhxtanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acosh>acosh (C99)<br>acoshf (C99)<br>acoshl (C99)<br></a></td><td>计算反双曲余弦（arcoshxarcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ccosh>ccosh (C99)<br>ccoshf (C99)<br>ccoshl (C99)<br></a></td><td>计算复双曲余弦 (函数)</td></tr><tr><td><strong>cosh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/cosh>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=cosl>cosl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/cos>https://zh.cppreference.com/w/c/numeric/math/cos</a></p><p>作用：计算余弦（{\small\cos{x} }{\small\cos{x} }cos(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>cosf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cosl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>cosd32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>cosd64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>cosd128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define cos( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code> （以弧度计量）的余弦。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>cosl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>cos</code>。否则，调用 <code>cosf</code>、若实参为复数，则该宏调用对应的复函数（<code>[ccosf](http://zh.cppreference.com/w/c/numeric/complex/ccos)</code>、<code>[ccos](http://zh.cppreference.com/w/c/numeric/complex/ccos)</code>、<code>[ccosl](http://zh.cppreference.com/w/c/numeric/complex/ccos)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>以弧度表示角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的余弦（<em>cos(arg)</em>），在范围 <em>[-1 ; +1]</em> 中。</p><p>​ 若 <code>arg</code> 的绝对值很大，则结果可能只有少量或没有效数字。 (C99 前)</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确的结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>则若参数为 ±0，则结果为 1.0</li><li>若参数为 ±∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 参数为无穷大的情况不被指定为 C 中的定义域错误，但被定义为 <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/cos.html>POSIX 中的定义域错误</a>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型用法
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi/3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi/2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(-3*pi/4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>cos(pi/3) = 0.500000
</span></span><span style=display:flex><span>cos(pi/2) = 0.000000
</span></span><span style=display:flex><span>cos(-3*pi/4) = -0.707107
</span></span><span style=display:flex><span>cos(+0) = 1.000000
</span></span><span style=display:flex><span>cos(-0) = 1.000000
</span></span><span style=display:flex><span>cos(INFINITY) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.5 The cos functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.5 The cos functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.5 The cos functions （第 174 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.5 The cos functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.5 The cos functions （第 239 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.5 The cos functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.5 The cos functions （第 220 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.5 The cos functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.5 The cos function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin<br>sinf (C99)<br>sinl (C99)<br></a></th><th>计算正弦（sinxsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tan>tan<br>tanf (C99)<br>tanl (C99)<br></a></td><td>计算正切（tanxtan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/acos>acos<br>acosf (C99)<br>acosl (C99)<br></a></td><td>计算反余弦（arccosxarccos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ccos>ccos (C99)<br>ccosf (C99)<br>ccosl (C99)<br></a></td><td>计算复数余弦 (函数)</td></tr><tr><td><strong>cos</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/cos>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=erf>erf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/erf>https://zh.cppreference.com/w/c/numeric/math/erf</a></p><p>作用：计算误差函数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>erff</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>erfl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define erf( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Error_function>误差函数</a>。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>erfl</code>。否则若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>erf</code>。否则调用 <code>erff</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的误差函数的值，即 2√π∫arg0e−t2dt2π∫0arge−t2dt。 若因下溢出现值域错误，则返回（舍入后的）正确结果，即 2⋅arg√π2⋅argπ。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 ±0</li><li>若参数为 ±∞，则返回 ±1</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 若 <code>|arg| &lt; [DBL_MIN](http://zh.cppreference.com/w/c/types/limits)*([sqrt](http://zh.cppreference.com/w/c/numeric/math/sqrt)(π)/2)</code> 则保证下溢。</p><p>{\operatorname{erf}(\frac{x}{\sigma \sqrt{2} }){\operatorname{erf}(\frac{x}{\sigma \sqrt{2} }) 是测量结果小于与平均数相差 xx 的值的概率，其误差服从标准差为 σσ 的正态分布。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>phi</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x1</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x2</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x2</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>))</span> <span style=color:#54b1c7>-</span> <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x1</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>)))</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;正态变量概率:&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>int</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>=</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>;</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;[%2d:%2d]: %5.2f%%</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>100</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>phi</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;特殊值:&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;erf(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;erf(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>正态变量概率:
</span></span><span style=display:flex><span>[-4:-3]:  0.13%
</span></span><span style=display:flex><span>[-3:-2]:  2.14%
</span></span><span style=display:flex><span>[-2:-1]: 13.59%
</span></span><span style=display:flex><span>[-1: 0]: 34.13%
</span></span><span style=display:flex><span>[ 0: 1]: 34.13%
</span></span><span style=display:flex><span>[ 1: 2]: 13.59%
</span></span><span style=display:flex><span>[ 2: 3]:  2.14%
</span></span><span style=display:flex><span>[ 3: 4]:  0.13%
</span></span><span style=display:flex><span>特殊值:
</span></span><span style=display:flex><span>erf(-0) = -0.000000
</span></span><span style=display:flex><span>erf(Inf) = 1.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.1 The erf functions （第 249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.1 The erf functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.1 The erf functions （第 230 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.1 The erf functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/erfc>erfc (C99)<br>erfcf (C99)<br>erfcl (C99)<br></a></th><th>计算补误差函数 (函数)</th></tr></thead><tbody><tr><td><strong>erf</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/erf>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/Erf.html>Weisstein, Eric W. &ldquo;Erf.&rdquo;</a> From MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=erfc>erfc</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/erfc>https://zh.cppreference.com/w/c/numeric/math/erfc</a></p><p>作用：计算补误差函数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>erfcf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>erfcl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define erfc( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Complementary_error_function>补误差函数</a>，即 <code>1.0-erf(arg)</code>，但对于大的 <code>arg</code> 无精度损失。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>erfcl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>erfc</code>。否则，调用 <code>erfcf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的补误差函数的值，即 2√π∫∞arge−t2dt2π∫arg∞e−t2dt 或 1−erf(arg)1−erf⁡(arg)。</p><p>​ 若出现源于下溢的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 +∞，则返回 +0</li><li>若参数为 -∞，则返回 2</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <code>arg</code> > 26.55 则保证下溢。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>normalCDF</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// Phi(-∞, x) 又称为 N(x)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>))</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;正态累积分布函数:&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>+=</span> <span style=color:#d19a66>0.1</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;normalCDF(%.2f) %5.2f%%</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>100</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>normalCDF</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;特殊值:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;erfc(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;erfc(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>),</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>正态累积分布函数:
</span></span><span style=display:flex><span>normalCDF(0.00) 50.00%
</span></span><span style=display:flex><span>normalCDF(0.10) 53.98%
</span></span><span style=display:flex><span>normalCDF(0.20) 57.93%
</span></span><span style=display:flex><span>normalCDF(0.30) 61.79%
</span></span><span style=display:flex><span>normalCDF(0.40) 65.54%
</span></span><span style=display:flex><span>normalCDF(0.50) 69.15%
</span></span><span style=display:flex><span>normalCDF(0.60) 72.57%
</span></span><span style=display:flex><span>normalCDF(0.70) 75.80%
</span></span><span style=display:flex><span>normalCDF(0.80) 78.81%
</span></span><span style=display:flex><span>normalCDF(0.90) 81.59%
</span></span><span style=display:flex><span>normalCDF(1.00) 84.13%
</span></span><span style=display:flex><span>special values:
</span></span><span style=display:flex><span>erfc(-Inf) = 2.000000
</span></span><span style=display:flex><span>erfc(Inf) = 0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.8.2 The erfc functions （第 249-250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.2 The erfc functions （第 525 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.8.2 The erfc functions （第 249-250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.2 The erfc functions （第 525 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.2 The erfc functions （第 249-250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.2 The erfc functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.2 The erfc functions （第 230 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.2 The erfc functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/erf>erf (C99)<br>erff (C99)<br>erfl (C99)<br></a></th><th>计算误差函数 (函数)</th></tr></thead><tbody><tr><td><strong>erfc</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/erfc>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/Erfc.html>Weisstein, Eric W. &ldquo;Erfc.&rdquo;</a> 来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=erfcf>erfcf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/erfc>https://zh.cppreference.com/w/c/numeric/math/erfc</a></p><p>作用：计算补误差函数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>erfcf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>erfcl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define erfc( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Complementary_error_function>补误差函数</a>，即 <code>1.0-erf(arg)</code>，但对于大的 <code>arg</code> 无精度损失。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>erfcl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>erfc</code>。否则，调用 <code>erfcf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的补误差函数的值，即 2√π∫∞arge−t2dt2π∫arg∞e−t2dt 或 1−erf(arg)1−erf⁡(arg)。</p><p>​ 若出现源于下溢的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 +∞，则返回 +0</li><li>若参数为 -∞，则返回 2</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <code>arg</code> > 26.55 则保证下溢。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>normalCDF</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// Phi(-∞, x) 又称为 N(x)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>))</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;正态累积分布函数:&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>+=</span> <span style=color:#d19a66>0.1</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;normalCDF(%.2f) %5.2f%%</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>100</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>normalCDF</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;特殊值:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;erfc(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;erfc(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>),</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>正态累积分布函数:
</span></span><span style=display:flex><span>normalCDF(0.00) 50.00%
</span></span><span style=display:flex><span>normalCDF(0.10) 53.98%
</span></span><span style=display:flex><span>normalCDF(0.20) 57.93%
</span></span><span style=display:flex><span>normalCDF(0.30) 61.79%
</span></span><span style=display:flex><span>normalCDF(0.40) 65.54%
</span></span><span style=display:flex><span>normalCDF(0.50) 69.15%
</span></span><span style=display:flex><span>normalCDF(0.60) 72.57%
</span></span><span style=display:flex><span>normalCDF(0.70) 75.80%
</span></span><span style=display:flex><span>normalCDF(0.80) 78.81%
</span></span><span style=display:flex><span>normalCDF(0.90) 81.59%
</span></span><span style=display:flex><span>normalCDF(1.00) 84.13%
</span></span><span style=display:flex><span>special values:
</span></span><span style=display:flex><span>erfc(-Inf) = 2.000000
</span></span><span style=display:flex><span>erfc(Inf) = 0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.8.2 The erfc functions （第 249-250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.2 The erfc functions （第 525 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.8.2 The erfc functions （第 249-250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.2 The erfc functions （第 525 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.2 The erfc functions （第 249-250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.2 The erfc functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.2 The erfc functions （第 230 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.2 The erfc functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/erf>erf (C99)<br>erff (C99)<br>erfl (C99)<br></a></th><th>计算误差函数 (函数)</th></tr></thead><tbody><tr><td><strong>erfc</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/erfc>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/Erfc.html>Weisstein, Eric W. &ldquo;Erfc.&rdquo;</a> 来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=erfcl>erfcl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/erfc>https://zh.cppreference.com/w/c/numeric/math/erfc</a></p><p>作用：计算补误差函数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>erfcf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>erfcl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define erfc( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Complementary_error_function>补误差函数</a>，即 <code>1.0-erf(arg)</code>，但对于大的 <code>arg</code> 无精度损失。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>erfcl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>erfc</code>。否则，调用 <code>erfcf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的补误差函数的值，即 2√π∫∞arge−t2dt2π∫arg∞e−t2dt 或 1−erf(arg)1−erf⁡(arg)。</p><p>​ 若出现源于下溢的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 +∞，则返回 +0</li><li>若参数为 -∞，则返回 2</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <code>arg</code> > 26.55 则保证下溢。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>normalCDF</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// Phi(-∞, x) 又称为 N(x)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>))</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;正态累积分布函数:&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>+=</span> <span style=color:#d19a66>0.1</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;normalCDF(%.2f) %5.2f%%</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>100</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>normalCDF</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;特殊值:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;erfc(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;erfc(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>),</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>erfc</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>正态累积分布函数:
</span></span><span style=display:flex><span>normalCDF(0.00) 50.00%
</span></span><span style=display:flex><span>normalCDF(0.10) 53.98%
</span></span><span style=display:flex><span>normalCDF(0.20) 57.93%
</span></span><span style=display:flex><span>normalCDF(0.30) 61.79%
</span></span><span style=display:flex><span>normalCDF(0.40) 65.54%
</span></span><span style=display:flex><span>normalCDF(0.50) 69.15%
</span></span><span style=display:flex><span>normalCDF(0.60) 72.57%
</span></span><span style=display:flex><span>normalCDF(0.70) 75.80%
</span></span><span style=display:flex><span>normalCDF(0.80) 78.81%
</span></span><span style=display:flex><span>normalCDF(0.90) 81.59%
</span></span><span style=display:flex><span>normalCDF(1.00) 84.13%
</span></span><span style=display:flex><span>special values:
</span></span><span style=display:flex><span>erfc(-Inf) = 2.000000
</span></span><span style=display:flex><span>erfc(Inf) = 0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.8.2 The erfc functions （第 249-250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.2 The erfc functions （第 525 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.8.2 The erfc functions （第 249-250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.2 The erfc functions （第 525 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.2 The erfc functions （第 249-250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.2 The erfc functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.2 The erfc functions （第 230 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.2 The erfc functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/erf>erf (C99)<br>erff (C99)<br>erfl (C99)<br></a></th><th>计算误差函数 (函数)</th></tr></thead><tbody><tr><td><strong>erfc</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/erfc>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/Erfc.html>Weisstein, Eric W. &ldquo;Erfc.&rdquo;</a> 来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=erff>erff</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/erf>https://zh.cppreference.com/w/c/numeric/math/erf</a></p><p>作用：计算误差函数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>erff</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>erfl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define erf( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Error_function>误差函数</a>。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>erfl</code>。否则若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>erf</code>。否则调用 <code>erff</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的误差函数的值，即 2√π∫arg0e−t2dt2π∫0arge−t2dt。 若因下溢出现值域错误，则返回（舍入后的）正确结果，即 2⋅arg√π2⋅argπ。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 ±0</li><li>若参数为 ±∞，则返回 ±1</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 若 <code>|arg| &lt; [DBL_MIN](http://zh.cppreference.com/w/c/types/limits)*([sqrt](http://zh.cppreference.com/w/c/numeric/math/sqrt)(π)/2)</code> 则保证下溢。</p><p>{\operatorname{erf}(\frac{x}{\sigma \sqrt{2} }){\operatorname{erf}(\frac{x}{\sigma \sqrt{2} }) 是测量结果小于与平均数相差 xx 的值的概率，其误差服从标准差为 σσ 的正态分布。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>phi</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x1</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x2</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x2</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>))</span> <span style=color:#54b1c7>-</span> <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x1</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>)))</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;正态变量概率:&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>int</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>=</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>;</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;[%2d:%2d]: %5.2f%%</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>100</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>phi</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;特殊值:&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;erf(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;erf(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>正态变量概率:
</span></span><span style=display:flex><span>[-4:-3]:  0.13%
</span></span><span style=display:flex><span>[-3:-2]:  2.14%
</span></span><span style=display:flex><span>[-2:-1]: 13.59%
</span></span><span style=display:flex><span>[-1: 0]: 34.13%
</span></span><span style=display:flex><span>[ 0: 1]: 34.13%
</span></span><span style=display:flex><span>[ 1: 2]: 13.59%
</span></span><span style=display:flex><span>[ 2: 3]:  2.14%
</span></span><span style=display:flex><span>[ 3: 4]:  0.13%
</span></span><span style=display:flex><span>特殊值:
</span></span><span style=display:flex><span>erf(-0) = -0.000000
</span></span><span style=display:flex><span>erf(Inf) = 1.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.1 The erf functions （第 249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.1 The erf functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.1 The erf functions （第 230 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.1 The erf functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/erfc>erfc (C99)<br>erfcf (C99)<br>erfcl (C99)<br></a></th><th>计算补误差函数 (函数)</th></tr></thead><tbody><tr><td><strong>erf</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/erf>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/Erf.html>Weisstein, Eric W. &ldquo;Erf.&rdquo;</a> From MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=erfl>erfl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/erf>https://zh.cppreference.com/w/c/numeric/math/erf</a></p><p>作用：计算误差函数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>erff</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>erfl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define erf( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Error_function>误差函数</a>。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>erfl</code>。否则若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>erf</code>。否则调用 <code>erff</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的误差函数的值，即 2√π∫arg0e−t2dt2π∫0arge−t2dt。 若因下溢出现值域错误，则返回（舍入后的）正确结果，即 2⋅arg√π2⋅argπ。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 ±0</li><li>若参数为 ±∞，则返回 ±1</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 若 <code>|arg| &lt; [DBL_MIN](http://zh.cppreference.com/w/c/types/limits)*([sqrt](http://zh.cppreference.com/w/c/numeric/math/sqrt)(π)/2)</code> 则保证下溢。</p><p>{\operatorname{erf}(\frac{x}{\sigma \sqrt{2} }){\operatorname{erf}(\frac{x}{\sigma \sqrt{2} }) 是测量结果小于与平均数相差 xx 的值的概率，其误差服从标准差为 σσ 的正态分布。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>phi</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x1</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x2</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x2</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>))</span> <span style=color:#54b1c7>-</span> <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x1</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>)))</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;正态变量概率:&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>int</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>=</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>;</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;[%2d:%2d]: %5.2f%%</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>100</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>phi</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;特殊值:&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;erf(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;erf(Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>erf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>正态变量概率:
</span></span><span style=display:flex><span>[-4:-3]:  0.13%
</span></span><span style=display:flex><span>[-3:-2]:  2.14%
</span></span><span style=display:flex><span>[-2:-1]: 13.59%
</span></span><span style=display:flex><span>[-1: 0]: 34.13%
</span></span><span style=display:flex><span>[ 0: 1]: 34.13%
</span></span><span style=display:flex><span>[ 1: 2]: 13.59%
</span></span><span style=display:flex><span>[ 2: 3]:  2.14%
</span></span><span style=display:flex><span>[ 3: 4]:  0.13%
</span></span><span style=display:flex><span>特殊值:
</span></span><span style=display:flex><span>erf(-0) = -0.000000
</span></span><span style=display:flex><span>erf(Inf) = 1.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.1 The erf functions （第 249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.1 The erf functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.1 The erf functions （第 230 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.1 The erf functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/erfc>erfc (C99)<br>erfcf (C99)<br>erfcl (C99)<br></a></th><th>计算补误差函数 (函数)</th></tr></thead><tbody><tr><td><strong>erf</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/erf>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p><a href=https://mathworld.wolfram.com/Erf.html>Weisstein, Eric W. &ldquo;Erf.&rdquo;</a> From MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=exp>exp</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/exp>https://zh.cppreference.com/w/c/numeric/math/exp</a></p><p>作用：计算 e 的给定次幂（{\small e^x}{\small e^x}ex） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>expf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>expl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define exp( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <em>e</em>（<a href=https://en.wikipedia.org/wiki/E_(mathematical_constant)>欧拉数</a>，<code>2.7182818...</code>）的 <code>arg</code> 次幂。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>expl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>exp</code>。否则调用 <code>expf</code>。若 <code>arg</code> 为复数或虚数，则宏调用对应的复数函数（<code>[cexpf](http://zh.cppreference.com/w/c/numeric/complex/cexp)</code>、<code>[cexp](http://zh.cppreference.com/w/c/numeric/complex/cexp)</code>、<code>[cexpl](http://zh.cppreference.com/w/c/numeric/complex/cexp)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的底 <em>e</em> 指数（*earg
*）。</p><p>​ 若出现上溢所致的值域错误，则返回 <code>+HUGE_VAL</code>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 1</li><li>若参数为 -∞，则返回 +0</li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <em>709.8 &lt; arg</em> 则保证上溢，而若 <em>arg &lt; -708.4</em> 则保证下溢。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;FV of $100, continuously compounded at 3%% for 1 year = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#d19a66>100</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.03</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(710) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>exp(1) = 2.718282
</span></span><span style=display:flex><span>FV of $100, continuously compounded at 3% for 1 year = 103.045453
</span></span><span style=display:flex><span>exp(-0) = 1.000000
</span></span><span style=display:flex><span>exp(-Inf) = 0.000000
</span></span><span style=display:flex><span>exp(710) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.1 The exp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.1 The exp functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.1 The exp functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.1 The exp functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.1 The exp functions （第 242 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.1 The exp functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.1 The exp functions （第 223 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.1 The exp functions （第 458 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.1 The exp function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/exp2>exp2 (C99)<br>exp2f (C99)<br>exp2l (C99)<br></a></th><th>计算 <em>2</em> 的给定次幂（2x2x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/expm1>expm1 (C99)<br>expm1f (C99)<br>expm1l (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂减一（ex−1ex−1） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></td><td>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cexp>cexp (C99)<br>cexpf (C99)<br>cexpl (C99)<br></a></td><td>计算复数的 e 底指数 (函数)</td></tr><tr><td><strong>exp</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/exp>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=exp2>exp2</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/exp2>https://zh.cppreference.com/w/c/numeric/math/exp2</a></p><p>作用：计算 2 的给定次幂（{\small 2^x}{\small 2^x}2x） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>exp2f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>n</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>n</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>exp2l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>n</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define exp2( n )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 2 的给定 <code>n</code> 次幂。</p><p>4） 泛型宏，若 <code>n</code> 拥有 <code>long double</code> 类型，则调用 <code>exp2l</code>。否则，若 <code>n</code> 用有整数类型或 <code>double</code> 类型，则调用 <code>exp2</code>。否则调用 <code>exp2f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>n</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>n</code> 的底 <em>2</em> 指数（*2n
*）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 1</li><li>若参数为 -∞，则返回 +0</li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(-4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(-0.9) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.9</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(1024) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1024</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>exp2(5) = 32.000000
</span></span><span style=display:flex><span>exp2(0.5) = 1.414214
</span></span><span style=display:flex><span>exp2(-4) = 0.062500
</span></span><span style=display:flex><span>exp2(-0.9) = 0.535887
</span></span><span style=display:flex><span>exp2(-Inf) = 0.000000
</span></span><span style=display:flex><span>exp2(1024) = Inf
</span></span><span style=display:flex><span>    errno == ERANGE: Result too large
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.2 The exp2 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 177 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.2 The exp2 functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 242-243 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.2 The exp2 functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 223 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.2 The exp2 functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/exp>exp<br>expf (C99)<br>expl (C99)<br></a></th><th>计算 <em>e</em> 的给定次幂（exex） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/expm1>expm1 (C99)<br>expm1f (C99)<br>expm1l (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂减一（ex−1ex−1） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><strong>exp2</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/exp2>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=exp2f>exp2f</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/exp2>https://zh.cppreference.com/w/c/numeric/math/exp2</a></p><p>作用：计算 2 的给定次幂（{\small 2^x}{\small 2^x}2x） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>exp2f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>n</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>n</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>exp2l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>n</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define exp2( n )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 2 的给定 <code>n</code> 次幂。</p><p>4） 泛型宏，若 <code>n</code> 拥有 <code>long double</code> 类型，则调用 <code>exp2l</code>。否则，若 <code>n</code> 用有整数类型或 <code>double</code> 类型，则调用 <code>exp2</code>。否则调用 <code>exp2f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>n</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>n</code> 的底 <em>2</em> 指数（*2n
*）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 1</li><li>若参数为 -∞，则返回 +0</li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(-4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(-0.9) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.9</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(1024) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1024</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>exp2(5) = 32.000000
</span></span><span style=display:flex><span>exp2(0.5) = 1.414214
</span></span><span style=display:flex><span>exp2(-4) = 0.062500
</span></span><span style=display:flex><span>exp2(-0.9) = 0.535887
</span></span><span style=display:flex><span>exp2(-Inf) = 0.000000
</span></span><span style=display:flex><span>exp2(1024) = Inf
</span></span><span style=display:flex><span>    errno == ERANGE: Result too large
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.2 The exp2 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 177 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.2 The exp2 functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 242-243 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.2 The exp2 functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 223 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.2 The exp2 functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/exp>exp<br>expf (C99)<br>expl (C99)<br></a></th><th>计算 <em>e</em> 的给定次幂（exex） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/expm1>expm1 (C99)<br>expm1f (C99)<br>expm1l (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂减一（ex−1ex−1） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><strong>exp2</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/exp2>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=exp2l>exp2l</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/exp2>https://zh.cppreference.com/w/c/numeric/math/exp2</a></p><p>作用：计算 2 的给定次幂（{\small 2^x}{\small 2^x}2x） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>exp2f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>n</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>n</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>exp2l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>n</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define exp2( n )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 2 的给定 <code>n</code> 次幂。</p><p>4） 泛型宏，若 <code>n</code> 拥有 <code>long double</code> 类型，则调用 <code>exp2l</code>。否则，若 <code>n</code> 用有整数类型或 <code>double</code> 类型，则调用 <code>exp2</code>。否则调用 <code>exp2f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>n</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>n</code> 的底 <em>2</em> 指数（*2n
*）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 1</li><li>若参数为 -∞，则返回 +0</li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(-4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(-0.9) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.9</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp2(1024) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1024</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>exp2(5) = 32.000000
</span></span><span style=display:flex><span>exp2(0.5) = 1.414214
</span></span><span style=display:flex><span>exp2(-4) = 0.062500
</span></span><span style=display:flex><span>exp2(-0.9) = 0.535887
</span></span><span style=display:flex><span>exp2(-Inf) = 0.000000
</span></span><span style=display:flex><span>exp2(1024) = Inf
</span></span><span style=display:flex><span>    errno == ERANGE: Result too large
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.2 The exp2 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 177 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.2 The exp2 functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 242-243 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.2 The exp2 functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.2 The exp2 functions （第 223 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.2 The exp2 functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/exp>exp<br>expf (C99)<br>expl (C99)<br></a></th><th>计算 <em>e</em> 的给定次幂（exex） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/expm1>expm1 (C99)<br>expm1f (C99)<br>expm1l (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂减一（ex−1ex−1） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><strong>exp2</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/exp2>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=expf>expf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/exp>https://zh.cppreference.com/w/c/numeric/math/exp</a></p><p>作用：计算 e 的给定次幂（{\small e^x}{\small e^x}ex） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>expf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>expl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define exp( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <em>e</em>（<a href=https://en.wikipedia.org/wiki/E_(mathematical_constant)>欧拉数</a>，<code>2.7182818...</code>）的 <code>arg</code> 次幂。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>expl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>exp</code>。否则调用 <code>expf</code>。若 <code>arg</code> 为复数或虚数，则宏调用对应的复数函数（<code>[cexpf](http://zh.cppreference.com/w/c/numeric/complex/cexp)</code>、<code>[cexp](http://zh.cppreference.com/w/c/numeric/complex/cexp)</code>、<code>[cexpl](http://zh.cppreference.com/w/c/numeric/complex/cexp)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的底 <em>e</em> 指数（*earg
*）。</p><p>​ 若出现上溢所致的值域错误，则返回 <code>+HUGE_VAL</code>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 1</li><li>若参数为 -∞，则返回 +0</li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <em>709.8 &lt; arg</em> 则保证上溢，而若 <em>arg &lt; -708.4</em> 则保证下溢。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;FV of $100, continuously compounded at 3%% for 1 year = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#d19a66>100</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.03</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(710) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>exp(1) = 2.718282
</span></span><span style=display:flex><span>FV of $100, continuously compounded at 3% for 1 year = 103.045453
</span></span><span style=display:flex><span>exp(-0) = 1.000000
</span></span><span style=display:flex><span>exp(-Inf) = 0.000000
</span></span><span style=display:flex><span>exp(710) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.1 The exp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.1 The exp functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.1 The exp functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.1 The exp functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.1 The exp functions （第 242 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.1 The exp functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.1 The exp functions （第 223 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.1 The exp functions （第 458 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.1 The exp function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/exp2>exp2 (C99)<br>exp2f (C99)<br>exp2l (C99)<br></a></th><th>计算 <em>2</em> 的给定次幂（2x2x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/expm1>expm1 (C99)<br>expm1f (C99)<br>expm1l (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂减一（ex−1ex−1） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></td><td>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cexp>cexp (C99)<br>cexpf (C99)<br>cexpl (C99)<br></a></td><td>计算复数的 e 底指数 (函数)</td></tr><tr><td><strong>exp</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/exp>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=expl>expl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/exp>https://zh.cppreference.com/w/c/numeric/math/exp</a></p><p>作用：计算 e 的给定次幂（{\small e^x}{\small e^x}ex） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>expf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>expl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define exp( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <em>e</em>（<a href=https://en.wikipedia.org/wiki/E_(mathematical_constant)>欧拉数</a>，<code>2.7182818...</code>）的 <code>arg</code> 次幂。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>expl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>exp</code>。否则调用 <code>expf</code>。若 <code>arg</code> 为复数或虚数，则宏调用对应的复数函数（<code>[cexpf](http://zh.cppreference.com/w/c/numeric/complex/cexp)</code>、<code>[cexp](http://zh.cppreference.com/w/c/numeric/complex/cexp)</code>、<code>[cexpl](http://zh.cppreference.com/w/c/numeric/complex/cexp)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的底 <em>e</em> 指数（*earg
*）。</p><p>​ 若出现上溢所致的值域错误，则返回 <code>+HUGE_VAL</code>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 1</li><li>若参数为 -∞，则返回 +0</li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <em>709.8 &lt; arg</em> 则保证上溢，而若 <em>arg &lt; -708.4</em> 则保证下溢。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;FV of $100, continuously compounded at 3%% for 1 year = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#d19a66>100</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.03</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(710) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>exp(1) = 2.718282
</span></span><span style=display:flex><span>FV of $100, continuously compounded at 3% for 1 year = 103.045453
</span></span><span style=display:flex><span>exp(-0) = 1.000000
</span></span><span style=display:flex><span>exp(-Inf) = 0.000000
</span></span><span style=display:flex><span>exp(710) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.1 The exp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.1 The exp functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.1 The exp functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.1 The exp functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.1 The exp functions （第 242 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.1 The exp functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.1 The exp functions （第 223 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.1 The exp functions （第 458 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.1 The exp function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/exp2>exp2 (C99)<br>exp2f (C99)<br>exp2l (C99)<br></a></th><th>计算 <em>2</em> 的给定次幂（2x2x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/expm1>expm1 (C99)<br>expm1f (C99)<br>expm1l (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂减一（ex−1ex−1） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></td><td>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cexp>cexp (C99)<br>cexpf (C99)<br>cexpl (C99)<br></a></td><td>计算复数的 e 底指数 (函数)</td></tr><tr><td><strong>exp</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/exp>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=expm1>expm1</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/expm1>https://zh.cppreference.com/w/c/numeric/math/expm1</a></p><p>作用：计算 e 的给定次幂减一（{\small e^x-1}{\small e^x-1}ex-1） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>expm1f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>expm1l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define expm1( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <em>e</em>（欧拉数，<code>2.7182818</code>）的给定 <code>arg</code> 次幂减 <code>1.0</code>。若 <code>arg</code> 接近零，则此函数比表达式 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)(arg)-1.0</code> 更精确。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>expm1l</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>expm1</code>。否则调用 <code>expm1f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误则返回 <em>earg
-1</em>。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 math_errhandling 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回不修改的参数</li><li>若参数为 -∞，则返回 -1</li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 函数 <code>expm1</code> 和 <a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p</a> 对于金融计算有用：例如在计算小的日利率时：<em>(1+x)n
-1</em> 能表示为 <code>expm1(n * [log1p](http://zh.cppreference.com/w/c/numeric/math/log1p)(x))</code>。这些函数亦简化书写精确的反双曲函数。</p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <em>709.8 &lt; arg</em> 则保证上溢。</p><p><strong>注意</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Interest earned in 2 days on $100, compounded daily at 1%%</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34; on a 30/360 calendar = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#d19a66>100</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.01</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>360</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(1e-16)-1 = %g, but expm1(1e-16) = %g</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>)</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(710) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>expm1(1) = 1.718282
</span></span><span style=display:flex><span>Interest earned in 2 days on $100, compounded daily at 1%
</span></span><span style=display:flex><span> on a 30/360 calendar = 0.005556
</span></span><span style=display:flex><span>exp(1e-16)-1 = 0, but expm1(1e-16) = 1e-16
</span></span><span style=display:flex><span>expm1(-0) = -0.000000
</span></span><span style=display:flex><span>expm1(-Inf) = -1.000000
</span></span><span style=display:flex><span>expm1(710) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Result too large
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.3 The expm1 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 177 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.3 The expm1 functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 243 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.3 The expm1 functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 223-224 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.3 The expm1 functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/exp>exp<br>expf (C99)<br>expl (C99)<br></a></th><th>计算 <em>e</em> 的给定次幂（exex） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/exp2>exp2 (C99)<br>exp2f (C99)<br>exp2l (C99)<br></a></td><td>计算 <em>2</em> 的给定次幂（2x2x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><strong>expm1</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/expm1>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=expm1f>expm1f</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/expm1>https://zh.cppreference.com/w/c/numeric/math/expm1</a></p><p>作用：计算 e 的给定次幂减一（{\small e^x-1}{\small e^x-1}ex-1） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>expm1f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>expm1l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define expm1( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <em>e</em>（欧拉数，<code>2.7182818</code>）的给定 <code>arg</code> 次幂减 <code>1.0</code>。若 <code>arg</code> 接近零，则此函数比表达式 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)(arg)-1.0</code> 更精确。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>expm1l</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>expm1</code>。否则调用 <code>expm1f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误则返回 <em>earg
-1</em>。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 math_errhandling 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回不修改的参数</li><li>若参数为 -∞，则返回 -1</li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 函数 <code>expm1</code> 和 <a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p</a> 对于金融计算有用：例如在计算小的日利率时：<em>(1+x)n
-1</em> 能表示为 <code>expm1(n * [log1p](http://zh.cppreference.com/w/c/numeric/math/log1p)(x))</code>。这些函数亦简化书写精确的反双曲函数。</p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <em>709.8 &lt; arg</em> 则保证上溢。</p><p><strong>注意</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Interest earned in 2 days on $100, compounded daily at 1%%</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34; on a 30/360 calendar = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#d19a66>100</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.01</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>360</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(1e-16)-1 = %g, but expm1(1e-16) = %g</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>)</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(710) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>expm1(1) = 1.718282
</span></span><span style=display:flex><span>Interest earned in 2 days on $100, compounded daily at 1%
</span></span><span style=display:flex><span> on a 30/360 calendar = 0.005556
</span></span><span style=display:flex><span>exp(1e-16)-1 = 0, but expm1(1e-16) = 1e-16
</span></span><span style=display:flex><span>expm1(-0) = -0.000000
</span></span><span style=display:flex><span>expm1(-Inf) = -1.000000
</span></span><span style=display:flex><span>expm1(710) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Result too large
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.3 The expm1 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 177 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.3 The expm1 functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 243 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.3 The expm1 functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 223-224 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.3 The expm1 functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/exp>exp<br>expf (C99)<br>expl (C99)<br></a></th><th>计算 <em>e</em> 的给定次幂（exex） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/exp2>exp2 (C99)<br>exp2f (C99)<br>exp2l (C99)<br></a></td><td>计算 <em>2</em> 的给定次幂（2x2x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><strong>expm1</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/expm1>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=expm1l>expm1l</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/expm1>https://zh.cppreference.com/w/c/numeric/math/expm1</a></p><p>作用：计算 e 的给定次幂减一（{\small e^x-1}{\small e^x-1}ex-1） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>expm1f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>expm1l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define expm1( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <em>e</em>（欧拉数，<code>2.7182818</code>）的给定 <code>arg</code> 次幂减 <code>1.0</code>。若 <code>arg</code> 接近零，则此函数比表达式 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)(arg)-1.0</code> 更精确。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>expm1l</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>expm1</code>。否则调用 <code>expm1f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误则返回 <em>earg
-1</em>。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 math_errhandling 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回不修改的参数</li><li>若参数为 -∞，则返回 -1</li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 函数 <code>expm1</code> 和 <a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p</a> 对于金融计算有用：例如在计算小的日利率时：<em>(1+x)n
-1</em> 能表示为 <code>expm1(n * [log1p](http://zh.cppreference.com/w/c/numeric/math/log1p)(x))</code>。这些函数亦简化书写精确的反双曲函数。</p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <em>709.8 &lt; arg</em> 则保证上溢。</p><p><strong>注意</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Interest earned in 2 days on $100, compounded daily at 1%%</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34; on a 30/360 calendar = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#d19a66>100</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.01</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>360</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;exp(1e-16)-1 = %g, but expm1(1e-16) = %g</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>exp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>)</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;expm1(710) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>expm1(1) = 1.718282
</span></span><span style=display:flex><span>Interest earned in 2 days on $100, compounded daily at 1%
</span></span><span style=display:flex><span> on a 30/360 calendar = 0.005556
</span></span><span style=display:flex><span>exp(1e-16)-1 = 0, but expm1(1e-16) = 1e-16
</span></span><span style=display:flex><span>expm1(-0) = -0.000000
</span></span><span style=display:flex><span>expm1(-Inf) = -1.000000
</span></span><span style=display:flex><span>expm1(710) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Result too large
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.3 The expm1 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 177 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.3 The expm1 functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 243 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.3 The expm1 functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.3 The expm1 functions （第 223-224 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.3 The expm1 functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/exp>exp<br>expf (C99)<br>expl (C99)<br></a></th><th>计算 <em>e</em> 的给定次幂（exex） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/exp2>exp2 (C99)<br>exp2f (C99)<br>exp2l (C99)<br></a></td><td>计算 <em>2</em> 的给定次幂（2x2x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><strong>expm1</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/expm1>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fabs>fabs</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fabs>https://zh.cppreference.com/w/c/numeric/math/fabs</a></p><p>作用：计算浮点数的绝对值（|x|\small{|x|}|x|） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fabsf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fabsl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>fabsd32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>fabsd64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>fabsd128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fabs( arith )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算浮点数 <code>arg</code> 的绝对值。</p><p>​ 当且仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）才声明带有十进制浮点数形参的函数。 (C23 起)</p><p>7） 泛型宏：若实参拥有 <code>_Decimal128</code>、<code>_Decimal64</code>、<code>_Decimal32</code>、(C23 起)<code>long double</code>、<code>double</code> 或 <code>float</code> 类型，则分别调用 <code>fabsd128</code>、<code>fabsd64</code>、<code>fabsd32</code>、(C23 起)<code>fabsl</code>、<code>fabs</code> 或 <code>fabsf</code>。否则若实参拥有整数类型，则调用 <code>fabs</code>。否则若实参为复数，则宏调用对应的复函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabsf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabs</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabsl</a>）。否则行为未定义。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>arith</td><td>-</td><td>浮点数或整数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>arg</code> 的绝对值（|arg||arg|）。值是准确的，且不依赖任何舍入模式。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>&lt;ath_errhandlin></code></a> 的错误条件。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 +0。</li><li>若参数为 ±∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#define PI 3.14159
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 此数值积分假定所有面积均为正。
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>integrate</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>),</span>
</span></span><span style=display:flex><span>                 <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span> <span style=color:#8a93a5;font-style:italic>// 假定 a &lt; b
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>                 <span style=color:#e5c07b>unsigned</span> <span style=color:#aa89ea>steps</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// 假定 steps &gt; 0
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>dx</span> <span style=color:#54b1c7>=</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>b</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>/</span> <span style=color:#aa89ea>steps</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sum</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>=</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#aa89ea>b</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+=</span> <span style=color:#aa89ea>dx</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>sum</span> <span style=color:#54b1c7>+=</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>dx</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>sum</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(+3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>3.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(-3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Area under sin(x) in [-PI, PI] = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>integrate</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>sin</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>PI</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>PI</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5101</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fabs(+3) = 3.000000
</span></span><span style=display:flex><span>fabs(-3) = 3.000000
</span></span><span style=display:flex><span>fabs(-0) = 0.000000
</span></span><span style=display:flex><span>fabs(-Inf) = inf
</span></span><span style=display:flex><span>Area under sin(x) in [-PI, PI] = 4.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.2 The fabs functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.2 The fabs functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.2 The fabs functions （第 181 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.4.2 The fabs functions （第 382 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.2 The fabs functions （第 248 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.2 The fabs functions （第 524 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.2 The fabs functions （第 228-229 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.2 The fabs functions （第 460 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.2 The fabs function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/abs>abs<br>labs<br>llabs (C99)<br></a></th><th>计算整数的绝对值（|x||x|） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/copysign>copysign (C99)<br>copysignf (C99)<br>copysignl (C99)<br></a></td><td>从一个给定值的绝对值和另一个给定值的符号产生值 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/signbit>signbit (C99)<br></a></td><td>检查给定数是不是负数 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabs (C99)<br>cabsf (C99)<br>cabsl (C99)<br></a></td><td>计算复数的模（绝对值） (函数)</td></tr><tr><td><strong>fabs</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fabs>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fabsf>fabsf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fabs>https://zh.cppreference.com/w/c/numeric/math/fabs</a></p><p>作用：计算浮点数的绝对值（|x|\small{|x|}|x|） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fabsf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fabsl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>fabsd32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>fabsd64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>fabsd128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fabs( arith )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算浮点数 <code>arg</code> 的绝对值。</p><p>​ 当且仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）才声明带有十进制浮点数形参的函数。 (C23 起)</p><p>7） 泛型宏：若实参拥有 <code>_Decimal128</code>、<code>_Decimal64</code>、<code>_Decimal32</code>、(C23 起)<code>long double</code>、<code>double</code> 或 <code>float</code> 类型，则分别调用 <code>fabsd128</code>、<code>fabsd64</code>、<code>fabsd32</code>、(C23 起)<code>fabsl</code>、<code>fabs</code> 或 <code>fabsf</code>。否则若实参拥有整数类型，则调用 <code>fabs</code>。否则若实参为复数，则宏调用对应的复函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabsf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabs</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabsl</a>）。否则行为未定义。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>arith</td><td>-</td><td>浮点数或整数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>arg</code> 的绝对值（|arg||arg|）。值是准确的，且不依赖任何舍入模式。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>&lt;ath_errhandlin></code></a> 的错误条件。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 +0。</li><li>若参数为 ±∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#define PI 3.14159
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 此数值积分假定所有面积均为正。
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>integrate</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>),</span>
</span></span><span style=display:flex><span>                 <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span> <span style=color:#8a93a5;font-style:italic>// 假定 a &lt; b
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>                 <span style=color:#e5c07b>unsigned</span> <span style=color:#aa89ea>steps</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// 假定 steps &gt; 0
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>dx</span> <span style=color:#54b1c7>=</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>b</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>/</span> <span style=color:#aa89ea>steps</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sum</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>=</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#aa89ea>b</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+=</span> <span style=color:#aa89ea>dx</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>sum</span> <span style=color:#54b1c7>+=</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>dx</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>sum</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(+3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>3.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(-3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Area under sin(x) in [-PI, PI] = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>integrate</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>sin</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>PI</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>PI</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5101</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fabs(+3) = 3.000000
</span></span><span style=display:flex><span>fabs(-3) = 3.000000
</span></span><span style=display:flex><span>fabs(-0) = 0.000000
</span></span><span style=display:flex><span>fabs(-Inf) = inf
</span></span><span style=display:flex><span>Area under sin(x) in [-PI, PI] = 4.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.2 The fabs functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.2 The fabs functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.2 The fabs functions （第 181 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.4.2 The fabs functions （第 382 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.2 The fabs functions （第 248 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.2 The fabs functions （第 524 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.2 The fabs functions （第 228-229 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.2 The fabs functions （第 460 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.2 The fabs function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/abs>abs<br>labs<br>llabs (C99)<br></a></th><th>计算整数的绝对值（|x||x|） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/copysign>copysign (C99)<br>copysignf (C99)<br>copysignl (C99)<br></a></td><td>从一个给定值的绝对值和另一个给定值的符号产生值 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/signbit>signbit (C99)<br></a></td><td>检查给定数是不是负数 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabs (C99)<br>cabsf (C99)<br>cabsl (C99)<br></a></td><td>计算复数的模（绝对值） (函数)</td></tr><tr><td><strong>fabs</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fabs>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fabsl>fabsl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fabs>https://zh.cppreference.com/w/c/numeric/math/fabs</a></p><p>作用：计算浮点数的绝对值（|x|\small{|x|}|x|） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fabsf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fabsl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>fabsd32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>fabsd64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>fabsd128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fabs( arith )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算浮点数 <code>arg</code> 的绝对值。</p><p>​ 当且仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）才声明带有十进制浮点数形参的函数。 (C23 起)</p><p>7） 泛型宏：若实参拥有 <code>_Decimal128</code>、<code>_Decimal64</code>、<code>_Decimal32</code>、(C23 起)<code>long double</code>、<code>double</code> 或 <code>float</code> 类型，则分别调用 <code>fabsd128</code>、<code>fabsd64</code>、<code>fabsd32</code>、(C23 起)<code>fabsl</code>、<code>fabs</code> 或 <code>fabsf</code>。否则若实参拥有整数类型，则调用 <code>fabs</code>。否则若实参为复数，则宏调用对应的复函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabsf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabs</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabsl</a>）。否则行为未定义。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>arith</td><td>-</td><td>浮点数或整数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>arg</code> 的绝对值（|arg||arg|）。值是准确的，且不依赖任何舍入模式。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>&lt;ath_errhandlin></code></a> 的错误条件。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 +0。</li><li>若参数为 ±∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#define PI 3.14159
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 此数值积分假定所有面积均为正。
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>integrate</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>),</span>
</span></span><span style=display:flex><span>                 <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span> <span style=color:#8a93a5;font-style:italic>// 假定 a &lt; b
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>                 <span style=color:#e5c07b>unsigned</span> <span style=color:#aa89ea>steps</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// 假定 steps &gt; 0
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>dx</span> <span style=color:#54b1c7>=</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>b</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>/</span> <span style=color:#aa89ea>steps</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sum</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>=</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#aa89ea>b</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+=</span> <span style=color:#aa89ea>dx</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>sum</span> <span style=color:#54b1c7>+=</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>dx</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>sum</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(+3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>3.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(-3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fabs(-Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Area under sin(x) in [-PI, PI] = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>integrate</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>sin</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>PI</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>PI</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5101</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fabs(+3) = 3.000000
</span></span><span style=display:flex><span>fabs(-3) = 3.000000
</span></span><span style=display:flex><span>fabs(-0) = 0.000000
</span></span><span style=display:flex><span>fabs(-Inf) = inf
</span></span><span style=display:flex><span>Area under sin(x) in [-PI, PI] = 4.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.2 The fabs functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.2 The fabs functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.2 The fabs functions （第 181 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.4.2 The fabs functions （第 382 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.2 The fabs functions （第 248 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.2 The fabs functions （第 524 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.2 The fabs functions （第 228-229 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.2 The fabs functions （第 460 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.2 The fabs function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/abs>abs<br>labs<br>llabs (C99)<br></a></th><th>计算整数的绝对值（|x||x|） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/copysign>copysign (C99)<br>copysignf (C99)<br>copysignl (C99)<br></a></td><td>从一个给定值的绝对值和另一个给定值的符号产生值 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/signbit>signbit (C99)<br></a></td><td>检查给定数是不是负数 (宏函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabs (C99)<br>cabsf (C99)<br>cabsl (C99)<br></a></td><td>计算复数的模（绝对值） (函数)</td></tr><tr><td><strong>fabs</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fabs>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fdim>fdim</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fdim>https://zh.cppreference.com/w/c/numeric/math/fdim</a></p><p>作用：确定两个浮点数的非负数差（max{\small\max{(0, x-y)} }max(0, x-y)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fdimf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fdiml</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fdim( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 返回 <code>x</code> 与 <code>y</code> 间的正差，即若 <code>x>y</code> 则返回 <code>x-y</code>，否则（若 <code>x≤y</code>）返回 +0。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>fdiml</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fdim</code>。否则调用 <code>fdimf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>x</code> 与 <code>y</code> 间的正差。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若任一实参为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 等价于 <code>[fmax](http://zh.cppreference.com/w/c/numeric/math/fmax)(x-y, 0)</code>，除了 NaN 处理要求。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fdim(4, 1) = %f, fdim(1, 4)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fdim(4,-1) = %f, fdim(1,-4)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fdim(1e308, -1e308) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e308</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1e308</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fdim(4, 1) = 3.000000, fdim(1, 4)=0.000000
</span></span><span style=display:flex><span>fdim(4,-1) = 5.000000, fdim(1,-4)=5.000000
</span></span><span style=display:flex><span>fdim(1e308, -1e308) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.12.1 The fdim functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.1 The fdim functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.12.1 The fdim functions （第 187-188 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.9.1 The fdim functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.12.1 The fdim functions （第 257 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.9.1 The fdim functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.12.1 The fdim functions （第 238 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.9.1 The fdim functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/abs>abs<br>labs<br>llabs (C99)<br></a></th><th>计算整数的绝对值（|x||x|） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmax>fmax (C99)<br>fmaxf (C99)<br>fmaxl (C99)<br></a></td><td>确定两个浮点数的较大者 (函数)</td></tr><tr><td><strong>fdim</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fdim>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fdimf>fdimf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fdim>https://zh.cppreference.com/w/c/numeric/math/fdim</a></p><p>作用：确定两个浮点数的非负数差（max{\small\max{(0, x-y)} }max(0, x-y)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fdimf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fdiml</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fdim( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 返回 <code>x</code> 与 <code>y</code> 间的正差，即若 <code>x>y</code> 则返回 <code>x-y</code>，否则（若 <code>x≤y</code>）返回 +0。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>fdiml</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fdim</code>。否则调用 <code>fdimf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>x</code> 与 <code>y</code> 间的正差。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若任一实参为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 等价于 <code>[fmax](http://zh.cppreference.com/w/c/numeric/math/fmax)(x-y, 0)</code>，除了 NaN 处理要求。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fdim(4, 1) = %f, fdim(1, 4)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fdim(4,-1) = %f, fdim(1,-4)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fdim(1e308, -1e308) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e308</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1e308</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fdim(4, 1) = 3.000000, fdim(1, 4)=0.000000
</span></span><span style=display:flex><span>fdim(4,-1) = 5.000000, fdim(1,-4)=5.000000
</span></span><span style=display:flex><span>fdim(1e308, -1e308) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.12.1 The fdim functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.1 The fdim functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.12.1 The fdim functions （第 187-188 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.9.1 The fdim functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.12.1 The fdim functions （第 257 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.9.1 The fdim functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.12.1 The fdim functions （第 238 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.9.1 The fdim functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/abs>abs<br>labs<br>llabs (C99)<br></a></th><th>计算整数的绝对值（|x||x|） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmax>fmax (C99)<br>fmaxf (C99)<br>fmaxl (C99)<br></a></td><td>确定两个浮点数的较大者 (函数)</td></tr><tr><td><strong>fdim</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fdim>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fdiml>fdiml</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fdim>https://zh.cppreference.com/w/c/numeric/math/fdim</a></p><p>作用：确定两个浮点数的非负数差（max{\small\max{(0, x-y)} }max(0, x-y)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fdimf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fdiml</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fdim( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 返回 <code>x</code> 与 <code>y</code> 间的正差，即若 <code>x>y</code> 则返回 <code>x-y</code>，否则（若 <code>x≤y</code>）返回 +0。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>fdiml</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fdim</code>。否则调用 <code>fdimf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>x</code> 与 <code>y</code> 间的正差。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若任一实参为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 等价于 <code>[fmax](http://zh.cppreference.com/w/c/numeric/math/fmax)(x-y, 0)</code>，除了 NaN 处理要求。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fdim(4, 1) = %f, fdim(1, 4)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fdim(4,-1) = %f, fdim(1,-4)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fdim(1e308, -1e308) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fdim</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e308</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1e308</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fdim(4, 1) = 3.000000, fdim(1, 4)=0.000000
</span></span><span style=display:flex><span>fdim(4,-1) = 5.000000, fdim(1,-4)=5.000000
</span></span><span style=display:flex><span>fdim(1e308, -1e308) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.12.1 The fdim functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.1 The fdim functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.12.1 The fdim functions （第 187-188 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.9.1 The fdim functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.12.1 The fdim functions （第 257 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.9.1 The fdim functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.12.1 The fdim functions （第 238 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.9.1 The fdim functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/abs>abs<br>labs<br>llabs (C99)<br></a></th><th>计算整数的绝对值（|x||x|） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmax>fmax (C99)<br>fmaxf (C99)<br>fmaxl (C99)<br></a></td><td>确定两个浮点数的较大者 (函数)</td></tr><tr><td><strong>fdim</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fdim>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=floor>floor</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/floor>https://zh.cppreference.com/w/c/numeric/math/floor</a></p><p>作用：计算不大于给定值的最大整数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>floorf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>floorl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define floor( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算不大于 <code>arg</code> 的最大整数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>floorl</code>。否则，若 <code>arg</code> 用有整数类型或 <code>double</code> 类型，则调用 <code>floor</code>。否则调用 <code>floorf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回不大于 <code>arg</code> 的最大整数，即 <em>⌊arg⌋</em>。</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/72/math-floor.svg alt=math-floor.svg></p><p>参数</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入方式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回不修改的参数。</li><li>若 <code>arg</code> 为 ±0，则返回不修改的参数。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ 在舍入非整数有限值时可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数准确地为整数，故此函数自身决不上溢；然而存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>floor(+2.7) = +2.0
</span></span><span style=display:flex><span>floor(-2.7) = -3.0
</span></span><span style=display:flex><span>floor(-0.0) = -0.0
</span></span><span style=display:flex><span>floor(-Inf) = -inf
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.2 The floor functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.2 The floor functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.2 The floor functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.2 The floor functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.2 The floor functions （第 251 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.2 The floor functions （第 526 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.2 The floor functions （第 232 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.2 The floor functions （第 463 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.3 The floor function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></th><th>计算不小于给定值的最小整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/round>round (C99)<br>roundf (C99)<br>roundl (C99)<br>lround (C99)<br>lroundf (C99)<br>lroundl (C99)<br>llround (C99)<br>llroundf (C99)<br>llroundl (C99)<br></a></td><td>取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</td></tr><tr><td><strong>floor</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/floor>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=floorf>floorf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/floor>https://zh.cppreference.com/w/c/numeric/math/floor</a></p><p>作用：计算不大于给定值的最大整数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>floorf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>floorl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define floor( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算不大于 <code>arg</code> 的最大整数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>floorl</code>。否则，若 <code>arg</code> 用有整数类型或 <code>double</code> 类型，则调用 <code>floor</code>。否则调用 <code>floorf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回不大于 <code>arg</code> 的最大整数，即 <em>⌊arg⌋</em>。</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/72/math-floor.svg alt=math-floor.svg></p><p>参数</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入方式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回不修改的参数。</li><li>若 <code>arg</code> 为 ±0，则返回不修改的参数。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ 在舍入非整数有限值时可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数准确地为整数，故此函数自身决不上溢；然而存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>floor(+2.7) = +2.0
</span></span><span style=display:flex><span>floor(-2.7) = -3.0
</span></span><span style=display:flex><span>floor(-0.0) = -0.0
</span></span><span style=display:flex><span>floor(-Inf) = -inf
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.2 The floor functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.2 The floor functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.2 The floor functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.2 The floor functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.2 The floor functions （第 251 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.2 The floor functions （第 526 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.2 The floor functions （第 232 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.2 The floor functions （第 463 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.3 The floor function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></th><th>计算不小于给定值的最小整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/round>round (C99)<br>roundf (C99)<br>roundl (C99)<br>lround (C99)<br>lroundf (C99)<br>lroundl (C99)<br>llround (C99)<br>llroundf (C99)<br>llroundl (C99)<br></a></td><td>取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</td></tr><tr><td><strong>floor</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/floor>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=floorl>floorl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/floor>https://zh.cppreference.com/w/c/numeric/math/floor</a></p><p>作用：计算不大于给定值的最大整数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>floorf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>floorl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define floor( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算不大于 <code>arg</code> 的最大整数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>floorl</code>。否则，若 <code>arg</code> 用有整数类型或 <code>double</code> 类型，则调用 <code>floor</code>。否则调用 <code>floorf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回不大于 <code>arg</code> 的最大整数，即 <em>⌊arg⌋</em>。</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/72/math-floor.svg alt=math-floor.svg></p><p>参数</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入方式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回不修改的参数。</li><li>若 <code>arg</code> 为 ±0，则返回不修改的参数。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ 在舍入非整数有限值时可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数准确地为整数，故此函数自身决不上溢；然而存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;floor(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>floor(+2.7) = +2.0
</span></span><span style=display:flex><span>floor(-2.7) = -3.0
</span></span><span style=display:flex><span>floor(-0.0) = -0.0
</span></span><span style=display:flex><span>floor(-Inf) = -inf
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.2 The floor functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.2 The floor functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.2 The floor functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.2 The floor functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.2 The floor functions （第 251 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.2 The floor functions （第 526 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.2 The floor functions （第 232 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.2 The floor functions （第 463 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.3 The floor function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></th><th>计算不小于给定值的最小整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/round>round (C99)<br>roundf (C99)<br>roundl (C99)<br>lround (C99)<br>lroundf (C99)<br>lroundl (C99)<br>llround (C99)<br>llroundf (C99)<br>llroundl (C99)<br></a></td><td>取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</td></tr><tr><td><strong>floor</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/floor>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fma>fma</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fma>https://zh.cppreference.com/w/c/numeric/math/fma</a></p><p>作用：计算结合的乘加运算 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMA  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAF </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fma( x, y, z )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>(x * y) + z</code>，如同用无限精度，而仅舍入一次到结果类型。</p><p>4-6) 若定义宏常量 <code>FP_FAST_FMA</code>、<code>FP_FAST_FMAF</code> 或 <code>FP_FAST_FMAL</code>，则对应函数 <code>fma</code>、<code>fmaf</code> 或 <code>fmal</code> 分别求值快于（并且精度高于）<code>double</code>、<code>float</code> 和 <code>long double</code> 实参的表达式 <code>x * y + z</code>。若定义，则这些宏求值为整数 <code>1</code>。</p><p>7） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>fmal</code>。否则若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fma</code>。否则调用<code>fmaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y, z</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>(x * y) + z</code> 的值，如同计算为无限精度再舍入一次以适合目标类型（或者说是作为单次三元浮点数运算计算）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若</p><p><code>x</code></p><p>为零而</p><p><code>y</code></p><p>为无穷大或</p><p><code>x</code></p><p>为无穷大而</p><p><code>y</code></p><p>为零，且</p><ul><li>若 <code>z</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若 <code>z</code> 为 NaN，则返回 NaN 并可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li></ul></li><li><p>若 <code>x * y</code> 为准确的无穷大且 <code>z</code> 为带相反符号的无穷大，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</p></li><li><p>若 <code>x</code> 或 <code>y</code> 为 NaN，则返回 NaN。</p></li><li><p>若 <code>z</code> 为 NaN，且 <code>x * y</code> 不是 <code>0 * Inf</code> 或 <code>Inf * 0</code>，则返回 NaN（而无 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>）。</p></li></ul><p><strong>注解</strong></p><p>​ 此运算经常在硬件中实现为<a href=https://en.wikipedia.org/wiki/Multiply%E2%80%93accumulate_operation>融合乘加</a> CPU 指令。若硬件支持，则期待定义相应的 <code>FP_FAST_FMA*</code> 宏，但多数实现即使在不定义这些宏时也利用该 CPU 指令。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/fma.html>POSIX 指定</a> <code>x * y</code> 非法且 <code>z</code> 为 NaN 的情形是定义域错误。</p><p>​ 由于其无限的中间精度，<code>fma</code> 是其他正确舍入数学运算，如 <a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt</a> 或甚至除法（在 CPU 不支持的平台上，例如 <a href=https://en.wikipedia.org/wiki/Itanium>Itanium</a>）的常用构建块。</p><p>​ 同所有浮点数表达式，表达式 <code>(x*y) + z</code> 可编译为融合乘加，除非 <a href=https://zh.cppreference.com/w/cpp/preprocessor/impl>#pragma</a> <code>STDC FP_CONTRACT</code> 为关闭。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 演示 fma 和内建运算符间的区别
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>in</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 double is %.23f (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3),&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34; or 1.0 if rounded to double</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>expr_result</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 * 10 - 1 = %g : 1 subtracted after &#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;intermediate rounding to 1.0</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>expr_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>fma_result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(0.1, 10, -1) = %g (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// fma 用于 double-double
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>in double-double arithmetic, 0.1 * 10 is representable as &#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>high</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>low</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>high</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%g + %g</span><span style=color:#d26464;font-weight:700>\n\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>high</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>low</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(+Inf, 10, -Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>0.1 double is 0.10000000000000000555112 (0x1.999999999999ap-4)
</span></span><span style=display:flex><span>0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3), or 1.0 if rounded to double
</span></span><span style=display:flex><span>0.1 * 10 - 1 = 0 : 1 subtracted after intermediate rounding to 1.0
</span></span><span style=display:flex><span>fma(0.1, 10, -1) = 5.55112e-17 (0x1p-54)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>in double-double arithmetic, 0.1 * 10 is representable as 1 + 5.55112e-17
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>fma(+Inf, 10, -Inf) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.13.1 The fma functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.10.1 The fma functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.13.1 The fma functions （第 188-189 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.10.1 The fma functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.13.1 The fma functions （第 258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.10.1 The fma functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.13.1 The fma functions （第 239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.10.1 The fma functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></th><th>计算浮点数除法运算的带符号余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>fma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fma>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fmaf>fmaf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fma>https://zh.cppreference.com/w/c/numeric/math/fma</a></p><p>作用：计算结合的乘加运算 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMA  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAF </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fma( x, y, z )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>(x * y) + z</code>，如同用无限精度，而仅舍入一次到结果类型。</p><p>4-6) 若定义宏常量 <code>FP_FAST_FMA</code>、<code>FP_FAST_FMAF</code> 或 <code>FP_FAST_FMAL</code>，则对应函数 <code>fma</code>、<code>fmaf</code> 或 <code>fmal</code> 分别求值快于（并且精度高于）<code>double</code>、<code>float</code> 和 <code>long double</code> 实参的表达式 <code>x * y + z</code>。若定义，则这些宏求值为整数 <code>1</code>。</p><p>7） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>fmal</code>。否则若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fma</code>。否则调用<code>fmaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y, z</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>(x * y) + z</code> 的值，如同计算为无限精度再舍入一次以适合目标类型（或者说是作为单次三元浮点数运算计算）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若</p><p><code>x</code></p><p>为零而</p><p><code>y</code></p><p>为无穷大或</p><p><code>x</code></p><p>为无穷大而</p><p><code>y</code></p><p>为零，且</p><ul><li>若 <code>z</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若 <code>z</code> 为 NaN，则返回 NaN 并可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li></ul></li><li><p>若 <code>x * y</code> 为准确的无穷大且 <code>z</code> 为带相反符号的无穷大，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</p></li><li><p>若 <code>x</code> 或 <code>y</code> 为 NaN，则返回 NaN。</p></li><li><p>若 <code>z</code> 为 NaN，且 <code>x * y</code> 不是 <code>0 * Inf</code> 或 <code>Inf * 0</code>，则返回 NaN（而无 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>）。</p></li></ul><p><strong>注解</strong></p><p>​ 此运算经常在硬件中实现为<a href=https://en.wikipedia.org/wiki/Multiply%E2%80%93accumulate_operation>融合乘加</a> CPU 指令。若硬件支持，则期待定义相应的 <code>FP_FAST_FMA*</code> 宏，但多数实现即使在不定义这些宏时也利用该 CPU 指令。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/fma.html>POSIX 指定</a> <code>x * y</code> 非法且 <code>z</code> 为 NaN 的情形是定义域错误。</p><p>​ 由于其无限的中间精度，<code>fma</code> 是其他正确舍入数学运算，如 <a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt</a> 或甚至除法（在 CPU 不支持的平台上，例如 <a href=https://en.wikipedia.org/wiki/Itanium>Itanium</a>）的常用构建块。</p><p>​ 同所有浮点数表达式，表达式 <code>(x*y) + z</code> 可编译为融合乘加，除非 <a href=https://zh.cppreference.com/w/cpp/preprocessor/impl>#pragma</a> <code>STDC FP_CONTRACT</code> 为关闭。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 演示 fma 和内建运算符间的区别
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>in</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 double is %.23f (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3),&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34; or 1.0 if rounded to double</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>expr_result</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 * 10 - 1 = %g : 1 subtracted after &#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;intermediate rounding to 1.0</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>expr_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>fma_result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(0.1, 10, -1) = %g (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// fma 用于 double-double
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>in double-double arithmetic, 0.1 * 10 is representable as &#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>high</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>low</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>high</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%g + %g</span><span style=color:#d26464;font-weight:700>\n\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>high</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>low</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(+Inf, 10, -Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>0.1 double is 0.10000000000000000555112 (0x1.999999999999ap-4)
</span></span><span style=display:flex><span>0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3), or 1.0 if rounded to double
</span></span><span style=display:flex><span>0.1 * 10 - 1 = 0 : 1 subtracted after intermediate rounding to 1.0
</span></span><span style=display:flex><span>fma(0.1, 10, -1) = 5.55112e-17 (0x1p-54)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>in double-double arithmetic, 0.1 * 10 is representable as 1 + 5.55112e-17
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>fma(+Inf, 10, -Inf) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.13.1 The fma functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.10.1 The fma functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.13.1 The fma functions （第 188-189 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.10.1 The fma functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.13.1 The fma functions （第 258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.10.1 The fma functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.13.1 The fma functions （第 239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.10.1 The fma functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></th><th>计算浮点数除法运算的带符号余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>fma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fma>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fmal>fmal</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fma>https://zh.cppreference.com/w/c/numeric/math/fma</a></p><p>作用：计算结合的乘加运算 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMA  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAF </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_FAST_FMAL </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义  */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fma( x, y, z )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>(x * y) + z</code>，如同用无限精度，而仅舍入一次到结果类型。</p><p>4-6) 若定义宏常量 <code>FP_FAST_FMA</code>、<code>FP_FAST_FMAF</code> 或 <code>FP_FAST_FMAL</code>，则对应函数 <code>fma</code>、<code>fmaf</code> 或 <code>fmal</code> 分别求值快于（并且精度高于）<code>double</code>、<code>float</code> 和 <code>long double</code> 实参的表达式 <code>x * y + z</code>。若定义，则这些宏求值为整数 <code>1</code>。</p><p>7） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>fmal</code>。否则若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fma</code>。否则调用<code>fmaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y, z</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回 <code>(x * y) + z</code> 的值，如同计算为无限精度再舍入一次以适合目标类型（或者说是作为单次三元浮点数运算计算）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若</p><p><code>x</code></p><p>为零而</p><p><code>y</code></p><p>为无穷大或</p><p><code>x</code></p><p>为无穷大而</p><p><code>y</code></p><p>为零，且</p><ul><li>若 <code>z</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若 <code>z</code> 为 NaN，则返回 NaN 并可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li></ul></li><li><p>若 <code>x * y</code> 为准确的无穷大且 <code>z</code> 为带相反符号的无穷大，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</p></li><li><p>若 <code>x</code> 或 <code>y</code> 为 NaN，则返回 NaN。</p></li><li><p>若 <code>z</code> 为 NaN，且 <code>x * y</code> 不是 <code>0 * Inf</code> 或 <code>Inf * 0</code>，则返回 NaN（而无 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>）。</p></li></ul><p><strong>注解</strong></p><p>​ 此运算经常在硬件中实现为<a href=https://en.wikipedia.org/wiki/Multiply%E2%80%93accumulate_operation>融合乘加</a> CPU 指令。若硬件支持，则期待定义相应的 <code>FP_FAST_FMA*</code> 宏，但多数实现即使在不定义这些宏时也利用该 CPU 指令。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/fma.html>POSIX 指定</a> <code>x * y</code> 非法且 <code>z</code> 为 NaN 的情形是定义域错误。</p><p>​ 由于其无限的中间精度，<code>fma</code> 是其他正确舍入数学运算，如 <a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt</a> 或甚至除法（在 CPU 不支持的平台上，例如 <a href=https://en.wikipedia.org/wiki/Itanium>Itanium</a>）的常用构建块。</p><p>​ 同所有浮点数表达式，表达式 <code>(x*y) + z</code> 可编译为融合乘加，除非 <a href=https://zh.cppreference.com/w/cpp/preprocessor/impl>#pragma</a> <code>STDC FP_CONTRACT</code> 为关闭。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 演示 fma 和内建运算符间的区别
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>in</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 double is %.23f (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>in</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3),&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34; or 1.0 if rounded to double</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>expr_result</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0.1 * 10 - 1 = %g : 1 subtracted after &#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;intermediate rounding to 1.0</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>expr_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>fma_result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(0.1, 10, -1) = %g (%a)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fma_result</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// fma 用于 double-double
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>in double-double arithmetic, 0.1 * 10 is representable as &#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>high</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0.1</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>low</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>high</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%g + %g</span><span style=color:#d26464;font-weight:700>\n\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>high</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>low</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fma(+Inf, 10, -Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>0.1 double is 0.10000000000000000555112 (0x1.999999999999ap-4)
</span></span><span style=display:flex><span>0.1*10 is 1.0000000000000000555112 (0x8.0000000000002p-3), or 1.0 if rounded to double
</span></span><span style=display:flex><span>0.1 * 10 - 1 = 0 : 1 subtracted after intermediate rounding to 1.0
</span></span><span style=display:flex><span>fma(0.1, 10, -1) = 5.55112e-17 (0x1p-54)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>in double-double arithmetic, 0.1 * 10 is representable as 1 + 5.55112e-17
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>fma(+Inf, 10, -Inf) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.13.1 The fma functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.10.1 The fma functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.13.1 The fma functions （第 188-189 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.10.1 The fma functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.13.1 The fma functions （第 258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.10.1 The fma functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.13.1 The fma functions （第 239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.10.1 The fma functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></th><th>计算浮点数除法运算的带符号余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>fma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fma>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fmax>fmax</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fmax>https://zh.cppreference.com/w/c/numeric/math/fmax</a></p><p>作用：确定两个浮点数的较大者 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmaxf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmaxl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fmax( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 返回二个浮点数实参的较大者，把 NaNs 当做缺失数据（在 NaN 和数值间选择数值）。</p><p>4） 泛型宏：若任一参数拥有 <code>long double</code> 类型，则调用 <code>fmaxl</code>。否则，若任一实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fmax</code>。否则调用 <code>fmaxf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回二个浮点数的较大者。返回值准确且不依赖任何舍入模式。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误条件。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若两个实参之一为 NaN，则返回另一实参的值</li><li>仅若两个实参均为 NaN，才返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 不要求此函数对零的符号敏感，尽管某些实现额外强制若一个实参是 +0 而另一个是 -0，则返回 +0。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmax(2,1)    = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmax(-Inf,0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmax(NaN,-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fmax(2,1)    = 2.000000
</span></span><span style=display:flex><span>fmax(-Inf,0) = 0.000000
</span></span><span style=display:flex><span>fmax(NaN,-1) = -1.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.12.2 The fmax functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.2 The fmax functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.12.2 The fmax functions （第 188 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 397 页）</p></li><li><p>F.10.9.2 The fmax functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.12.2 The fmax functions （第 257-258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.9.2 The fmax functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.12.2 The fmax functions （第 238-239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.9.2 The fmax functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isgreater>isgreater (C99)<br></a></th><th>检查第一个浮点数实参是否大于第二个 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmin>fmin (C99)<br>fminf (C99)<br>fminl (C99)<br></a></td><td>确定两个浮点数的较小者 (函数)</td></tr><tr><td><strong>fmax</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fmax>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fmaxf>fmaxf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fmax>https://zh.cppreference.com/w/c/numeric/math/fmax</a></p><p>作用：确定两个浮点数的较大者 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmaxf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmaxl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fmax( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 返回二个浮点数实参的较大者，把 NaNs 当做缺失数据（在 NaN 和数值间选择数值）。</p><p>4） 泛型宏：若任一参数拥有 <code>long double</code> 类型，则调用 <code>fmaxl</code>。否则，若任一实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fmax</code>。否则调用 <code>fmaxf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回二个浮点数的较大者。返回值准确且不依赖任何舍入模式。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误条件。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若两个实参之一为 NaN，则返回另一实参的值</li><li>仅若两个实参均为 NaN，才返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 不要求此函数对零的符号敏感，尽管某些实现额外强制若一个实参是 +0 而另一个是 -0，则返回 +0。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmax(2,1)    = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmax(-Inf,0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmax(NaN,-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fmax(2,1)    = 2.000000
</span></span><span style=display:flex><span>fmax(-Inf,0) = 0.000000
</span></span><span style=display:flex><span>fmax(NaN,-1) = -1.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.12.2 The fmax functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.2 The fmax functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.12.2 The fmax functions （第 188 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 397 页）</p></li><li><p>F.10.9.2 The fmax functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.12.2 The fmax functions （第 257-258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.9.2 The fmax functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.12.2 The fmax functions （第 238-239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.9.2 The fmax functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isgreater>isgreater (C99)<br></a></th><th>检查第一个浮点数实参是否大于第二个 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmin>fmin (C99)<br>fminf (C99)<br>fminl (C99)<br></a></td><td>确定两个浮点数的较小者 (函数)</td></tr><tr><td><strong>fmax</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fmax>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fmaxl>fmaxl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fmax>https://zh.cppreference.com/w/c/numeric/math/fmax</a></p><p>作用：确定两个浮点数的较大者 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmaxf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmaxl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fmax( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 返回二个浮点数实参的较大者，把 NaNs 当做缺失数据（在 NaN 和数值间选择数值）。</p><p>4） 泛型宏：若任一参数拥有 <code>long double</code> 类型，则调用 <code>fmaxl</code>。否则，若任一实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fmax</code>。否则调用 <code>fmaxf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回二个浮点数的较大者。返回值准确且不依赖任何舍入模式。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误条件。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若两个实参之一为 NaN，则返回另一实参的值</li><li>仅若两个实参均为 NaN，才返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 不要求此函数对零的符号敏感，尽管某些实现额外强制若一个实参是 +0 而另一个是 -0，则返回 +0。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmax(2,1)    = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmax(-Inf,0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmax(NaN,-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmax</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fmax(2,1)    = 2.000000
</span></span><span style=display:flex><span>fmax(-Inf,0) = 0.000000
</span></span><span style=display:flex><span>fmax(NaN,-1) = -1.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.12.2 The fmax functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.2 The fmax functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.12.2 The fmax functions （第 188 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 397 页）</p></li><li><p>F.10.9.2 The fmax functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.12.2 The fmax functions （第 257-258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.9.2 The fmax functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.12.2 The fmax functions （第 238-239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.9.2 The fmax functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isgreater>isgreater (C99)<br></a></th><th>检查第一个浮点数实参是否大于第二个 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmin>fmin (C99)<br>fminf (C99)<br>fminl (C99)<br></a></td><td>确定两个浮点数的较小者 (函数)</td></tr><tr><td><strong>fmax</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fmax>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fmin>fmin</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fmin>https://zh.cppreference.com/w/c/numeric/math/fmin</a></p><p>作用：确定两个浮点数的较小者 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fminf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fminl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fmin( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 返回二个浮点数参数的较小者，把 NaNs 当做缺失数据（在 NaN 和数值间选择数值）。</p><p>4） 泛型宏：若任一实参拥有 <code>long double</code> 类型，则调用 <code>fmaxl</code>。否则，若任一实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fmax</code>。否则调用 <code>fmaxf</code> 。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回两个浮点数的较小者。返回值准确且不依赖任何舍入模式。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误条件。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若两个参数之一为 NaN，则返回另一实参的值</li><li>仅若两个参数均为 NaN，才返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 不要求此函数对零的符号敏感，尽管某些实现额外强制若一个实参是 +0 而另一个是 -0，则返回 -0。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmin(2,1)    = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmin(-Inf,0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmin(NaN,-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fmin(2,1)    = 1.000000
</span></span><span style=display:flex><span>fmin(-Inf,0) = -inf
</span></span><span style=display:flex><span>fmin(NaN,-1) = -1.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.12.3 The fmin functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.3 The fmin functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.12.3 The fmin functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.3 The fmin functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.12.3 The fmin functions （第 258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.9.3 The fmin functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.12.3 The fmin functions （第 239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.9.3 The fmin functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isless>isless (C99)<br></a></th><th>检查第一个浮点数实参是否小于第二个 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmax>fmax (C99)<br>fmaxf (C99)<br>fmaxl (C99)<br></a></td><td>确定两个浮点数的较大者 (函数)</td></tr><tr><td><strong>fmin</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fmin>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fminf>fminf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fmin>https://zh.cppreference.com/w/c/numeric/math/fmin</a></p><p>作用：确定两个浮点数的较小者 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fminf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fminl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fmin( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 返回二个浮点数参数的较小者，把 NaNs 当做缺失数据（在 NaN 和数值间选择数值）。</p><p>4） 泛型宏：若任一实参拥有 <code>long double</code> 类型，则调用 <code>fmaxl</code>。否则，若任一实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fmax</code>。否则调用 <code>fmaxf</code> 。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回两个浮点数的较小者。返回值准确且不依赖任何舍入模式。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误条件。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若两个参数之一为 NaN，则返回另一实参的值</li><li>仅若两个参数均为 NaN，才返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 不要求此函数对零的符号敏感，尽管某些实现额外强制若一个实参是 +0 而另一个是 -0，则返回 -0。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmin(2,1)    = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmin(-Inf,0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmin(NaN,-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fmin(2,1)    = 1.000000
</span></span><span style=display:flex><span>fmin(-Inf,0) = -inf
</span></span><span style=display:flex><span>fmin(NaN,-1) = -1.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.12.3 The fmin functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.3 The fmin functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.12.3 The fmin functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.3 The fmin functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.12.3 The fmin functions （第 258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.9.3 The fmin functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.12.3 The fmin functions （第 239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.9.3 The fmin functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isless>isless (C99)<br></a></th><th>检查第一个浮点数实参是否小于第二个 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmax>fmax (C99)<br>fmaxf (C99)<br>fmaxl (C99)<br></a></td><td>确定两个浮点数的较大者 (函数)</td></tr><tr><td><strong>fmin</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fmin>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fminl>fminl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fmin>https://zh.cppreference.com/w/c/numeric/math/fmin</a></p><p>作用：确定两个浮点数的较小者 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fminf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fminl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fmin( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 返回二个浮点数参数的较小者，把 NaNs 当做缺失数据（在 NaN 和数值间选择数值）。</p><p>4） 泛型宏：若任一实参拥有 <code>long double</code> 类型，则调用 <code>fmaxl</code>。否则，若任一实参拥有整数类型或 <code>double</code> 类型，则调用 <code>fmax</code>。否则调用 <code>fmaxf</code> 。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回两个浮点数的较小者。返回值准确且不依赖任何舍入模式。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误条件。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若两个参数之一为 NaN，则返回另一实参的值</li><li>仅若两个参数均为 NaN，才返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 不要求此函数对零的符号敏感，尽管某些实现额外强制若一个实参是 +0 而另一个是 -0，则返回 -0。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmin(2,1)    = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmin(-Inf,0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmin(NaN,-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fmin(2,1)    = 1.000000
</span></span><span style=display:flex><span>fmin(-Inf,0) = -inf
</span></span><span style=display:flex><span>fmin(NaN,-1) = -1.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.12.3 The fmin functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.3 The fmin functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.12.3 The fmin functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.9.3 The fmin functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.12.3 The fmin functions （第 258 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.9.3 The fmin functions （第 530 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.12.3 The fmin functions （第 239 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.9.3 The fmin functions （第 466 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isless>isless (C99)<br></a></th><th>检查第一个浮点数实参是否小于第二个 (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmax>fmax (C99)<br>fmaxf (C99)<br>fmaxl (C99)<br></a></td><td>确定两个浮点数的较大者 (函数)</td></tr><tr><td><strong>fmin</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fmin>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fmod>fmod</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fmod>https://zh.cppreference.com/w/c/numeric/math/fmod</a></p><p>作用：计算浮点数除法运算的余数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmodf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmodl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fmod( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算除法运算 <code>x / y</code> 的浮点数余数。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型则调用 <code>fmodl</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型则调用 <code>fmod</code>。否则调用 <code>fmodf</code>。</p><p>​ 此函数计算的除法 <code>x / y</code> 的浮点数余数是 <code>x - n * y</code> 的准确值，其中 <code>n</code> 是截断小数部分的 <code>x / y</code>。</p><p>​ 返回值与 <code>x</code> 拥有相同符号，且绝对值小于 <code>y</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回定义于上的除法 <code>x / y</code> 的浮点数余数。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持的平台上为 NaN）。</p><p>​ 若出现下溢所指定值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>y</code> 为零则可能发生定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559）：</p><ul><li>若 <code>x</code> 为 ±0 且 <code>y</code> 非零，则返回 ±0。</li><li>若 <code>x</code> 为 ±∞ 且 <code>y</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±0 且 <code>x</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±∞ 且 <code>x</code> 有限，则返回 <code>x</code>。</li><li>若任一实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/fmod.html>POSIX 要求</a>若 <code>x</code> 为无穷大或 <code>y</code> 为零则出现定义域错误。</p><p>​ <code>fmod</code>，但不是 <a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder</a>，适于安静地包装浮点数类型到无符号整数类型：<code>(0.0 &lt;= (y = fmod( [rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0 )) ? y : 65536.0 + y)</code> 在范围 <code>[``-0.0``, ``65535.0``]</code> 内，它对应 <code>unsigned short</code>，但 <code>[remainder](http://zh.cppreference.com/w/c/numeric/math/remainder)([rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0)</code> 在范围 <code>[``-32767.0``, ``+32768.0``]</code> 内，它在 <code>signed short</code> 的范围外。</p><p>​ <code>fmod</code> 的 <code>double</code> 版本表现为如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>),</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>y</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>y</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>result</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>+=</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>result</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(-5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(-5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+0.0, 1.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(-0.0, 1.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, Inf) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, 0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fmod(+5.1, +3.0) = 2.1
</span></span><span style=display:flex><span>fmod(-5.1, +3.0) = -2.1
</span></span><span style=display:flex><span>fmod(+5.1, -3.0) = 2.1
</span></span><span style=display:flex><span>fmod(-5.1, -3.0) = -2.1
</span></span><span style=display:flex><span>fmod(+0.0, 1.0) = 0.0
</span></span><span style=display:flex><span>fmod(-0.0, 1.0) = -0.0
</span></span><span style=display:flex><span>fmod(+5.1, Inf) = 5.1
</span></span><span style=display:flex><span>fmod(+5.1, 0) = nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.10.1 The fmod functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.7.1 The fmod functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.10.1 The fmod functions （第 185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 274-275 页）</p></li><li><p>F.10.7.1 The fmod functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.10.1 The fmod functions （第 254 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.7.1 The fmod functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.10.1 The fmod functions （第 235 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.7.1 The fmod functions （第 465 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.4 The fmod function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/div>div<br>ldiv<br>lldiv (C99)<br></a></th><th>计算整数除法的商和余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></td><td>计算浮点数除法运算的带符号余数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>fmod</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fmod>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fmodf>fmodf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fmod>https://zh.cppreference.com/w/c/numeric/math/fmod</a></p><p>作用：计算浮点数除法运算的余数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmodf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmodl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fmod( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算除法运算 <code>x / y</code> 的浮点数余数。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型则调用 <code>fmodl</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型则调用 <code>fmod</code>。否则调用 <code>fmodf</code>。</p><p>​ 此函数计算的除法 <code>x / y</code> 的浮点数余数是 <code>x - n * y</code> 的准确值，其中 <code>n</code> 是截断小数部分的 <code>x / y</code>。</p><p>​ 返回值与 <code>x</code> 拥有相同符号，且绝对值小于 <code>y</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回定义于上的除法 <code>x / y</code> 的浮点数余数。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持的平台上为 NaN）。</p><p>​ 若出现下溢所指定值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>y</code> 为零则可能发生定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559）：</p><ul><li>若 <code>x</code> 为 ±0 且 <code>y</code> 非零，则返回 ±0。</li><li>若 <code>x</code> 为 ±∞ 且 <code>y</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±0 且 <code>x</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±∞ 且 <code>x</code> 有限，则返回 <code>x</code>。</li><li>若任一实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/fmod.html>POSIX 要求</a>若 <code>x</code> 为无穷大或 <code>y</code> 为零则出现定义域错误。</p><p>​ <code>fmod</code>，但不是 <a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder</a>，适于安静地包装浮点数类型到无符号整数类型：<code>(0.0 &lt;= (y = fmod( [rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0 )) ? y : 65536.0 + y)</code> 在范围 <code>[``-0.0``, ``65535.0``]</code> 内，它对应 <code>unsigned short</code>，但 <code>[remainder](http://zh.cppreference.com/w/c/numeric/math/remainder)([rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0)</code> 在范围 <code>[``-32767.0``, ``+32768.0``]</code> 内，它在 <code>signed short</code> 的范围外。</p><p>​ <code>fmod</code> 的 <code>double</code> 版本表现为如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>),</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>y</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>y</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>result</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>+=</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>result</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(-5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(-5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+0.0, 1.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(-0.0, 1.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, Inf) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, 0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fmod(+5.1, +3.0) = 2.1
</span></span><span style=display:flex><span>fmod(-5.1, +3.0) = -2.1
</span></span><span style=display:flex><span>fmod(+5.1, -3.0) = 2.1
</span></span><span style=display:flex><span>fmod(-5.1, -3.0) = -2.1
</span></span><span style=display:flex><span>fmod(+0.0, 1.0) = 0.0
</span></span><span style=display:flex><span>fmod(-0.0, 1.0) = -0.0
</span></span><span style=display:flex><span>fmod(+5.1, Inf) = 5.1
</span></span><span style=display:flex><span>fmod(+5.1, 0) = nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.10.1 The fmod functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.7.1 The fmod functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.10.1 The fmod functions （第 185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 274-275 页）</p></li><li><p>F.10.7.1 The fmod functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.10.1 The fmod functions （第 254 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.7.1 The fmod functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.10.1 The fmod functions （第 235 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.7.1 The fmod functions （第 465 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.4 The fmod function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/div>div<br>ldiv<br>lldiv (C99)<br></a></th><th>计算整数除法的商和余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></td><td>计算浮点数除法运算的带符号余数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>fmod</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fmod>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=fmodl>fmodl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/fmod>https://zh.cppreference.com/w/c/numeric/math/fmod</a></p><p>作用：计算浮点数除法运算的余数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>fmodf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmodl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define fmod( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算除法运算 <code>x / y</code> 的浮点数余数。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型则调用 <code>fmodl</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型则调用 <code>fmod</code>。否则调用 <code>fmodf</code>。</p><p>​ 此函数计算的除法 <code>x / y</code> 的浮点数余数是 <code>x - n * y</code> 的准确值，其中 <code>n</code> 是截断小数部分的 <code>x / y</code>。</p><p>​ 返回值与 <code>x</code> 拥有相同符号，且绝对值小于 <code>y</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回定义于上的除法 <code>x / y</code> 的浮点数余数。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持的平台上为 NaN）。</p><p>​ 若出现下溢所指定值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>y</code> 为零则可能发生定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559）：</p><ul><li>若 <code>x</code> 为 ±0 且 <code>y</code> 非零，则返回 ±0。</li><li>若 <code>x</code> 为 ±∞ 且 <code>y</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±0 且 <code>x</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±∞ 且 <code>x</code> 有限，则返回 <code>x</code>。</li><li>若任一实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/fmod.html>POSIX 要求</a>若 <code>x</code> 为无穷大或 <code>y</code> 为零则出现定义域错误。</p><p>​ <code>fmod</code>，但不是 <a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder</a>，适于安静地包装浮点数类型到无符号整数类型：<code>(0.0 &lt;= (y = fmod( [rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0 )) ? y : 65536.0 + y)</code> 在范围 <code>[``-0.0``, ``65535.0``]</code> 内，它对应 <code>unsigned short</code>，但 <code>[remainder](http://zh.cppreference.com/w/c/numeric/math/remainder)([rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0)</code> 在范围 <code>[``-32767.0``, ``+32768.0``]</code> 内，它在 <code>signed short</code> 的范围外。</p><p>​ <code>fmod</code> 的 <code>double</code> 版本表现为如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>),</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>y</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fabs</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>y</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>result</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>result</span> <span style=color:#54b1c7>+=</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>result</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(-5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(-5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+0.0, 1.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(-0.0, 1.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, Inf) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;fmod(+5.1, 0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>fmod</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>fmod(+5.1, +3.0) = 2.1
</span></span><span style=display:flex><span>fmod(-5.1, +3.0) = -2.1
</span></span><span style=display:flex><span>fmod(+5.1, -3.0) = 2.1
</span></span><span style=display:flex><span>fmod(-5.1, -3.0) = -2.1
</span></span><span style=display:flex><span>fmod(+0.0, 1.0) = 0.0
</span></span><span style=display:flex><span>fmod(-0.0, 1.0) = -0.0
</span></span><span style=display:flex><span>fmod(+5.1, Inf) = 5.1
</span></span><span style=display:flex><span>fmod(+5.1, 0) = nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.10.1 The fmod functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.7.1 The fmod functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.10.1 The fmod functions （第 185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 274-275 页）</p></li><li><p>F.10.7.1 The fmod functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.10.1 The fmod functions （第 254 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.7.1 The fmod functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.10.1 The fmod functions （第 235 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.7.1 The fmod functions （第 465 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.6.4 The fmod function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/div>div<br>ldiv<br>lldiv (C99)<br></a></th><th>计算整数除法的商和余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></td><td>计算浮点数除法运算的带符号余数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>fmod</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/fmod>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=frexp>frexp</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/frexp>https://zh.cppreference.com/w/c/numeric/math/frexp</a></p><p>作用：将数拆分成有效数字和 2 的幂次 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>frexpf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>frexpl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define frexp( arg, exp )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 分解给定的浮点数 <code>x</code> 为正规化小数和二的整数幂。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>frexpl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>frexp</code>。否则调用 <code>frexpf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>exp</td><td>-</td><td>指向要存储指数到的整数的指针</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>arg</code> 为零，则返回零并存储零于 <code>*exp</code>。</p><p>​ 否则（若 <code>arg</code> 非零），若不出现错误，则返回范围 <code>(-1;-0.5], [0.5; 1)</code> 中的值 <code>x</code>，并存储整数为 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>，满足 <em>x×2(*exp)
=arg</em>。</p><p>​ 若存储于 <code>*exp</code> 的值在 <code>int</code> 范围外，则行为未指定。</p><p>​ 若 <code>arg</code> 不是浮点数，则行为未指定。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若 <code>arg</code> 为 ±0，则返回不修改的参数，并存储 <code>0</code> 于 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>。</li><li>若 <code>arg</code> 为 ±∞，则返回它，并存储未指定值于 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN，并存储未指定值于 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>。</li><li>不引发浮点数异常。</li><li>若 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 为 <code>2</code>（或 2 的幂），则返回值准确，忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 二进制系统（其中 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 为 <code>2</code>）上，<code>frexp</code> 可实现为</p><pre tabindex=0><code>{
    *exp = (value == 0) ? 0 : (int)(1 + logb(value));
    return scalbn(value, -(*exp));
}
</code></pre><p>​ 函数 <code>frexp</code> 与其对偶 <a href=https://zh.cppreference.com/w/c/numeric/math/ldexp>ldexp</a> 能一起用于操纵浮点数的表示，而无需直接的位操作。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.4 The frexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.4 The frexp functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.4 The frexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.4 The frexp functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.4 The frexp functions （第 243 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.4 The frexp functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.4 The frexp functions （第 224 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.4 The frexp functions （第 458 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.2 The frexp function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/ldexp>ldexp<br>ldexpf (C99)<br>ldexpl (C99)<br></a></th><th>将数乘以 <em>2</em> 的幂 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/logb>logb (C99)<br>logbf (C99)<br>logbl (C99)<br></a></td><td>提取给定数的指数（结果为浮点数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>ilogb (C99)<br>ilogbf (C99)<br>ilogbl (C99)<br></a></td><td>提取给定数的指数（结果为整数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/modf>modf<br>modff (C99)<br>modfl (C99)<br></a></td><td>把一个数拆分成整数和小数部分 (函数)</td></tr><tr><td><strong>frexp</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/frexp>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=frexpf>frexpf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/frexp>https://zh.cppreference.com/w/c/numeric/math/frexp</a></p><p>作用：将数拆分成有效数字和 2 的幂次 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>frexpf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>frexpl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define frexp( arg, exp )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 分解给定的浮点数 <code>x</code> 为正规化小数和二的整数幂。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>frexpl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>frexp</code>。否则调用 <code>frexpf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>exp</td><td>-</td><td>指向要存储指数到的整数的指针</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>arg</code> 为零，则返回零并存储零于 <code>*exp</code>。</p><p>​ 否则（若 <code>arg</code> 非零），若不出现错误，则返回范围 <code>(-1;-0.5], [0.5; 1)</code> 中的值 <code>x</code>，并存储整数为 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>，满足 <em>x×2(*exp)
=arg</em>。</p><p>​ 若存储于 <code>*exp</code> 的值在 <code>int</code> 范围外，则行为未指定。</p><p>​ 若 <code>arg</code> 不是浮点数，则行为未指定。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若 <code>arg</code> 为 ±0，则返回不修改的参数，并存储 <code>0</code> 于 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>。</li><li>若 <code>arg</code> 为 ±∞，则返回它，并存储未指定值于 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN，并存储未指定值于 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>。</li><li>不引发浮点数异常。</li><li>若 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 为 <code>2</code>（或 2 的幂），则返回值准确，忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 二进制系统（其中 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 为 <code>2</code>）上，<code>frexp</code> 可实现为</p><pre tabindex=0><code>{
    *exp = (value == 0) ? 0 : (int)(1 + logb(value));
    return scalbn(value, -(*exp));
}
</code></pre><p>​ 函数 <code>frexp</code> 与其对偶 <a href=https://zh.cppreference.com/w/c/numeric/math/ldexp>ldexp</a> 能一起用于操纵浮点数的表示，而无需直接的位操作。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.4 The frexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.4 The frexp functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.4 The frexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.4 The frexp functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.4 The frexp functions （第 243 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.4 The frexp functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.4 The frexp functions （第 224 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.4 The frexp functions （第 458 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.2 The frexp function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/ldexp>ldexp<br>ldexpf (C99)<br>ldexpl (C99)<br></a></th><th>将数乘以 <em>2</em> 的幂 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/logb>logb (C99)<br>logbf (C99)<br>logbl (C99)<br></a></td><td>提取给定数的指数（结果为浮点数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>ilogb (C99)<br>ilogbf (C99)<br>ilogbl (C99)<br></a></td><td>提取给定数的指数（结果为整数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/modf>modf<br>modff (C99)<br>modfl (C99)<br></a></td><td>把一个数拆分成整数和小数部分 (函数)</td></tr><tr><td><strong>frexp</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/frexp>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=frexpl>frexpl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/frexp>https://zh.cppreference.com/w/c/numeric/math/frexp</a></p><p>作用：将数拆分成有效数字和 2 的幂次 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>frexpf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>frexpl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define frexp( arg, exp )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 分解给定的浮点数 <code>x</code> 为正规化小数和二的整数幂。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>frexpl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>frexp</code>。否则调用 <code>frexpf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>exp</td><td>-</td><td>指向要存储指数到的整数的指针</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若 <code>arg</code> 为零，则返回零并存储零于 <code>*exp</code>。</p><p>​ 否则（若 <code>arg</code> 非零），若不出现错误，则返回范围 <code>(-1;-0.5], [0.5; 1)</code> 中的值 <code>x</code>，并存储整数为 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>，满足 <em>x×2(*exp)
=arg</em>。</p><p>​ 若存储于 <code>*exp</code> 的值在 <code>int</code> 范围外，则行为未指定。</p><p>​ 若 <code>arg</code> 不是浮点数，则行为未指定。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若 <code>arg</code> 为 ±0，则返回不修改的参数，并存储 <code>0</code> 于 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>。</li><li>若 <code>arg</code> 为 ±∞，则返回它，并存储未指定值于 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN，并存储未指定值于 <code>*[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code>。</li><li>不引发浮点数异常。</li><li>若 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 为 <code>2</code>（或 2 的幂），则返回值准确，忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 二进制系统（其中 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 为 <code>2</code>）上，<code>frexp</code> 可实现为</p><pre tabindex=0><code>{
    *exp = (value == 0) ? 0 : (int)(1 + logb(value));
    return scalbn(value, -(*exp));
}
</code></pre><p>​ 函数 <code>frexp</code> 与其对偶 <a href=https://zh.cppreference.com/w/c/numeric/math/ldexp>ldexp</a> 能一起用于操纵浮点数的表示，而无需直接的位操作。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.4 The frexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.4 The frexp functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.4 The frexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.4 The frexp functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.4 The frexp functions （第 243 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.4 The frexp functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.4 The frexp functions （第 224 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.4 The frexp functions （第 458 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.2 The frexp function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/ldexp>ldexp<br>ldexpf (C99)<br>ldexpl (C99)<br></a></th><th>将数乘以 <em>2</em> 的幂 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/logb>logb (C99)<br>logbf (C99)<br>logbl (C99)<br></a></td><td>提取给定数的指数（结果为浮点数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>ilogb (C99)<br>ilogbf (C99)<br>ilogbl (C99)<br></a></td><td>提取给定数的指数（结果为整数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/modf>modf<br>modff (C99)<br>modfl (C99)<br></a></td><td>把一个数拆分成整数和小数部分 (函数)</td></tr><tr><td><strong>frexp</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/frexp>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=hypot>hypot</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/hypot>https://zh.cppreference.com/w/c/numeric/math/hypot</a></p><p>作用：计算两个给定数平方和的平方根（\scriptsize{\sqrt{x^2+y^2} }\scriptsize{\sqrt{x^2+y^2} }√x2+y2） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>hypotf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>hypotl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define hypot( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>x</code> 与 <code>y</code> 平方和的平方根，而不会在计算的中间阶段有过度的上溢或下溢。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用函数的 <code>long double</code> 版本。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用函数的 <code>double</code> 版本。否则，调用函数的 <code>float</code> 版本。</p><p>​ 此函数计算的值是直角边长度为 <code>x</code> 和 <code>y</code> 的直角三角形的斜边长，或点 <code>(x, y)</code> 距原点 <code>(0, 0)</code> 的距离，或复数 <code>x+*i*y</code> 的绝对值。</p><p><strong>参数</strong></p><table><thead><tr><th>x</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>y</td><td>-</td><td>浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回直角三角形的斜边，√x2+y2x2+y2。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><code>hypot(x, y)</code>、<code>hypot(y, x)</code> 及 <code>hypot(x, -y)</code> 等价</li><li>若实参之一为 ±0，则 <code>hypot</code> 等价于以非零实参调用 <code>[fabs](http://zh.cppreference.com/w/c/numeric/math/fabs)</code></li><li>若实参之一为 ±∞，则 <code>hypot</code> 返回 +∞，即使另一参数为 NaN</li><li>否则，若任何实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 实现通常保证小于 1 ulp（<a href=https://en.wikipedia.org/wiki/Unit_in_the_last_place>最后位置单位</a>）的精度：<a href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=sysdeps/ieee754/dbl-64/e_hypot.c">GNU</a>、<a href="https://www.freebsd.org/cgi/cvsweb.cgi/src/lib/msun/src/e_hypot.c?rev=1.13.4.2;content-type=text%2Fplain">BSD</a>。</p><p>​ <code>hypot(x, y)</code> 等价于 <code>[cabs](http://zh.cppreference.com/w/c/numeric/complex/cabs)(x + I*y)</code>。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/hypot.html>POSIX 指定</a>仅若两个实参均为非正规且正确结果亦为非正规才可以出现下溢（这禁止朴素实现）。</p><p>​ <code>hypot(INFINITY, NAN)</code> 返回 +∞，但 <code>[sqrt](http://zh.cppreference.com/w/c/numeric/math/sqrt)(INFINITY * INFINITY + NAN * NAN)</code> 返回 NaN。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型用法
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;笛卡尔坐标 (1,1) 是极坐标 (%f,%f)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hypot(NAN,INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hypot(DBL_MAX,DBL_MAX) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MAX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>DBL_MAX</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>笛卡尔坐标 (1,1) 是极坐标 (1.414214,0.785398)
</span></span><span style=display:flex><span>hypot(NAN,INFINITY) = inf
</span></span><span style=display:flex><span>hypot(DBL_MAX,DBL_MAX) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.3 The hypot functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.3 The hypot functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.3 The hypot functions （第 181 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.4.3 The hypot functions （第 382 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.3 The hypot functions （第 248 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.3 The hypot functions （第 524 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.3 The hypot functions （第 229 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.3 The hypot functions （第 461 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow<br>powf (C99)<br>powl (C99)<br></a></th><th>计算一个数的给定次幂（xyxy） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt<br>sqrtf (C99)<br>sqrtl (C99)<br></a></td><td>计算平方根（√xx） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt (C99)<br>cbrtf (C99)<br>cbrtl (C99)<br></a></td><td>计算立方根（3√xx3） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabs (C99)<br>cabsf (C99)<br>cabsl (C99)<br></a></td><td>计算复数的模（绝对值） (函数)</td></tr><tr><td><strong>hypot</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/hypot>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=hypotf>hypotf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/hypot>https://zh.cppreference.com/w/c/numeric/math/hypot</a></p><p>作用：计算两个给定数平方和的平方根（\scriptsize{\sqrt{x^2+y^2} }\scriptsize{\sqrt{x^2+y^2} }√x2+y2） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>hypotf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>hypotl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define hypot( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>x</code> 与 <code>y</code> 平方和的平方根，而不会在计算的中间阶段有过度的上溢或下溢。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用函数的 <code>long double</code> 版本。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用函数的 <code>double</code> 版本。否则，调用函数的 <code>float</code> 版本。</p><p>​ 此函数计算的值是直角边长度为 <code>x</code> 和 <code>y</code> 的直角三角形的斜边长，或点 <code>(x, y)</code> 距原点 <code>(0, 0)</code> 的距离，或复数 <code>x+*i*y</code> 的绝对值。</p><p><strong>参数</strong></p><table><thead><tr><th>x</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>y</td><td>-</td><td>浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回直角三角形的斜边，√x2+y2x2+y2。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><code>hypot(x, y)</code>、<code>hypot(y, x)</code> 及 <code>hypot(x, -y)</code> 等价</li><li>若实参之一为 ±0，则 <code>hypot</code> 等价于以非零实参调用 <code>[fabs](http://zh.cppreference.com/w/c/numeric/math/fabs)</code></li><li>若实参之一为 ±∞，则 <code>hypot</code> 返回 +∞，即使另一参数为 NaN</li><li>否则，若任何实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 实现通常保证小于 1 ulp（<a href=https://en.wikipedia.org/wiki/Unit_in_the_last_place>最后位置单位</a>）的精度：<a href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=sysdeps/ieee754/dbl-64/e_hypot.c">GNU</a>、<a href="https://www.freebsd.org/cgi/cvsweb.cgi/src/lib/msun/src/e_hypot.c?rev=1.13.4.2;content-type=text%2Fplain">BSD</a>。</p><p>​ <code>hypot(x, y)</code> 等价于 <code>[cabs](http://zh.cppreference.com/w/c/numeric/complex/cabs)(x + I*y)</code>。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/hypot.html>POSIX 指定</a>仅若两个实参均为非正规且正确结果亦为非正规才可以出现下溢（这禁止朴素实现）。</p><p>​ <code>hypot(INFINITY, NAN)</code> 返回 +∞，但 <code>[sqrt](http://zh.cppreference.com/w/c/numeric/math/sqrt)(INFINITY * INFINITY + NAN * NAN)</code> 返回 NaN。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型用法
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;笛卡尔坐标 (1,1) 是极坐标 (%f,%f)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hypot(NAN,INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hypot(DBL_MAX,DBL_MAX) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MAX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>DBL_MAX</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>笛卡尔坐标 (1,1) 是极坐标 (1.414214,0.785398)
</span></span><span style=display:flex><span>hypot(NAN,INFINITY) = inf
</span></span><span style=display:flex><span>hypot(DBL_MAX,DBL_MAX) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.3 The hypot functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.3 The hypot functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.3 The hypot functions （第 181 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.4.3 The hypot functions （第 382 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.3 The hypot functions （第 248 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.3 The hypot functions （第 524 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.3 The hypot functions （第 229 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.3 The hypot functions （第 461 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow<br>powf (C99)<br>powl (C99)<br></a></th><th>计算一个数的给定次幂（xyxy） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt<br>sqrtf (C99)<br>sqrtl (C99)<br></a></td><td>计算平方根（√xx） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt (C99)<br>cbrtf (C99)<br>cbrtl (C99)<br></a></td><td>计算立方根（3√xx3） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabs (C99)<br>cabsf (C99)<br>cabsl (C99)<br></a></td><td>计算复数的模（绝对值） (函数)</td></tr><tr><td><strong>hypot</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/hypot>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=hypotl>hypotl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/hypot>https://zh.cppreference.com/w/c/numeric/math/hypot</a></p><p>作用：计算两个给定数平方和的平方根（\scriptsize{\sqrt{x^2+y^2} }\scriptsize{\sqrt{x^2+y^2} }√x2+y2） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>hypotf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>hypotl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define hypot( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>x</code> 与 <code>y</code> 平方和的平方根，而不会在计算的中间阶段有过度的上溢或下溢。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用函数的 <code>long double</code> 版本。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用函数的 <code>double</code> 版本。否则，调用函数的 <code>float</code> 版本。</p><p>​ 此函数计算的值是直角边长度为 <code>x</code> 和 <code>y</code> 的直角三角形的斜边长，或点 <code>(x, y)</code> 距原点 <code>(0, 0)</code> 的距离，或复数 <code>x+*i*y</code> 的绝对值。</p><p><strong>参数</strong></p><table><thead><tr><th>x</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>y</td><td>-</td><td>浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回直角三角形的斜边，√x2+y2x2+y2。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><code>hypot(x, y)</code>、<code>hypot(y, x)</code> 及 <code>hypot(x, -y)</code> 等价</li><li>若实参之一为 ±0，则 <code>hypot</code> 等价于以非零实参调用 <code>[fabs](http://zh.cppreference.com/w/c/numeric/math/fabs)</code></li><li>若实参之一为 ±∞，则 <code>hypot</code> 返回 +∞，即使另一参数为 NaN</li><li>否则，若任何实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 实现通常保证小于 1 ulp（<a href=https://en.wikipedia.org/wiki/Unit_in_the_last_place>最后位置单位</a>）的精度：<a href="https://sourceware.org/git/?p=glibc.git;a=blob_plain;f=sysdeps/ieee754/dbl-64/e_hypot.c">GNU</a>、<a href="https://www.freebsd.org/cgi/cvsweb.cgi/src/lib/msun/src/e_hypot.c?rev=1.13.4.2;content-type=text%2Fplain">BSD</a>。</p><p>​ <code>hypot(x, y)</code> 等价于 <code>[cabs](http://zh.cppreference.com/w/c/numeric/complex/cabs)(x + I*y)</code>。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/hypot.html>POSIX 指定</a>仅若两个实参均为非正规且正确结果亦为非正规才可以出现下溢（这禁止朴素实现）。</p><p>​ <code>hypot(INFINITY, NAN)</code> 返回 +∞，但 <code>[sqrt](http://zh.cppreference.com/w/c/numeric/math/sqrt)(INFINITY * INFINITY + NAN * NAN)</code> 返回 NaN。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型用法
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;笛卡尔坐标 (1,1) 是极坐标 (%f,%f)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>atan2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hypot(NAN,INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hypot(DBL_MAX,DBL_MAX) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>hypot</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>DBL_MAX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>DBL_MAX</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>笛卡尔坐标 (1,1) 是极坐标 (1.414214,0.785398)
</span></span><span style=display:flex><span>hypot(NAN,INFINITY) = inf
</span></span><span style=display:flex><span>hypot(DBL_MAX,DBL_MAX) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.3 The hypot functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.3 The hypot functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.3 The hypot functions （第 181 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.4.3 The hypot functions （第 382 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.3 The hypot functions （第 248 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.3 The hypot functions （第 524 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.3 The hypot functions （第 229 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.3 The hypot functions （第 461 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow<br>powf (C99)<br>powl (C99)<br></a></th><th>计算一个数的给定次幂（xyxy） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt<br>sqrtf (C99)<br>sqrtl (C99)<br></a></td><td>计算平方根（√xx） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt (C99)<br>cbrtf (C99)<br>cbrtl (C99)<br></a></td><td>计算立方根（3√xx3） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cabs>cabs (C99)<br>cabsf (C99)<br>cabsl (C99)<br></a></td><td>计算复数的模（绝对值） (函数)</td></tr><tr><td><strong>hypot</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/hypot>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=ilogb>ilogb</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>https://zh.cppreference.com/w/c/numeric/math/ilogb</a></p><p>作用：提取给定数的指数（结果为整数） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogbf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogbl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ilogb( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ILOGB0    </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ILOGBNAN  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 从浮点数实参 <code>arg</code> 提取独立于基底的无偏指数，并将它作为有符号整数返回。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ilogbl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ilogb</code>。否则调用 <code>ilogbf</code>。</p><p>5） 展开成整数常量表达式，值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 或 <code>-[INT_MAX](http://zh.cppreference.com/w/c/types/limits)</code>。</p><p>6） 展开成整数常量表达式，值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 或 <code>+[INT_MAX](http://zh.cppreference.com/w/c/types/limits)</code>。</p><p>​ 正式而言，无偏指数是非零 <code>arg</code> 的 <em>logr|arg|</em> 的整数部分，作为有符号整数，其中 <code>r</code> 是 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回作为 int 值的 <code>arg</code> 的无偏指数。</p><p>​ 若 <code>arg</code> 为零，则返回 FP_ILOGB0。</p><p>​ 若 <code>arg</code> 为无穷大，则返回 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a>。</p><p>​ 若 <code>arg</code> 为 NaN，则返回 FP_ILOGBNAN。</p><p>​ 若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>，则返回值未指定，且可能出现定义域或值域错误。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零、无穷大或 NaN ，则可能出现定义域错误或值域错误。</p><p>​ 若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> ，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>arg</code> 为 ±0、 ±∞ 或 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>所有其他情况下，结果是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>）并且忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 不是零、无穷大或 NaN，则返回的值准确等价于 <code>(int)[logb](http://zh.cppreference.com/w/c/numeric/math/logb)(arg)</code>。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/ilogb.html>POSIX 要求</a>若 <code>arg</code> 为零、无穷大、NaN 或若正确结果在 <code>int</code> 的范围外则出现定义域错误。</p><p>​ POSIX 亦要求在 XSI 一致的系统上，正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 时返回值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a>，而正确结果小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 时返回值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>。</p><p>​ 在所有已知平台上正确结果都能表示成 <code>int</code>。对于要出现溢出的情况，<a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 必须小于 <code>[LDBL_MAX_EXP](http://zh.cppreference.com/w/c/types/limits) * log2([FLT_RADIX](http://zh.cppreference.com/w/c/types/limits))</code> 或 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 必须大于 <code>[LDBL_MIN_EXP](http://zh.cppreference.com/w/c/types/limits) - [LDBL_MANT_DIG](http://zh.cppreference.com/w/c/types/limits)) * log2([FLT_RADIX](http://zh.cppreference.com/w/c/types/limits))</code>。</p><p>​ <code>ilogb</code> 所返回的指数值始终比 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 所返回的小 1，因为不同的正规化要求：对于 <code>ilogb</code> 返回的指数 <code>e</code>，<em>|arg*r-e
|</em> 在 1 与 <code>r</code> 之间（典型地在 <code>1</code> 与 <code>2</code> 之间），但 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 返回的指数 <code>e</code>，<em>|arg*2-e
|</em> 在 <code>0.5</code> 与 <code>1</code> 之间。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ilogb(0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span><span style=display:flex><span>ilogb(0) = -2147483648
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 TBD 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 TBD 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 232 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 244 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 213 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 224-225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.5 The ilogb functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/logb>logb (C99)<br>logbf (C99)<br>logbl (C99)<br></a></td><td>提取给定数的指数（结果为浮点数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>ilogb</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ilogb>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=ilogbf>ilogbf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>https://zh.cppreference.com/w/c/numeric/math/ilogb</a></p><p>作用：提取给定数的指数（结果为整数） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogbf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogbl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ilogb( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ILOGB0    </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ILOGBNAN  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 从浮点数实参 <code>arg</code> 提取独立于基底的无偏指数，并将它作为有符号整数返回。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ilogbl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ilogb</code>。否则调用 <code>ilogbf</code>。</p><p>5） 展开成整数常量表达式，值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 或 <code>-[INT_MAX](http://zh.cppreference.com/w/c/types/limits)</code>。</p><p>6） 展开成整数常量表达式，值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 或 <code>+[INT_MAX](http://zh.cppreference.com/w/c/types/limits)</code>。</p><p>​ 正式而言，无偏指数是非零 <code>arg</code> 的 <em>logr|arg|</em> 的整数部分，作为有符号整数，其中 <code>r</code> 是 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回作为 int 值的 <code>arg</code> 的无偏指数。</p><p>​ 若 <code>arg</code> 为零，则返回 FP_ILOGB0。</p><p>​ 若 <code>arg</code> 为无穷大，则返回 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a>。</p><p>​ 若 <code>arg</code> 为 NaN，则返回 FP_ILOGBNAN。</p><p>​ 若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>，则返回值未指定，且可能出现定义域或值域错误。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零、无穷大或 NaN ，则可能出现定义域错误或值域错误。</p><p>​ 若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> ，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>arg</code> 为 ±0、 ±∞ 或 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>所有其他情况下，结果是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>）并且忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 不是零、无穷大或 NaN，则返回的值准确等价于 <code>(int)[logb](http://zh.cppreference.com/w/c/numeric/math/logb)(arg)</code>。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/ilogb.html>POSIX 要求</a>若 <code>arg</code> 为零、无穷大、NaN 或若正确结果在 <code>int</code> 的范围外则出现定义域错误。</p><p>​ POSIX 亦要求在 XSI 一致的系统上，正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 时返回值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a>，而正确结果小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 时返回值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>。</p><p>​ 在所有已知平台上正确结果都能表示成 <code>int</code>。对于要出现溢出的情况，<a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 必须小于 <code>[LDBL_MAX_EXP](http://zh.cppreference.com/w/c/types/limits) * log2([FLT_RADIX](http://zh.cppreference.com/w/c/types/limits))</code> 或 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 必须大于 <code>[LDBL_MIN_EXP](http://zh.cppreference.com/w/c/types/limits) - [LDBL_MANT_DIG](http://zh.cppreference.com/w/c/types/limits)) * log2([FLT_RADIX](http://zh.cppreference.com/w/c/types/limits))</code>。</p><p>​ <code>ilogb</code> 所返回的指数值始终比 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 所返回的小 1，因为不同的正规化要求：对于 <code>ilogb</code> 返回的指数 <code>e</code>，<em>|arg*r-e
|</em> 在 1 与 <code>r</code> 之间（典型地在 <code>1</code> 与 <code>2</code> 之间），但 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 返回的指数 <code>e</code>，<em>|arg*2-e
|</em> 在 <code>0.5</code> 与 <code>1</code> 之间。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ilogb(0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span><span style=display:flex><span>ilogb(0) = -2147483648
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 TBD 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 TBD 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 232 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 244 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 213 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 224-225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.5 The ilogb functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/logb>logb (C99)<br>logbf (C99)<br>logbl (C99)<br></a></td><td>提取给定数的指数（结果为浮点数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>ilogb</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ilogb>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=ilogbl>ilogbl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>https://zh.cppreference.com/w/c/numeric/math/ilogb</a></p><p>作用：提取给定数的指数（结果为整数） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogbf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>ilogbl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ilogb( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ILOGB0    </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define FP_ILOGBNAN  </span><span style=color:#8a93a5;font-style:italic>/* 由实现定义 */</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 从浮点数实参 <code>arg</code> 提取独立于基底的无偏指数，并将它作为有符号整数返回。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ilogbl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ilogb</code>。否则调用 <code>ilogbf</code>。</p><p>5） 展开成整数常量表达式，值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 或 <code>-[INT_MAX](http://zh.cppreference.com/w/c/types/limits)</code>。</p><p>6） 展开成整数常量表达式，值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 或 <code>+[INT_MAX](http://zh.cppreference.com/w/c/types/limits)</code>。</p><p>​ 正式而言，无偏指数是非零 <code>arg</code> 的 <em>logr|arg|</em> 的整数部分，作为有符号整数，其中 <code>r</code> 是 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回作为 int 值的 <code>arg</code> 的无偏指数。</p><p>​ 若 <code>arg</code> 为零，则返回 FP_ILOGB0。</p><p>​ 若 <code>arg</code> 为无穷大，则返回 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a>。</p><p>​ 若 <code>arg</code> 为 NaN，则返回 FP_ILOGBNAN。</p><p>​ 若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>，则返回值未指定，且可能出现定义域或值域错误。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零、无穷大或 NaN ，则可能出现定义域错误或值域错误。</p><p>​ 若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> ，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 或小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>arg</code> 为 ±0、 ±∞ 或 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>所有其他情况下，结果是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>）并且忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 不是零、无穷大或 NaN，则返回的值准确等价于 <code>(int)[logb](http://zh.cppreference.com/w/c/numeric/math/logb)(arg)</code>。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/ilogb.html>POSIX 要求</a>若 <code>arg</code> 为零、无穷大、NaN 或若正确结果在 <code>int</code> 的范围外则出现定义域错误。</p><p>​ POSIX 亦要求在 XSI 一致的系统上，正确结果大于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 时返回值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a>，而正确结果小于 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 时返回值为 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a>。</p><p>​ 在所有已知平台上正确结果都能表示成 <code>int</code>。对于要出现溢出的情况，<a href=https://zh.cppreference.com/w/c/types/limits>INT_MAX</a> 必须小于 <code>[LDBL_MAX_EXP](http://zh.cppreference.com/w/c/types/limits) * log2([FLT_RADIX](http://zh.cppreference.com/w/c/types/limits))</code> 或 <a href=https://zh.cppreference.com/w/c/types/limits>INT_MIN</a> 必须大于 <code>[LDBL_MIN_EXP](http://zh.cppreference.com/w/c/types/limits) - [LDBL_MANT_DIG](http://zh.cppreference.com/w/c/types/limits)) * log2([FLT_RADIX](http://zh.cppreference.com/w/c/types/limits))</code>。</p><p>​ <code>ilogb</code> 所返回的指数值始终比 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 所返回的小 1，因为不同的正规化要求：对于 <code>ilogb</code> 返回的指数 <code>e</code>，<em>|arg*r-e
|</em> 在 1 与 <code>r</code> 之间（典型地在 <code>1</code> 与 <code>2</code> 之间），但 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 返回的指数 <code>e</code>，<em>|arg*2-e
|</em> 在 <code>0.5</code> 与 <code>1</code> 之间。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ilogb(0) = %d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span><span style=display:flex><span>ilogb(0) = -2147483648
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 TBD 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 TBD 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 232 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 244 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.5 The ilogb functions （第 521 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12/8 Mathematics &lt;math.h> （第 213 页）</p></li><li><p>7.12.6.5 The ilogb functions （第 224-225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.5 The ilogb functions （第 458 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/logb>logb (C99)<br>logbf (C99)<br>logbl (C99)<br></a></td><td>提取给定数的指数（结果为浮点数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>ilogb</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ilogb>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=ldexp>ldexp</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ldexp>https://zh.cppreference.com/w/c/numeric/math/ldexp</a></p><p>作用：将数乘以 2 的幂 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>ldexpf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>ldexpl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ldexp( arg, exp )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 将浮点数 <code>arg</code> 乘以 <code>2</code> 的 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code> 次幂。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ldexpl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ldexp</code>。否则调用 <code>ldexpf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>exp</td><td>-</td><td>整数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 乘 2 的 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code> 次幂（*arg×2exp
*）。</p><p>​ 若出现上溢所致的值域错误，则返回 <code>±HUGE_VAL</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>，除非出现值域错误（结果准确）</li><li>忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，除非出现值域错误</li><li>若 <code>arg</code> 为 ±0，则返回不修改的参数</li><li>若 <code>arg</code> 为 ±∞，则返回不修改的参数</li><li>若 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code> 为 0，则返回不修改的 <code>arg</code></li><li>若 <code>arg</code> 为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 二进制系统上（其中 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 为 <code>2</code>），<code>ldexp</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn</a>。</p><p>​ 函数 <code>ldexp</code>（“加载指数”）与其对偶 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 能一同用于操纵浮点数的表示，而无需直接的位操作。</p><p>​ 多数实现上，<code>ldexp</code> 效率低于用通常算术运算符乘或除以二的幂。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(7, -4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>7</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(1, -1074) = %g (double 的最小非正规正值)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1074</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(nextafter(1,0), 1024) = %g (double 的最大有限值)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>nextafter</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>1024</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(-0, 10) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(-Inf, -1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(1, 1024) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1024</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>ldexp(7, -4) = 0.437500
</span></span><span style=display:flex><span>ldexp(1, -1074) = 4.94066e-324 (double 的最小非正规正值)
</span></span><span style=display:flex><span>ldexp(nextafter(1,0), 1024) = 1.79769e+308 (double 的最大有限值)
</span></span><span style=display:flex><span>ldexp(-0, 10) = -0.000000
</span></span><span style=display:flex><span>ldexp(-Inf, -1) = -inf
</span></span><span style=display:flex><span>ldexp(1, 1024) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.6 The ldexp functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.6 The ldexp functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 244 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.6 The ldexp functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.6 The ldexp functions （第 459 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.3 The ldexp function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>ldexp</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ldexp>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=ldexpf>ldexpf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ldexp>https://zh.cppreference.com/w/c/numeric/math/ldexp</a></p><p>作用：将数乘以 2 的幂 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>ldexpf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>ldexpl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ldexp( arg, exp )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 将浮点数 <code>arg</code> 乘以 <code>2</code> 的 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code> 次幂。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ldexpl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ldexp</code>。否则调用 <code>ldexpf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>exp</td><td>-</td><td>整数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 乘 2 的 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code> 次幂（*arg×2exp
*）。</p><p>​ 若出现上溢所致的值域错误，则返回 <code>±HUGE_VAL</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>，除非出现值域错误（结果准确）</li><li>忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，除非出现值域错误</li><li>若 <code>arg</code> 为 ±0，则返回不修改的参数</li><li>若 <code>arg</code> 为 ±∞，则返回不修改的参数</li><li>若 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code> 为 0，则返回不修改的 <code>arg</code></li><li>若 <code>arg</code> 为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 二进制系统上（其中 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 为 <code>2</code>），<code>ldexp</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn</a>。</p><p>​ 函数 <code>ldexp</code>（“加载指数”）与其对偶 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 能一同用于操纵浮点数的表示，而无需直接的位操作。</p><p>​ 多数实现上，<code>ldexp</code> 效率低于用通常算术运算符乘或除以二的幂。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(7, -4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>7</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(1, -1074) = %g (double 的最小非正规正值)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1074</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(nextafter(1,0), 1024) = %g (double 的最大有限值)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>nextafter</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>1024</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(-0, 10) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(-Inf, -1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(1, 1024) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1024</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>ldexp(7, -4) = 0.437500
</span></span><span style=display:flex><span>ldexp(1, -1074) = 4.94066e-324 (double 的最小非正规正值)
</span></span><span style=display:flex><span>ldexp(nextafter(1,0), 1024) = 1.79769e+308 (double 的最大有限值)
</span></span><span style=display:flex><span>ldexp(-0, 10) = -0.000000
</span></span><span style=display:flex><span>ldexp(-Inf, -1) = -inf
</span></span><span style=display:flex><span>ldexp(1, 1024) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.6 The ldexp functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.6 The ldexp functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 244 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.6 The ldexp functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.6 The ldexp functions （第 459 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.3 The ldexp function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>ldexp</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ldexp>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=ldexpl>ldexpl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/ldexp>https://zh.cppreference.com/w/c/numeric/math/ldexp</a></p><p>作用：将数乘以 2 的幂 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>ldexpf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>ldexpl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>exp</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define ldexp( arg, exp )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 将浮点数 <code>arg</code> 乘以 <code>2</code> 的 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code> 次幂。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>ldexpl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>ldexp</code>。否则调用 <code>ldexpf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>exp</td><td>-</td><td>整数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 乘 2 的 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code> 次幂（*arg×2exp
*）。</p><p>​ 若出现上溢所致的值域错误，则返回 <code>±HUGE_VAL</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>，除非出现值域错误（结果准确）</li><li>忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，除非出现值域错误</li><li>若 <code>arg</code> 为 ±0，则返回不修改的参数</li><li>若 <code>arg</code> 为 ±∞，则返回不修改的参数</li><li>若 <code>[exp](http://zh.cppreference.com/w/c/numeric/math/exp)</code> 为 0，则返回不修改的 <code>arg</code></li><li>若 <code>arg</code> 为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 二进制系统上（其中 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 为 <code>2</code>），<code>ldexp</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn</a>。</p><p>​ 函数 <code>ldexp</code>（“加载指数”）与其对偶 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 能一同用于操纵浮点数的表示，而无需直接的位操作。</p><p>​ 多数实现上，<code>ldexp</code> 效率低于用通常算术运算符乘或除以二的幂。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(7, -4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>7</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(1, -1074) = %g (double 的最小非正规正值)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1074</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(nextafter(1,0), 1024) = %g (double 的最大有限值)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>nextafter</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>1024</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(-0, 10) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(-Inf, -1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ldexp(1, 1024) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>ldexp</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1024</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>ldexp(7, -4) = 0.437500
</span></span><span style=display:flex><span>ldexp(1, -1074) = 4.94066e-324 (double 的最小非正规正值)
</span></span><span style=display:flex><span>ldexp(nextafter(1,0), 1024) = 1.79769e+308 (double 的最大有限值)
</span></span><span style=display:flex><span>ldexp(-0, 10) = -0.000000
</span></span><span style=display:flex><span>ldexp(-Inf, -1) = -inf
</span></span><span style=display:flex><span>ldexp(1, 1024) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.6 The ldexp functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.6 The ldexp functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 244 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.6 The ldexp functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.6 The ldexp functions （第 225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.6 The ldexp functions （第 459 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.3 The ldexp function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>ldexp</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/ldexp>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=lgamma>lgamma</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/lgamma>https://zh.cppreference.com/w/c/numeric/math/lgamma</a></p><p>作用：计算伽马函数的自然对数（底为 e） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>lgammaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>lgammal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lgamma( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Gamma_function>伽马函数</a>绝对值的自然对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>lgammal</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>lgamma</code>。否则调用<code>lgammaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的伽马函数的自然对数，即 loge|∫∞0targ−1e−tdt|loge⁡|∫0∞targ−1e−tdt|。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零或为小于零的整数，则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 1，则返回 +0。</li><li>若实参为 2，则返回 +0。</li><li>若实参为 ±0，则返回 +∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若实参为负整数，则返回 +∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若实参为 ±∞，则返回 +∞。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 为自然数，则 <code>lgamma(arg)</code> 是 <code>arg-1</code> 阶乘的自然对数。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lgamma.html>lgamma 的 POSIX 版本</a>不是线程安全的：每次执行函数都会存储 <code>arg</code> 的伽马函数的符号于静态外部变量 <code>signgam</code>。一些实现提供 <code>lgamma_r</code>，它接收指向 singgam 的用户提供存储的指针为第二参数，而且是线程安全的。</p><p>​ 多数实现中有名为 <code>gamma</code> 的非标准函数，但其定义不一致。例如，<code>gamma</code> 的 glibc 和 4.2BSD 版本执行 <code>lgamma</code>，但 <code>gamma</code> 的 4.4BSD 版本执行 <code>tgamma</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(10) = %f, log(9!) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>),</span>
</span></span><span style=display:flex><span>                                              <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>4</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>5</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>6</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>7</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>8</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>9</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(0.5) = %f, log(sqrt(pi)) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span><span style=color:#abb2bf>)),</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>lgamma(10) = 12.801827, log(9!)=12.801827
</span></span><span style=display:flex><span>lgamma(0.5) = 0.572365, log(sqrt(pi)) = 0.572365
</span></span><span style=display:flex><span>lgamma(1) = 0.000000
</span></span><span style=display:flex><span>lgamma(+Inf) = inf
</span></span><span style=display:flex><span>lgamma(0) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.5.3 The lgamma functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 182 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.5.3 The lgamma functions （第 383 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.3 The lgamma functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 231 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.3 The lgamma functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/tgamma>tgamma (C99)<br>tgammaf (C99)<br>tgammal (C99)<br></a></th><th>计算伽马函数 (函数)</th></tr></thead><tbody><tr><td><strong>lgamma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/lgamma>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p>​ <a href=http://mathworld.wolfram.com/LogGammaFunction.html>Weisstein, Eric W. “对数伽马函数”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=lgammaf>lgammaf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/lgamma>https://zh.cppreference.com/w/c/numeric/math/lgamma</a></p><p>作用：计算伽马函数的自然对数（底为 e） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>lgammaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>lgammal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lgamma( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Gamma_function>伽马函数</a>绝对值的自然对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>lgammal</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>lgamma</code>。否则调用<code>lgammaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的伽马函数的自然对数，即 loge|∫∞0targ−1e−tdt|loge⁡|∫0∞targ−1e−tdt|。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零或为小于零的整数，则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 1，则返回 +0。</li><li>若实参为 2，则返回 +0。</li><li>若实参为 ±0，则返回 +∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若实参为负整数，则返回 +∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若实参为 ±∞，则返回 +∞。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 为自然数，则 <code>lgamma(arg)</code> 是 <code>arg-1</code> 阶乘的自然对数。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lgamma.html>lgamma 的 POSIX 版本</a>不是线程安全的：每次执行函数都会存储 <code>arg</code> 的伽马函数的符号于静态外部变量 <code>signgam</code>。一些实现提供 <code>lgamma_r</code>，它接收指向 singgam 的用户提供存储的指针为第二参数，而且是线程安全的。</p><p>​ 多数实现中有名为 <code>gamma</code> 的非标准函数，但其定义不一致。例如，<code>gamma</code> 的 glibc 和 4.2BSD 版本执行 <code>lgamma</code>，但 <code>gamma</code> 的 4.4BSD 版本执行 <code>tgamma</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(10) = %f, log(9!) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>),</span>
</span></span><span style=display:flex><span>                                              <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>4</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>5</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>6</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>7</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>8</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>9</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(0.5) = %f, log(sqrt(pi)) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span><span style=color:#abb2bf>)),</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>lgamma(10) = 12.801827, log(9!)=12.801827
</span></span><span style=display:flex><span>lgamma(0.5) = 0.572365, log(sqrt(pi)) = 0.572365
</span></span><span style=display:flex><span>lgamma(1) = 0.000000
</span></span><span style=display:flex><span>lgamma(+Inf) = inf
</span></span><span style=display:flex><span>lgamma(0) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.5.3 The lgamma functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 182 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.5.3 The lgamma functions （第 383 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.3 The lgamma functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 231 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.3 The lgamma functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/tgamma>tgamma (C99)<br>tgammaf (C99)<br>tgammal (C99)<br></a></th><th>计算伽马函数 (函数)</th></tr></thead><tbody><tr><td><strong>lgamma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/lgamma>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p>​ <a href=http://mathworld.wolfram.com/LogGammaFunction.html>Weisstein, Eric W. “对数伽马函数”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=lgammal>lgammal</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/lgamma>https://zh.cppreference.com/w/c/numeric/math/lgamma</a></p><p>作用：计算伽马函数的自然对数（底为 e） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>lgammaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>lgammal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lgamma( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Gamma_function>伽马函数</a>绝对值的自然对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>lgammal</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>lgamma</code>。否则调用<code>lgammaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的伽马函数的自然对数，即 loge|∫∞0targ−1e−tdt|loge⁡|∫0∞targ−1e−tdt|。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>+HUGE_VAL</a>、<code>+HUGE_VALF</code> 或 <code>+HUGE_VALL</code>。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零或为小于零的整数，则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 1，则返回 +0。</li><li>若实参为 2，则返回 +0。</li><li>若实参为 ±0，则返回 +∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若实参为负整数，则返回 +∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若实参为 ±∞，则返回 +∞。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 为自然数，则 <code>lgamma(arg)</code> 是 <code>arg-1</code> 阶乘的自然对数。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lgamma.html>lgamma 的 POSIX 版本</a>不是线程安全的：每次执行函数都会存储 <code>arg</code> 的伽马函数的符号于静态外部变量 <code>signgam</code>。一些实现提供 <code>lgamma_r</code>，它接收指向 singgam 的用户提供存储的指针为第二参数，而且是线程安全的。</p><p>​ 多数实现中有名为 <code>gamma</code> 的非标准函数，但其定义不一致。例如，<code>gamma</code> 的 glibc 和 4.2BSD 版本执行 <code>lgamma</code>，但 <code>gamma</code> 的 4.4BSD 版本执行 <code>tgamma</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(10) = %f, log(9!) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>),</span>
</span></span><span style=display:flex><span>                                              <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>4</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>5</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>6</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>7</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>8</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>9</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(0.5) = %f, log(sqrt(pi)) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span><span style=color:#abb2bf>)),</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lgamma(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>lgamma(10) = 12.801827, log(9!)=12.801827
</span></span><span style=display:flex><span>lgamma(0.5) = 0.572365, log(sqrt(pi)) = 0.572365
</span></span><span style=display:flex><span>lgamma(1) = 0.000000
</span></span><span style=display:flex><span>lgamma(+Inf) = inf
</span></span><span style=display:flex><span>lgamma(0) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.5.3 The lgamma functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 182 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.5.3 The lgamma functions （第 383 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.3 The lgamma functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.3 The lgamma functions （第 231 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.3 The lgamma functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/tgamma>tgamma (C99)<br>tgammaf (C99)<br>tgammal (C99)<br></a></th><th>计算伽马函数 (函数)</th></tr></thead><tbody><tr><td><strong>lgamma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/lgamma>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p>​ <a href=http://mathworld.wolfram.com/LogGammaFunction.html>Weisstein, Eric W. “对数伽马函数”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=llrint>llrint</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/rint>https://zh.cppreference.com/w/c/numeric/math/rint</a></p><p>作用：使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span> <span style=color:#00b1f7>rintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define rint( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数（以浮点数格式）。</p><p>5-7, 9-11) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>rintl</code>、<code>lrintl</code>、<code>llrintl</code>。否则若 <code>arg</code> 拥有整数或 <code>double</code> 类型，则调用 <code>rint</code>、<code>lrint</code>、<code>llrint</code>。否则分别调用 <code>rintf</code>、<code>lrintf</code>、<code>llrintf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则为 <code>arg</code> 按照<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>的最接近整数。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若 <code>lrint</code> 或 <code>llrint</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若 <code>arg</code> 为 ±∞，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 ±0，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 NaN，则返回 NaN</p></li><li><p>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若舍入结果在返回类型范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lrint.html>POSIX 指定</a> <code>lrint</code> 或 <code>llrint</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ 如 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 所指定，<code>rint</code> 在舍入非整数有限值时可以（但不在非 IEEE 浮点数平台上要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ <code>rint</code> 和 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 间仅有的区别是 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数都是准确的整数，故 <code>rint</code> 自身决不上溢；然而在存储结果于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 若当前舍入模式为……</p><ul><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_DOWNWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_UPWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TOWARDZERO</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TONEAREST</a>，则 <code>rint</code> 在中点情况和 <a href=https://zh.cppreference.com/w/c/numeric/math/round>round</a> 的区别是前者始终舍入到偶数，而非远离零。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_TONEAREST</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向临近舍入（半值舍入为偶数）:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DOWNWARD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;用 lrint 向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>lrint(+2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-0.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-Inf) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(1.1) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INEXACT</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INEXACT was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(LONG_MIN-2048.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MIN</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2048.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>向临近舍入（半值舍入为偶数）:
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +4.0
</span></span><span style=display:flex><span>rint(-2.3) = -2.0  rint(-2.5) = -2.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>向下舍入: 
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +3.0
</span></span><span style=display:flex><span>rint(-2.3) = -3.0  rint(-2.5) = -3.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>用 lrint 向下舍入: 
</span></span><span style=display:flex><span>lrint(+2.3) = 2  lrint(+2.5) = 2  lrint(+3.5) = 3
</span></span><span style=display:flex><span>lrint(-2.3) = -3  lrint(-2.5) = -3  lrint(-3.5) = -4
</span></span><span style=display:flex><span>lrint(-0.0) = 0
</span></span><span style=display:flex><span>lrint(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>rint(1.1) = 1.0
</span></span><span style=display:flex><span>    FE_INEXACT was raised
</span></span><span style=display:flex><span>lrint(LONG_MIN-2048.0) = -9223372036854775808
</span></span><span style=display:flex><span>    FE_INVALID was raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.4 The rint functions （第 TBD 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.4 The rint functions （第 TBD 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.4 The rint functions （第 184 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 184 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.4 The rint functions （第 384 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 384 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.4 The rint functions （第 252 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 252 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.4 The rint functions （第 527 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 527 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.4 The rint functions （第 232-233 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 233 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.4 The rint functions （第 463 页）</p></li><li><p>F.9.6.5 The lrint and llrint functions （第 463 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></th><th>取整到绝对值不大于给定值的最接近整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint (C99)<br>nearbyintf (C99)<br>nearbyintl (C99)<br></a></td><td>用当前舍入模式取整到整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/fenv/feround>fegetround (C99)<br>fesetround (C99)<br></a></td><td>获得或设置数字的舍入方向 (函数)</td></tr><tr><td><strong>rint</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/rint>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=llrintf>llrintf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/rint>https://zh.cppreference.com/w/c/numeric/math/rint</a></p><p>作用：使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span> <span style=color:#00b1f7>rintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define rint( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数（以浮点数格式）。</p><p>5-7, 9-11) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>rintl</code>、<code>lrintl</code>、<code>llrintl</code>。否则若 <code>arg</code> 拥有整数或 <code>double</code> 类型，则调用 <code>rint</code>、<code>lrint</code>、<code>llrint</code>。否则分别调用 <code>rintf</code>、<code>lrintf</code>、<code>llrintf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则为 <code>arg</code> 按照<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>的最接近整数。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若 <code>lrint</code> 或 <code>llrint</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若 <code>arg</code> 为 ±∞，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 ±0，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 NaN，则返回 NaN</p></li><li><p>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若舍入结果在返回类型范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lrint.html>POSIX 指定</a> <code>lrint</code> 或 <code>llrint</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ 如 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 所指定，<code>rint</code> 在舍入非整数有限值时可以（但不在非 IEEE 浮点数平台上要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ <code>rint</code> 和 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 间仅有的区别是 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数都是准确的整数，故 <code>rint</code> 自身决不上溢；然而在存储结果于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 若当前舍入模式为……</p><ul><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_DOWNWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_UPWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TOWARDZERO</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TONEAREST</a>，则 <code>rint</code> 在中点情况和 <a href=https://zh.cppreference.com/w/c/numeric/math/round>round</a> 的区别是前者始终舍入到偶数，而非远离零。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_TONEAREST</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向临近舍入（半值舍入为偶数）:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DOWNWARD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;用 lrint 向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>lrint(+2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-0.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-Inf) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(1.1) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INEXACT</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INEXACT was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(LONG_MIN-2048.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MIN</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2048.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>向临近舍入（半值舍入为偶数）:
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +4.0
</span></span><span style=display:flex><span>rint(-2.3) = -2.0  rint(-2.5) = -2.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>向下舍入: 
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +3.0
</span></span><span style=display:flex><span>rint(-2.3) = -3.0  rint(-2.5) = -3.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>用 lrint 向下舍入: 
</span></span><span style=display:flex><span>lrint(+2.3) = 2  lrint(+2.5) = 2  lrint(+3.5) = 3
</span></span><span style=display:flex><span>lrint(-2.3) = -3  lrint(-2.5) = -3  lrint(-3.5) = -4
</span></span><span style=display:flex><span>lrint(-0.0) = 0
</span></span><span style=display:flex><span>lrint(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>rint(1.1) = 1.0
</span></span><span style=display:flex><span>    FE_INEXACT was raised
</span></span><span style=display:flex><span>lrint(LONG_MIN-2048.0) = -9223372036854775808
</span></span><span style=display:flex><span>    FE_INVALID was raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.4 The rint functions （第 TBD 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.4 The rint functions （第 TBD 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.4 The rint functions （第 184 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 184 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.4 The rint functions （第 384 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 384 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.4 The rint functions （第 252 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 252 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.4 The rint functions （第 527 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 527 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.4 The rint functions （第 232-233 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 233 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.4 The rint functions （第 463 页）</p></li><li><p>F.9.6.5 The lrint and llrint functions （第 463 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></th><th>取整到绝对值不大于给定值的最接近整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint (C99)<br>nearbyintf (C99)<br>nearbyintl (C99)<br></a></td><td>用当前舍入模式取整到整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/fenv/feround>fegetround (C99)<br>fesetround (C99)<br></a></td><td>获得或设置数字的舍入方向 (函数)</td></tr><tr><td><strong>rint</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/rint>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=llrintl>llrintl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/rint>https://zh.cppreference.com/w/c/numeric/math/rint</a></p><p>作用：使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span> <span style=color:#00b1f7>rintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define rint( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数（以浮点数格式）。</p><p>5-7, 9-11) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>rintl</code>、<code>lrintl</code>、<code>llrintl</code>。否则若 <code>arg</code> 拥有整数或 <code>double</code> 类型，则调用 <code>rint</code>、<code>lrint</code>、<code>llrint</code>。否则分别调用 <code>rintf</code>、<code>lrintf</code>、<code>llrintf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则为 <code>arg</code> 按照<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>的最接近整数。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若 <code>lrint</code> 或 <code>llrint</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若 <code>arg</code> 为 ±∞，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 ±0，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 NaN，则返回 NaN</p></li><li><p>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若舍入结果在返回类型范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lrint.html>POSIX 指定</a> <code>lrint</code> 或 <code>llrint</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ 如 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 所指定，<code>rint</code> 在舍入非整数有限值时可以（但不在非 IEEE 浮点数平台上要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ <code>rint</code> 和 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 间仅有的区别是 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数都是准确的整数，故 <code>rint</code> 自身决不上溢；然而在存储结果于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 若当前舍入模式为……</p><ul><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_DOWNWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_UPWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TOWARDZERO</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TONEAREST</a>，则 <code>rint</code> 在中点情况和 <a href=https://zh.cppreference.com/w/c/numeric/math/round>round</a> 的区别是前者始终舍入到偶数，而非远离零。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_TONEAREST</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向临近舍入（半值舍入为偶数）:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DOWNWARD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;用 lrint 向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>lrint(+2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-0.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-Inf) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(1.1) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INEXACT</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INEXACT was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(LONG_MIN-2048.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MIN</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2048.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>向临近舍入（半值舍入为偶数）:
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +4.0
</span></span><span style=display:flex><span>rint(-2.3) = -2.0  rint(-2.5) = -2.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>向下舍入: 
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +3.0
</span></span><span style=display:flex><span>rint(-2.3) = -3.0  rint(-2.5) = -3.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>用 lrint 向下舍入: 
</span></span><span style=display:flex><span>lrint(+2.3) = 2  lrint(+2.5) = 2  lrint(+3.5) = 3
</span></span><span style=display:flex><span>lrint(-2.3) = -3  lrint(-2.5) = -3  lrint(-3.5) = -4
</span></span><span style=display:flex><span>lrint(-0.0) = 0
</span></span><span style=display:flex><span>lrint(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>rint(1.1) = 1.0
</span></span><span style=display:flex><span>    FE_INEXACT was raised
</span></span><span style=display:flex><span>lrint(LONG_MIN-2048.0) = -9223372036854775808
</span></span><span style=display:flex><span>    FE_INVALID was raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.4 The rint functions （第 TBD 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.4 The rint functions （第 TBD 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.4 The rint functions （第 184 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 184 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.4 The rint functions （第 384 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 384 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.4 The rint functions （第 252 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 252 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.4 The rint functions （第 527 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 527 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.4 The rint functions （第 232-233 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 233 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.4 The rint functions （第 463 页）</p></li><li><p>F.9.6.5 The lrint and llrint functions （第 463 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></th><th>取整到绝对值不大于给定值的最接近整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint (C99)<br>nearbyintf (C99)<br>nearbyintl (C99)<br></a></td><td>用当前舍入模式取整到整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/fenv/feround>fegetround (C99)<br>fesetround (C99)<br></a></td><td>获得或设置数字的舍入方向 (函数)</td></tr><tr><td><strong>rint</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/rint>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=llround>llround</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/round>https://zh.cppreference.com/w/c/numeric/math/round</a></p><p>作用：取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>roundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>roundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define round( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lround( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llround( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算与 <code>arg</code> 最邻近的整数（以浮点数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>5-7, 9-11) 计算与 <code>arg</code> 最邻近的整数（以整数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则分别调用 <code>roundl</code>、<code>lroundl</code>、<code>llroundl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则分别调用 <code>round</code>、<code>lround</code>、<code>llround</code>。否则分别调用 <code>roundf</code>、<code>lroundf</code>、<code>llroundf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则与返回 <code>arg</code> 的最邻近整数，中点情况取远离零者，</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/7c/math-round_away_zero.svg alt="math-round away zero.svg"></p><p>实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>lround</code> 或 <code>llround</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的该值。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的该值。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若舍入结果在返回类型的范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li></ul><p><strong>注解</strong></p><p>​ <code>round</code> 在舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故 <code>round</code> 自身决不上溢；然而在存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lround.html>POSIX 指定</a> <code>lround</code> 或 <code>llround</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ <code>round</code> 的 <code>double</code> 版本如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;assert.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[]</span> <span style=color:#54b1c7>=</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.7</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>};</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>size_t</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>sample</span> <span style=color:#54b1c7>/</span> <span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>);</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>assert</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>&amp;&amp;</span>
</span></span><span style=display:flex><span>               <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>]));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// round
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// lround
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-0.0) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-Inf) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(LONG_MAX+1.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MAX</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    引发了 FE_INVALID&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>round(+2.3) = +2.0  round(+2.5) = +3.0  round(+2.7) = +3.0
</span></span><span style=display:flex><span>round(-2.3) = -2.0  round(-2.5) = -3.0  round(-2.7) = -3.0
</span></span><span style=display:flex><span>round(-0.0) = -0.0
</span></span><span style=display:flex><span>round(-Inf) = -inf
</span></span><span style=display:flex><span>lround(+2.3) = +2  lround(+2.5) = +3  lround(+2.7) = +3
</span></span><span style=display:flex><span>lround(-2.3) = -2  lround(-2.5) = -3  lround(-2.7) = -3
</span></span><span style=display:flex><span>lround(-0.0) = +0
</span></span><span style=display:flex><span>lround(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>lround(LONG_MAX+1.5) = -9223372036854775808
</span></span><span style=display:flex><span>    引发了 FE_INVALID
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.6 The round functions （第 TBD 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.6 The round functions （第 TBD 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.6 The round functions （第 184 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 184-185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.6 The round functions （第 384 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.6 The round functions （第 253 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 253 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.6 The round functions （第 527 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.6 The round functions （第 233 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.6 The round functions （第 464 页）</p></li><li><p>F.9.6.7 The lround and llround functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><strong>round</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/round>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=llroundf>llroundf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/round>https://zh.cppreference.com/w/c/numeric/math/round</a></p><p>作用：取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>roundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>roundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define round( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lround( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llround( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算与 <code>arg</code> 最邻近的整数（以浮点数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>5-7, 9-11) 计算与 <code>arg</code> 最邻近的整数（以整数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则分别调用 <code>roundl</code>、<code>lroundl</code>、<code>llroundl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则分别调用 <code>round</code>、<code>lround</code>、<code>llround</code>。否则分别调用 <code>roundf</code>、<code>lroundf</code>、<code>llroundf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则与返回 <code>arg</code> 的最邻近整数，中点情况取远离零者，</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/7c/math-round_away_zero.svg alt="math-round away zero.svg"></p><p>实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>lround</code> 或 <code>llround</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的该值。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的该值。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若舍入结果在返回类型的范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li></ul><p><strong>注解</strong></p><p>​ <code>round</code> 在舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故 <code>round</code> 自身决不上溢；然而在存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lround.html>POSIX 指定</a> <code>lround</code> 或 <code>llround</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ <code>round</code> 的 <code>double</code> 版本如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;assert.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[]</span> <span style=color:#54b1c7>=</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.7</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>};</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>size_t</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>sample</span> <span style=color:#54b1c7>/</span> <span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>);</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>assert</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>&amp;&amp;</span>
</span></span><span style=display:flex><span>               <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>]));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// round
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// lround
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-0.0) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-Inf) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(LONG_MAX+1.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MAX</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    引发了 FE_INVALID&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>round(+2.3) = +2.0  round(+2.5) = +3.0  round(+2.7) = +3.0
</span></span><span style=display:flex><span>round(-2.3) = -2.0  round(-2.5) = -3.0  round(-2.7) = -3.0
</span></span><span style=display:flex><span>round(-0.0) = -0.0
</span></span><span style=display:flex><span>round(-Inf) = -inf
</span></span><span style=display:flex><span>lround(+2.3) = +2  lround(+2.5) = +3  lround(+2.7) = +3
</span></span><span style=display:flex><span>lround(-2.3) = -2  lround(-2.5) = -3  lround(-2.7) = -3
</span></span><span style=display:flex><span>lround(-0.0) = +0
</span></span><span style=display:flex><span>lround(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>lround(LONG_MAX+1.5) = -9223372036854775808
</span></span><span style=display:flex><span>    引发了 FE_INVALID
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.6 The round functions （第 TBD 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.6 The round functions （第 TBD 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.6 The round functions （第 184 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 184-185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.6 The round functions （第 384 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.6 The round functions （第 253 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 253 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.6 The round functions （第 527 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.6 The round functions （第 233 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.6 The round functions （第 464 页）</p></li><li><p>F.9.6.7 The lround and llround functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><strong>round</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/round>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=llroundl>llroundl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/round>https://zh.cppreference.com/w/c/numeric/math/round</a></p><p>作用：取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>roundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>roundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define round( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lround( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llround( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算与 <code>arg</code> 最邻近的整数（以浮点数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>5-7, 9-11) 计算与 <code>arg</code> 最邻近的整数（以整数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则分别调用 <code>roundl</code>、<code>lroundl</code>、<code>llroundl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则分别调用 <code>round</code>、<code>lround</code>、<code>llround</code>。否则分别调用 <code>roundf</code>、<code>lroundf</code>、<code>llroundf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则与返回 <code>arg</code> 的最邻近整数，中点情况取远离零者，</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/7c/math-round_away_zero.svg alt="math-round away zero.svg"></p><p>实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>lround</code> 或 <code>llround</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的该值。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的该值。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若舍入结果在返回类型的范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li></ul><p><strong>注解</strong></p><p>​ <code>round</code> 在舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故 <code>round</code> 自身决不上溢；然而在存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lround.html>POSIX 指定</a> <code>lround</code> 或 <code>llround</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ <code>round</code> 的 <code>double</code> 版本如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;assert.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[]</span> <span style=color:#54b1c7>=</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.7</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>};</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>size_t</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>sample</span> <span style=color:#54b1c7>/</span> <span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>);</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>assert</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>&amp;&amp;</span>
</span></span><span style=display:flex><span>               <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>]));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// round
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// lround
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-0.0) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-Inf) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(LONG_MAX+1.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MAX</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    引发了 FE_INVALID&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>round(+2.3) = +2.0  round(+2.5) = +3.0  round(+2.7) = +3.0
</span></span><span style=display:flex><span>round(-2.3) = -2.0  round(-2.5) = -3.0  round(-2.7) = -3.0
</span></span><span style=display:flex><span>round(-0.0) = -0.0
</span></span><span style=display:flex><span>round(-Inf) = -inf
</span></span><span style=display:flex><span>lround(+2.3) = +2  lround(+2.5) = +3  lround(+2.7) = +3
</span></span><span style=display:flex><span>lround(-2.3) = -2  lround(-2.5) = -3  lround(-2.7) = -3
</span></span><span style=display:flex><span>lround(-0.0) = +0
</span></span><span style=display:flex><span>lround(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>lround(LONG_MAX+1.5) = -9223372036854775808
</span></span><span style=display:flex><span>    引发了 FE_INVALID
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.6 The round functions （第 TBD 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.6 The round functions （第 TBD 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.6 The round functions （第 184 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 184-185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.6 The round functions （第 384 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.6 The round functions （第 253 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 253 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.6 The round functions （第 527 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.6 The round functions （第 233 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.6 The round functions （第 464 页）</p></li><li><p>F.9.6.7 The lround and llround functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><strong>round</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/round>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=log>log</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log>https://zh.cppreference.com/w/c/numeric/math/log</a></p><p>作用：计算自然对数（底为 e）（{\small \ln{x} }{\small \ln{x} }ln(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>logf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>logl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的自然（底 <em>e</em>）对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>logl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log</code>。否则，调用 <code>logf</code>。若 <code>arg</code> 为复数或序数，则宏调用对应的复数函数（<code>[clogf](http://zh.cppreference.com/w/c/numeric/complex/clog)</code>、<code>[clog](http://zh.cppreference.com/w/c/numeric/complex/clog)</code>、<code>[clogl](http://zh.cppreference.com/w/c/numeric/complex/clog)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的自然（底 <em>e</em>）对数（<em>ln(arg)</em> 或 <em>loge(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若 <code>arg</code> 为零则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若参数为 1，则返回 +0。</li><li>若参数为负数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若参数为 +∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;125 的以 5 为底对数 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>125</span><span style=color:#abb2bf>)</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log(1) = 0.000000
</span></span><span style=display:flex><span>125 的以 5 为底对数 = 3.000000
</span></span><span style=display:flex><span>log(1) = 0.000000
</span></span><span style=display:flex><span>log(+Inf) = inf
</span></span><span style=display:flex><span>log(0) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.7 The log functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.7 The log functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.7 The log functions （第 178-179 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.7 The log functions （第 380 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.7 The log functions （第 244-245 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.7 The log functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.7 The log functions （第 225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.7 The log functions （第 459 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.4 The log function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log10>log10<br>log10f (C99)<br>log10l (C99)<br></a></th><th>计算常用对数 （底为 <em>10</em>）（log10xlog10⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/exp>exp<br>expf (C99)<br>expl (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂（exex） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/clog>clog (C99)<br>clogf (C99)<br>clogl (C99)<br></a></td><td>计算复数的自然对数 (函数)</td></tr><tr><td><strong>log</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=log10>log10</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log10>https://zh.cppreference.com/w/c/numeric/math/log10</a></p><p>作用：计算常用对数 （底为 10）（{\small \log_{10}{x} }{\small \log_{10}{x} }log10(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>log10f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>log10l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log10( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的常用（以 <em>10</em> 为底）对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>log10l</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log10</code>。否则调用 <code>log10f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的常用（底 <em>10</em>）对数（<em>log10(arg)</em> 或 <em>lg(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若 <code>arg</code> 为零则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若参数为 1，则返回 +0。</li><li>若参数为负数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若参数为 +∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(1000) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(0.001) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.001</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;125 的以 5 为底对数 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>125</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log10(1000) = 3.000000
</span></span><span style=display:flex><span>log10(0.001) = -3.000000
</span></span><span style=display:flex><span>125 的以 5 为底对数 = 3.000000
</span></span><span style=display:flex><span>log10(1) = 0.000000
</span></span><span style=display:flex><span>log10(+Inf) = inf
</span></span><span style=display:flex><span>log10(0) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.8 The log10 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.8 The log10 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.8 The log10 functions （第 179 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.8 The log10 functions （第 380 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.8 The log10 functions （第 245 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.8 The log10 functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.8 The log10 functions （第 225-226 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.8 The log10 functions （第 459 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.5 The log10 function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></th><th>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><strong>log10</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log10>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=log10f>log10f</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log10>https://zh.cppreference.com/w/c/numeric/math/log10</a></p><p>作用：计算常用对数 （底为 10）（{\small \log_{10}{x} }{\small \log_{10}{x} }log10(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>log10f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>log10l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log10( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的常用（以 <em>10</em> 为底）对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>log10l</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log10</code>。否则调用 <code>log10f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的常用（底 <em>10</em>）对数（<em>log10(arg)</em> 或 <em>lg(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若 <code>arg</code> 为零则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若参数为 1，则返回 +0。</li><li>若参数为负数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若参数为 +∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(1000) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(0.001) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.001</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;125 的以 5 为底对数 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>125</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log10(1000) = 3.000000
</span></span><span style=display:flex><span>log10(0.001) = -3.000000
</span></span><span style=display:flex><span>125 的以 5 为底对数 = 3.000000
</span></span><span style=display:flex><span>log10(1) = 0.000000
</span></span><span style=display:flex><span>log10(+Inf) = inf
</span></span><span style=display:flex><span>log10(0) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.8 The log10 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.8 The log10 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.8 The log10 functions （第 179 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.8 The log10 functions （第 380 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.8 The log10 functions （第 245 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.8 The log10 functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.8 The log10 functions （第 225-226 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.8 The log10 functions （第 459 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.5 The log10 function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></th><th>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><strong>log10</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log10>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=log10l>log10l</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log10>https://zh.cppreference.com/w/c/numeric/math/log10</a></p><p>作用：计算常用对数 （底为 10）（{\small \log_{10}{x} }{\small \log_{10}{x} }log10(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>log10f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>log10l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log10( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的常用（以 <em>10</em> 为底）对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>log10l</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log10</code>。否则调用 <code>log10f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的常用（底 <em>10</em>）对数（<em>log10(arg)</em> 或 <em>lg(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若 <code>arg</code> 为零则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若参数为 1，则返回 +0。</li><li>若参数为负数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若参数为 +∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(1000) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(0.001) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.001</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;125 的以 5 为底对数 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>125</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log10(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log10</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log10(1000) = 3.000000
</span></span><span style=display:flex><span>log10(0.001) = -3.000000
</span></span><span style=display:flex><span>125 的以 5 为底对数 = 3.000000
</span></span><span style=display:flex><span>log10(1) = 0.000000
</span></span><span style=display:flex><span>log10(+Inf) = inf
</span></span><span style=display:flex><span>log10(0) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.8 The log10 functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.8 The log10 functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.8 The log10 functions （第 179 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.8 The log10 functions （第 380 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.8 The log10 functions （第 245 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.8 The log10 functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.8 The log10 functions （第 225-226 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.8 The log10 functions （第 459 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.5 The log10 function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></th><th>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><strong>log10</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log10>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=log1p>log1p</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log1p>https://zh.cppreference.com/w/c/numeric/math/log1p</a></p><p>作用：计算给定数加 1 的自然对数（底为 e）（{\small \ln{(1+x)} }{\small \ln{(1+x)} }ln(1+x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>log1pf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>log1pl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log1p( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>1 + arg</code> 的自然（以 <code>e</code> 为底）对数。若 <code>arg</code> 接近零，则此函数比表达式 <code>[log](http://zh.cppreference.com/w/c/numeric/math/log)(1 +arg)</code> 更精确。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>log1pl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log1p</code>。否则调用 <code>log1pf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误则返回 <em>ln(1 + arg)</em>。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于 <em>-1</em> 则出现定义域错误。</p><p>​ 若 <code>arg</code> 为 <em>-1</em> 则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0，则返回不修改的参数。</li><li>若实参为 -1，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若实参小于 -1，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若实参为 +∞，则返回 +∞。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 函数 <code>expm1</code> 和 <strong>log1p</strong> 对于金融计算有用：例如在计算小的日利率时：<em>(1+x)n
-1</em> 能表示为 <code>[expm1](http://zh.cppreference.com/w/c/numeric/math/expm1)(n * log1p(x))</code>。这些函数亦简化书写精确的反双曲函数。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;以 30/360 日历计算，复合日利率 1%%，则 $100 经 2 日获利 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#d19a66>100</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.01</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>360</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(1+1e-16) = %g, 但 log1p(1e-16) = %g</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log1p(0) = 0.000000
</span></span><span style=display:flex><span>以 30/360 日历计算，复合日利率 1%，则 $100 经 2 日获利 = 0.005556
</span></span><span style=display:flex><span>log(1+1e-16) = 0, but log1p(1e-16) = 1e-16
</span></span><span style=display:flex><span>log1p(-0) = -0.000000
</span></span><span style=display:flex><span>log1p(+Inf) = Inf
</span></span><span style=display:flex><span>log1p(-1) = -Inf
</span></span><span style=display:flex><span>    errno == ERANGE: Result too large
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.9 The log1p functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.9 The log1p functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.9 The log1p functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.9 The log1p functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.9 The log1p functions （第 245 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.9 The log1p functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.9 The log1p functions （第 226 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.9 The log1p functions （第 459 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></th><th>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log10>log10<br>log10f (C99)<br>log10l (C99)<br></a></td><td>计算常用对数 （底为 <em>10</em>）（log10xlog10⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/expm1>expm1 (C99)<br>expm1f (C99)<br>expm1l (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂减一（ex−1ex−1） (函数)</td></tr><tr><td><strong>log1p</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log1p>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=log1pf>log1pf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log1p>https://zh.cppreference.com/w/c/numeric/math/log1p</a></p><p>作用：计算给定数加 1 的自然对数（底为 e）（{\small \ln{(1+x)} }{\small \ln{(1+x)} }ln(1+x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>log1pf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>log1pl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log1p( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>1 + arg</code> 的自然（以 <code>e</code> 为底）对数。若 <code>arg</code> 接近零，则此函数比表达式 <code>[log](http://zh.cppreference.com/w/c/numeric/math/log)(1 +arg)</code> 更精确。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>log1pl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log1p</code>。否则调用 <code>log1pf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误则返回 <em>ln(1 + arg)</em>。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于 <em>-1</em> 则出现定义域错误。</p><p>​ 若 <code>arg</code> 为 <em>-1</em> 则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0，则返回不修改的参数。</li><li>若实参为 -1，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若实参小于 -1，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若实参为 +∞，则返回 +∞。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 函数 <code>expm1</code> 和 <strong>log1p</strong> 对于金融计算有用：例如在计算小的日利率时：<em>(1+x)n
-1</em> 能表示为 <code>[expm1](http://zh.cppreference.com/w/c/numeric/math/expm1)(n * log1p(x))</code>。这些函数亦简化书写精确的反双曲函数。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;以 30/360 日历计算，复合日利率 1%%，则 $100 经 2 日获利 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#d19a66>100</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.01</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>360</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(1+1e-16) = %g, 但 log1p(1e-16) = %g</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log1p(0) = 0.000000
</span></span><span style=display:flex><span>以 30/360 日历计算，复合日利率 1%，则 $100 经 2 日获利 = 0.005556
</span></span><span style=display:flex><span>log(1+1e-16) = 0, but log1p(1e-16) = 1e-16
</span></span><span style=display:flex><span>log1p(-0) = -0.000000
</span></span><span style=display:flex><span>log1p(+Inf) = Inf
</span></span><span style=display:flex><span>log1p(-1) = -Inf
</span></span><span style=display:flex><span>    errno == ERANGE: Result too large
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.9 The log1p functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.9 The log1p functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.9 The log1p functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.9 The log1p functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.9 The log1p functions （第 245 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.9 The log1p functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.9 The log1p functions （第 226 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.9 The log1p functions （第 459 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></th><th>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log10>log10<br>log10f (C99)<br>log10l (C99)<br></a></td><td>计算常用对数 （底为 <em>10</em>）（log10xlog10⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/expm1>expm1 (C99)<br>expm1f (C99)<br>expm1l (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂减一（ex−1ex−1） (函数)</td></tr><tr><td><strong>log1p</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log1p>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=log1pl>log1pl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log1p>https://zh.cppreference.com/w/c/numeric/math/log1p</a></p><p>作用：计算给定数加 1 的自然对数（底为 e）（{\small \ln{(1+x)} }{\small \ln{(1+x)} }ln(1+x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>log1pf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>log1pl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log1p( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>1 + arg</code> 的自然（以 <code>e</code> 为底）对数。若 <code>arg</code> 接近零，则此函数比表达式 <code>[log](http://zh.cppreference.com/w/c/numeric/math/log)(1 +arg)</code> 更精确。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>log1pl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log1p</code>。否则调用 <code>log1pf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误则返回 <em>ln(1 + arg)</em>。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于 <em>-1</em> 则出现定义域错误。</p><p>​ 若 <code>arg</code> 为 <em>-1</em> 则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0，则返回不修改的参数。</li><li>若实参为 -1，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若实参小于 -1，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若实参为 +∞，则返回 +∞。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 函数 <code>expm1</code> 和 <strong>log1p</strong> 对于金融计算有用：例如在计算小的日利率时：<em>(1+x)n
-1</em> 能表示为 <code>[expm1](http://zh.cppreference.com/w/c/numeric/math/expm1)(n * log1p(x))</code>。这些函数亦简化书写精确的反双曲函数。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;以 30/360 日历计算，复合日利率 1%%，则 $100 经 2 日获利 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#d19a66>100</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>expm1</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#54b1c7>*</span><span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.01</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>360</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(1+1e-16) = %g, 但 log1p(1e-16) = %g</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>           <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1e-16</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log1p(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log1p</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log1p(0) = 0.000000
</span></span><span style=display:flex><span>以 30/360 日历计算，复合日利率 1%，则 $100 经 2 日获利 = 0.005556
</span></span><span style=display:flex><span>log(1+1e-16) = 0, but log1p(1e-16) = 1e-16
</span></span><span style=display:flex><span>log1p(-0) = -0.000000
</span></span><span style=display:flex><span>log1p(+Inf) = Inf
</span></span><span style=display:flex><span>log1p(-1) = -Inf
</span></span><span style=display:flex><span>    errno == ERANGE: Result too large
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.9 The log1p functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.9 The log1p functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.9 The log1p functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.9 The log1p functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.9 The log1p functions （第 245 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.9 The log1p functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.9 The log1p functions （第 226 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.9 The log1p functions （第 459 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></th><th>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log10>log10<br>log10f (C99)<br>log10l (C99)<br></a></td><td>计算常用对数 （底为 <em>10</em>）（log10xlog10⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/expm1>expm1 (C99)<br>expm1f (C99)<br>expm1l (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂减一（ex−1ex−1） (函数)</td></tr><tr><td><strong>log1p</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log1p>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=log2>log2</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log2>https://zh.cppreference.com/w/c/numeric/math/log2</a></p><p>作用：计算底为 2 的对数（{\small \log_{2}{x} }{\small \log_{2}{x} }log2(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>log2f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>log2l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log2( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的底 <em>2</em> 对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>log2l</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log2</code>。否则调用 <code>log2f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的底 <em>2</em> 对数（<em>log2(arg)</em> 或 <em>lb(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若 <code>arg</code> 为零则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若参数为 1，则返回 +0。</li><li>若参数为负数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若参数为 +∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 对于整数 <code>arg</code>，二进制对数能转译成输入中最高位 1 的零底下标。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(65536) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>65536</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(0.125) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.125</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(0x020f) = %f (highest set bit is in position 9)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0x020f</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;base-5 logarithm of 125 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>125</span><span style=color:#abb2bf>)</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span> <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span> <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log2(65536) = 16.000000
</span></span><span style=display:flex><span>log2(0.125) = -3.000000
</span></span><span style=display:flex><span>log2(0x020f) = 9.041659 (highest set bit is in position 9)
</span></span><span style=display:flex><span>base-5 logarithm of 125 = 3.000000
</span></span><span style=display:flex><span>log2(1) = 0.000000
</span></span><span style=display:flex><span>log2(+Inf) = inf
</span></span><span style=display:flex><span>log2(0) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.10 The log2 functions （第 179 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.10 The log2 functions （第 381 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.10 The log2 functions （第 246 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.10 The log2 functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.10 The log2 functions （第 226 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.10 The log2 functions （第 459 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></th><th>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log10>log10<br>log10f (C99)<br>log10l (C99)<br></a></td><td>计算常用对数 （底为 <em>10</em>）（log10xlog10⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/exp2>exp2 (C99)<br>exp2f (C99)<br>exp2l (C99)<br></a></td><td>计算 <em>2</em> 的给定次幂（2x2x） (函数)</td></tr><tr><td><strong>log2</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log2>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=log2f>log2f</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log2>https://zh.cppreference.com/w/c/numeric/math/log2</a></p><p>作用：计算底为 2 的对数（{\small \log_{2}{x} }{\small \log_{2}{x} }log2(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>log2f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>log2l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log2( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的底 <em>2</em> 对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>log2l</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log2</code>。否则调用 <code>log2f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的底 <em>2</em> 对数（<em>log2(arg)</em> 或 <em>lb(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若 <code>arg</code> 为零则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若参数为 1，则返回 +0。</li><li>若参数为负数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若参数为 +∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 对于整数 <code>arg</code>，二进制对数能转译成输入中最高位 1 的零底下标。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(65536) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>65536</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(0.125) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.125</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(0x020f) = %f (highest set bit is in position 9)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0x020f</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;base-5 logarithm of 125 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>125</span><span style=color:#abb2bf>)</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span> <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span> <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log2(65536) = 16.000000
</span></span><span style=display:flex><span>log2(0.125) = -3.000000
</span></span><span style=display:flex><span>log2(0x020f) = 9.041659 (highest set bit is in position 9)
</span></span><span style=display:flex><span>base-5 logarithm of 125 = 3.000000
</span></span><span style=display:flex><span>log2(1) = 0.000000
</span></span><span style=display:flex><span>log2(+Inf) = inf
</span></span><span style=display:flex><span>log2(0) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.10 The log2 functions （第 179 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.10 The log2 functions （第 381 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.10 The log2 functions （第 246 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.10 The log2 functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.10 The log2 functions （第 226 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.10 The log2 functions （第 459 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></th><th>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log10>log10<br>log10f (C99)<br>log10l (C99)<br></a></td><td>计算常用对数 （底为 <em>10</em>）（log10xlog10⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/exp2>exp2 (C99)<br>exp2f (C99)<br>exp2l (C99)<br></a></td><td>计算 <em>2</em> 的给定次幂（2x2x） (函数)</td></tr><tr><td><strong>log2</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log2>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=log2l>log2l</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log2>https://zh.cppreference.com/w/c/numeric/math/log2</a></p><p>作用：计算底为 2 的对数（{\small \log_{2}{x} }{\small \log_{2}{x} }log2(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>log2f</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>log2l</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log2( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的底 <em>2</em> 对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>log2l</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log2</code>。否则调用 <code>log2f</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的底 <em>2</em> 对数（<em>log2(arg)</em> 或 <em>lb(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若 <code>arg</code> 为零则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若参数为 1，则返回 +0。</li><li>若参数为负数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若参数为 +∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>注意</strong></p><p>​ 对于整数 <code>arg</code>，二进制对数能转译成输入中最高位 1 的零底下标。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(65536) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>65536</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(0.125) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.125</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(0x020f) = %f (highest set bit is in position 9)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0x020f</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;base-5 logarithm of 125 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>125</span><span style=color:#abb2bf>)</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log2(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log2</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span> <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span> <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log2(65536) = 16.000000
</span></span><span style=display:flex><span>log2(0.125) = -3.000000
</span></span><span style=display:flex><span>log2(0x020f) = 9.041659 (highest set bit is in position 9)
</span></span><span style=display:flex><span>base-5 logarithm of 125 = 3.000000
</span></span><span style=display:flex><span>log2(1) = 0.000000
</span></span><span style=display:flex><span>log2(+Inf) = inf
</span></span><span style=display:flex><span>log2(0) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.10 The log2 functions （第 179 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.10 The log2 functions （第 381 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.10 The log2 functions （第 246 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.10 The log2 functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.10 The log2 functions （第 226 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.10 The log2 functions （第 459 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log>log<br>logf (C99)<br>logl (C99)<br></a></th><th>计算自然对数（底为 <em>e</em>）（lnxln⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log10>log10<br>log10f (C99)<br>log10l (C99)<br></a></td><td>计算常用对数 （底为 <em>10</em>）（log10xlog10⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/exp2>exp2 (C99)<br>exp2f (C99)<br>exp2l (C99)<br></a></td><td>计算 <em>2</em> 的给定次幂（2x2x） (函数)</td></tr><tr><td><strong>log2</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log2>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=logb>logb</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/logb>https://zh.cppreference.com/w/c/numeric/math/logb</a></p><p>作用：提取给定数的指数（结果为浮点数） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>logbf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>logb</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>logbl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define logb( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 从浮点数实参 <code>arg</code> 提取独立于基底的无偏指数，并将它作为浮点数返回。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>logbl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>logb</code>。否则调用 <code>logbf</code>。</p><p>​ 正式而言，无偏指数是非零 <code>arg</code> 的 <em>logr|arg|</em> 的有符号整数部分（此函数作为浮点数返回），其中 <code>r</code> 是 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a>。若 <code>arg</code> 为非正规，则当做它如同已正规化。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回作为有符号浮点数的 <code>arg</code> 的无偏指数。</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零则可能出现定义域或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若 <code>arg</code> 为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若 <code>arg</code> 为 ±∞，则返回 +∞。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>所有其他情况下，结果是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>）且忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/logb.html>POSIX 要求</a>若 <code>arg</code> 为 ±0 则出现极点错误。</p><p>​ <code>logb</code> 所返回的指数值始终比 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 所返回的小 <code>1</code>，因为不同的正规化要求：对于 <code>logb</code> 返回的指数 <code>e</code>，<em>|arg*r-e
|</em> 在 <code>1</code> 与 <code>r</code> 之间（典型地在 <code>1</code> 与 <code>2</code> 之间），但 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 返回的指数 <code>e</code>，<em>|arg*2-e
|</em> 在 <code>0.5</code> 与 <code>1</code> 之间。</p><p><strong>示例</strong></p><p>​ 比较不同的浮点数分解函数。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>logb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/logb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>logb</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/logb() 计算 1.928906 * 2^6
</span></span><span style=display:flex><span>logb(0) = -Inf
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.11 The logb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.11 The logb functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.11 The logb functions （第 179-180 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.11 The logb functions （第 381 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.11 The logb functions （第 246 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.11 The logb functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.11 The logb functions （第 227 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.11 The logb functions （第 459 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>ilogb (C99)<br>ilogbf (C99)<br>ilogbl (C99)<br></a></td><td>提取给定数的指数（结果为整数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>logb</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/logb>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=logbf>logbf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/logb>https://zh.cppreference.com/w/c/numeric/math/logb</a></p><p>作用：提取给定数的指数（结果为浮点数） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>logbf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>logb</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>logbl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define logb( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 从浮点数实参 <code>arg</code> 提取独立于基底的无偏指数，并将它作为浮点数返回。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>logbl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>logb</code>。否则调用 <code>logbf</code>。</p><p>​ 正式而言，无偏指数是非零 <code>arg</code> 的 <em>logr|arg|</em> 的有符号整数部分（此函数作为浮点数返回），其中 <code>r</code> 是 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a>。若 <code>arg</code> 为非正规，则当做它如同已正规化。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回作为有符号浮点数的 <code>arg</code> 的无偏指数。</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零则可能出现定义域或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若 <code>arg</code> 为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若 <code>arg</code> 为 ±∞，则返回 +∞。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>所有其他情况下，结果是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>）且忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/logb.html>POSIX 要求</a>若 <code>arg</code> 为 ±0 则出现极点错误。</p><p>​ <code>logb</code> 所返回的指数值始终比 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 所返回的小 <code>1</code>，因为不同的正规化要求：对于 <code>logb</code> 返回的指数 <code>e</code>，<em>|arg*r-e
|</em> 在 <code>1</code> 与 <code>r</code> 之间（典型地在 <code>1</code> 与 <code>2</code> 之间），但 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 返回的指数 <code>e</code>，<em>|arg*2-e
|</em> 在 <code>0.5</code> 与 <code>1</code> 之间。</p><p><strong>示例</strong></p><p>​ 比较不同的浮点数分解函数。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>logb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/logb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>logb</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/logb() 计算 1.928906 * 2^6
</span></span><span style=display:flex><span>logb(0) = -Inf
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.11 The logb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.11 The logb functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.11 The logb functions （第 179-180 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.11 The logb functions （第 381 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.11 The logb functions （第 246 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.11 The logb functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.11 The logb functions （第 227 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.11 The logb functions （第 459 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>ilogb (C99)<br>ilogbf (C99)<br>ilogbl (C99)<br></a></td><td>提取给定数的指数（结果为整数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>logb</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/logb>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=logbl>logbl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/logb>https://zh.cppreference.com/w/c/numeric/math/logb</a></p><p>作用：提取给定数的指数（结果为浮点数） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>logbf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>logb</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>logbl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define logb( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 从浮点数实参 <code>arg</code> 提取独立于基底的无偏指数，并将它作为浮点数返回。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>logbl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>logb</code>。否则调用 <code>logbf</code>。</p><p>​ 正式而言，无偏指数是非零 <code>arg</code> 的 <em>logr|arg|</em> 的有符号整数部分（此函数作为浮点数返回），其中 <code>r</code> 是 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a>。若 <code>arg</code> 为非正规，则当做它如同已正规化。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回作为有符号浮点数的 <code>arg</code> 的无偏指数。</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 为零则可能出现定义域或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若 <code>arg</code> 为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若 <code>arg</code> 为 ±∞，则返回 +∞。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>所有其他情况下，结果是准确的（决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>）且忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/logb.html>POSIX 要求</a>若 <code>arg</code> 为 ±0 则出现极点错误。</p><p>​ <code>logb</code> 所返回的指数值始终比 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 所返回的小 <code>1</code>，因为不同的正规化要求：对于 <code>logb</code> 返回的指数 <code>e</code>，<em>|arg*r-e
|</em> 在 <code>1</code> 与 <code>r</code> 之间（典型地在 <code>1</code> 与 <code>2</code> 之间），但 <a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp</a> 返回的指数 <code>e</code>，<em>|arg*2-e
|</em> 在 <code>0.5</code> 与 <code>1</code> 之间。</p><p><strong>示例</strong></p><p>​ 比较不同的浮点数分解函数。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.0f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>logb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/logb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>logb</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/logb() 计算 1.928906 * 2^6
</span></span><span style=display:flex><span>logb(0) = -Inf
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.11 The logb functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.11 The logb functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.11 The logb functions （第 179-180 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.11 The logb functions （第 381 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.11 The logb functions （第 246 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.11 The logb functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.11 The logb functions （第 227 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.11 The logb functions （第 459 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/frexp>frexp<br>frexpf (C99)<br>frexpl (C99)<br></a></th><th>将数拆分成有效数字和 <em>2</em> 的幂次 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ilogb>ilogb (C99)<br>ilogbf (C99)<br>ilogbl (C99)<br></a></td><td>提取给定数的指数（结果为整数） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>scalbn (C99)<br>scalbnf (C99)<br>scalbnl (C99)<br>scalbln (C99)<br>scalblnf (C99)<br>scalblnl (C99)<br></a></td><td>高效计算一个数乘 <a href=https://zh.cppreference.com/w/c/types/limits>FLT_RADIX</a> 的幂 (函数)</td></tr><tr><td><strong>logb</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/logb>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=logf>logf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log>https://zh.cppreference.com/w/c/numeric/math/log</a></p><p>作用：计算自然对数（底为 e）（{\small \ln{x} }{\small \ln{x} }ln(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>logf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>logl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的自然（底 <em>e</em>）对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>logl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log</code>。否则，调用 <code>logf</code>。若 <code>arg</code> 为复数或序数，则宏调用对应的复数函数（<code>[clogf](http://zh.cppreference.com/w/c/numeric/complex/clog)</code>、<code>[clog](http://zh.cppreference.com/w/c/numeric/complex/clog)</code>、<code>[clogl](http://zh.cppreference.com/w/c/numeric/complex/clog)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的自然（底 <em>e</em>）对数（<em>ln(arg)</em> 或 <em>loge(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若 <code>arg</code> 为零则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若参数为 1，则返回 +0。</li><li>若参数为负数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若参数为 +∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;125 的以 5 为底对数 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>125</span><span style=color:#abb2bf>)</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log(1) = 0.000000
</span></span><span style=display:flex><span>125 的以 5 为底对数 = 3.000000
</span></span><span style=display:flex><span>log(1) = 0.000000
</span></span><span style=display:flex><span>log(+Inf) = inf
</span></span><span style=display:flex><span>log(0) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.7 The log functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.7 The log functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.7 The log functions （第 178-179 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.7 The log functions （第 380 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.7 The log functions （第 244-245 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.7 The log functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.7 The log functions （第 225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.7 The log functions （第 459 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.4 The log function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log10>log10<br>log10f (C99)<br>log10l (C99)<br></a></th><th>计算常用对数 （底为 <em>10</em>）（log10xlog10⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/exp>exp<br>expf (C99)<br>expl (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂（exex） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/clog>clog (C99)<br>clogf (C99)<br>clogl (C99)<br></a></td><td>计算复数的自然对数 (函数)</td></tr><tr><td><strong>log</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=logl>logl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/log>https://zh.cppreference.com/w/c/numeric/math/log</a></p><p>作用：计算自然对数（底为 e）（{\small \ln{x} }{\small \ln{x} }ln(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>logf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>logl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define log( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的自然（底 <em>e</em>）对数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>logl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>log</code>。否则，调用 <code>logf</code>。若 <code>arg</code> 为复数或序数，则宏调用对应的复数函数（<code>[clogf](http://zh.cppreference.com/w/c/numeric/complex/clog)</code>、<code>[clog](http://zh.cppreference.com/w/c/numeric/complex/clog)</code>、<code>[clogl](http://zh.cppreference.com/w/c/numeric/complex/clog)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的自然（底 <em>e</em>）对数（<em>ln(arg)</em> 或 <em>loge(arg)</em>）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>-HUGE_VAL</a>、<code>-HUGE_VALF</code> 或 <code>-HUGE_VALL</code>。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若 <code>arg</code> 为零则可能出现极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 -∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>。</li><li>若参数为 1，则返回 +0。</li><li>若参数为负数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若参数为 +∞，则返回 +∞。</li><li>若参数为 NaN，则返回 NaN。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;125 的以 5 为底对数 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>125</span><span style=color:#abb2bf>)</span><span style=color:#54b1c7>/</span><span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>log(1) = 0.000000
</span></span><span style=display:flex><span>125 的以 5 为底对数 = 3.000000
</span></span><span style=display:flex><span>log(1) = 0.000000
</span></span><span style=display:flex><span>log(+Inf) = inf
</span></span><span style=display:flex><span>log(0) = -inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.7 The log functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.3.7 The log functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.7 The log functions （第 178-179 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.3.7 The log functions （第 380 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.7 The log functions （第 244-245 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.3.7 The log functions （第 522 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.7 The log functions （第 225 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.3.7 The log functions （第 459 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.4 The log function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/log10>log10<br>log10f (C99)<br>log10l (C99)<br></a></th><th>计算常用对数 （底为 <em>10</em>）（log10xlog10⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log2>log2 (C99)<br>log2f (C99)<br>log2l (C99)<br></a></td><td>计算底为 <em>2</em> 的对数（log2xlog2⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/log1p>log1p (C99)<br>log1pf (C99)<br>log1pl (C99)<br></a></td><td>计算给定数加 1 的自然对数（底为 <em>e</em>）（ln(1+x)ln⁡(1+x)） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/exp>exp<br>expf (C99)<br>expl (C99)<br></a></td><td>计算 <em>e</em> 的给定次幂（exex） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/clog>clog (C99)<br>clogf (C99)<br>clogl (C99)<br></a></td><td>计算复数的自然对数 (函数)</td></tr><tr><td><strong>log</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/log>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=lrint>lrint</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/rint>https://zh.cppreference.com/w/c/numeric/math/rint</a></p><p>作用：使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span> <span style=color:#00b1f7>rintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define rint( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数（以浮点数格式）。</p><p>5-7, 9-11) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>rintl</code>、<code>lrintl</code>、<code>llrintl</code>。否则若 <code>arg</code> 拥有整数或 <code>double</code> 类型，则调用 <code>rint</code>、<code>lrint</code>、<code>llrint</code>。否则分别调用 <code>rintf</code>、<code>lrintf</code>、<code>llrintf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则为 <code>arg</code> 按照<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>的最接近整数。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若 <code>lrint</code> 或 <code>llrint</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若 <code>arg</code> 为 ±∞，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 ±0，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 NaN，则返回 NaN</p></li><li><p>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若舍入结果在返回类型范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lrint.html>POSIX 指定</a> <code>lrint</code> 或 <code>llrint</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ 如 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 所指定，<code>rint</code> 在舍入非整数有限值时可以（但不在非 IEEE 浮点数平台上要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ <code>rint</code> 和 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 间仅有的区别是 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数都是准确的整数，故 <code>rint</code> 自身决不上溢；然而在存储结果于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 若当前舍入模式为……</p><ul><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_DOWNWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_UPWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TOWARDZERO</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TONEAREST</a>，则 <code>rint</code> 在中点情况和 <a href=https://zh.cppreference.com/w/c/numeric/math/round>round</a> 的区别是前者始终舍入到偶数，而非远离零。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_TONEAREST</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向临近舍入（半值舍入为偶数）:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DOWNWARD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;用 lrint 向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>lrint(+2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-0.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-Inf) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(1.1) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INEXACT</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INEXACT was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(LONG_MIN-2048.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MIN</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2048.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>向临近舍入（半值舍入为偶数）:
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +4.0
</span></span><span style=display:flex><span>rint(-2.3) = -2.0  rint(-2.5) = -2.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>向下舍入: 
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +3.0
</span></span><span style=display:flex><span>rint(-2.3) = -3.0  rint(-2.5) = -3.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>用 lrint 向下舍入: 
</span></span><span style=display:flex><span>lrint(+2.3) = 2  lrint(+2.5) = 2  lrint(+3.5) = 3
</span></span><span style=display:flex><span>lrint(-2.3) = -3  lrint(-2.5) = -3  lrint(-3.5) = -4
</span></span><span style=display:flex><span>lrint(-0.0) = 0
</span></span><span style=display:flex><span>lrint(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>rint(1.1) = 1.0
</span></span><span style=display:flex><span>    FE_INEXACT was raised
</span></span><span style=display:flex><span>lrint(LONG_MIN-2048.0) = -9223372036854775808
</span></span><span style=display:flex><span>    FE_INVALID was raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.4 The rint functions （第 TBD 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.4 The rint functions （第 TBD 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.4 The rint functions （第 184 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 184 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.4 The rint functions （第 384 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 384 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.4 The rint functions （第 252 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 252 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.4 The rint functions （第 527 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 527 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.4 The rint functions （第 232-233 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 233 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.4 The rint functions （第 463 页）</p></li><li><p>F.9.6.5 The lrint and llrint functions （第 463 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></th><th>取整到绝对值不大于给定值的最接近整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint (C99)<br>nearbyintf (C99)<br>nearbyintl (C99)<br></a></td><td>用当前舍入模式取整到整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/fenv/feround>fegetround (C99)<br>fesetround (C99)<br></a></td><td>获得或设置数字的舍入方向 (函数)</td></tr><tr><td><strong>rint</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/rint>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=lrintf>lrintf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/rint>https://zh.cppreference.com/w/c/numeric/math/rint</a></p><p>作用：使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span> <span style=color:#00b1f7>rintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define rint( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数（以浮点数格式）。</p><p>5-7, 9-11) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>rintl</code>、<code>lrintl</code>、<code>llrintl</code>。否则若 <code>arg</code> 拥有整数或 <code>double</code> 类型，则调用 <code>rint</code>、<code>lrint</code>、<code>llrint</code>。否则分别调用 <code>rintf</code>、<code>lrintf</code>、<code>llrintf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则为 <code>arg</code> 按照<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>的最接近整数。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若 <code>lrint</code> 或 <code>llrint</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若 <code>arg</code> 为 ±∞，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 ±0，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 NaN，则返回 NaN</p></li><li><p>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若舍入结果在返回类型范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lrint.html>POSIX 指定</a> <code>lrint</code> 或 <code>llrint</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ 如 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 所指定，<code>rint</code> 在舍入非整数有限值时可以（但不在非 IEEE 浮点数平台上要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ <code>rint</code> 和 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 间仅有的区别是 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数都是准确的整数，故 <code>rint</code> 自身决不上溢；然而在存储结果于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 若当前舍入模式为……</p><ul><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_DOWNWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_UPWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TOWARDZERO</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TONEAREST</a>，则 <code>rint</code> 在中点情况和 <a href=https://zh.cppreference.com/w/c/numeric/math/round>round</a> 的区别是前者始终舍入到偶数，而非远离零。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_TONEAREST</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向临近舍入（半值舍入为偶数）:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DOWNWARD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;用 lrint 向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>lrint(+2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-0.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-Inf) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(1.1) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INEXACT</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INEXACT was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(LONG_MIN-2048.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MIN</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2048.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>向临近舍入（半值舍入为偶数）:
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +4.0
</span></span><span style=display:flex><span>rint(-2.3) = -2.0  rint(-2.5) = -2.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>向下舍入: 
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +3.0
</span></span><span style=display:flex><span>rint(-2.3) = -3.0  rint(-2.5) = -3.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>用 lrint 向下舍入: 
</span></span><span style=display:flex><span>lrint(+2.3) = 2  lrint(+2.5) = 2  lrint(+3.5) = 3
</span></span><span style=display:flex><span>lrint(-2.3) = -3  lrint(-2.5) = -3  lrint(-3.5) = -4
</span></span><span style=display:flex><span>lrint(-0.0) = 0
</span></span><span style=display:flex><span>lrint(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>rint(1.1) = 1.0
</span></span><span style=display:flex><span>    FE_INEXACT was raised
</span></span><span style=display:flex><span>lrint(LONG_MIN-2048.0) = -9223372036854775808
</span></span><span style=display:flex><span>    FE_INVALID was raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.4 The rint functions （第 TBD 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.4 The rint functions （第 TBD 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.4 The rint functions （第 184 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 184 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.4 The rint functions （第 384 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 384 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.4 The rint functions （第 252 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 252 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.4 The rint functions （第 527 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 527 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.4 The rint functions （第 232-233 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 233 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.4 The rint functions （第 463 页）</p></li><li><p>F.9.6.5 The lrint and llrint functions （第 463 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></th><th>取整到绝对值不大于给定值的最接近整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint (C99)<br>nearbyintf (C99)<br>nearbyintl (C99)<br></a></td><td>用当前舍入模式取整到整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/fenv/feround>fegetround (C99)<br>fesetround (C99)<br></a></td><td>获得或设置数字的舍入方向 (函数)</td></tr><tr><td><strong>rint</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/rint>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=lrintl>lrintl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/rint>https://zh.cppreference.com/w/c/numeric/math/rint</a></p><p>作用：使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span> <span style=color:#00b1f7>rintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>rintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define rint( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#00b1f7>lrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llrintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llrint( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数（以浮点数格式）。</p><p>5-7, 9-11) 用<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 为整数。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>rintl</code>、<code>lrintl</code>、<code>llrintl</code>。否则若 <code>arg</code> 拥有整数或 <code>double</code> 类型，则调用 <code>rint</code>、<code>lrint</code>、<code>llrint</code>。否则分别调用 <code>rintf</code>、<code>lrintf</code>、<code>llrintf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则为 <code>arg</code> 按照<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>的最接近整数。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若 <code>lrint</code> 或 <code>llrint</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><p>若 <code>arg</code> 为 ±∞，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 ±0，则返回未修改的实参</p></li><li><p>若 <code>arg</code> 为 NaN，则返回 NaN</p></li><li><p>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若舍入结果在返回类型范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li><li><p>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值</p></li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lrint.html>POSIX 指定</a> <code>lrint</code> 或 <code>llrint</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ 如 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 所指定，<code>rint</code> 在舍入非整数有限值时可以（但不在非 IEEE 浮点数平台上要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ <code>rint</code> 和 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 间仅有的区别是 <a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint</a> 决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数都是准确的整数，故 <code>rint</code> 自身决不上溢；然而在存储结果于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 若当前舍入模式为……</p><ul><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_DOWNWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_UPWARD</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TOWARDZERO</a>，则 <code>rint</code> 等价于 <a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc</a>。</li><li><a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TONEAREST</a>，则 <code>rint</code> 在中点情况和 <a href=https://zh.cppreference.com/w/c/numeric/math/round>round</a> 的区别是前者始终舍入到偶数，而非远离零。</li></ul><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_TONEAREST</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向临近舍入（半值舍入为偶数）:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#98c379>&#34;rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DOWNWARD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>rint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;用 lrint 向下舍入: </span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>lrint(+2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(+3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.3) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-2.5) = %ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-3.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-0.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(-Inf) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;rint(1.1) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>rint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INEXACT</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INEXACT was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lrint(LONG_MIN-2048.0) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lrint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MIN</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2048.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>向临近舍入（半值舍入为偶数）:
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +4.0
</span></span><span style=display:flex><span>rint(-2.3) = -2.0  rint(-2.5) = -2.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>向下舍入: 
</span></span><span style=display:flex><span>rint(+2.3) = +2.0  rint(+2.5) = +2.0  rint(+3.5) = +3.0
</span></span><span style=display:flex><span>rint(-2.3) = -3.0  rint(-2.5) = -3.0  rint(-3.5) = -4.0
</span></span><span style=display:flex><span>用 lrint 向下舍入: 
</span></span><span style=display:flex><span>lrint(+2.3) = 2  lrint(+2.5) = 2  lrint(+3.5) = 3
</span></span><span style=display:flex><span>lrint(-2.3) = -3  lrint(-2.5) = -3  lrint(-3.5) = -4
</span></span><span style=display:flex><span>lrint(-0.0) = 0
</span></span><span style=display:flex><span>lrint(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>rint(1.1) = 1.0
</span></span><span style=display:flex><span>    FE_INEXACT was raised
</span></span><span style=display:flex><span>lrint(LONG_MIN-2048.0) = -9223372036854775808
</span></span><span style=display:flex><span>    FE_INVALID was raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.4 The rint functions （第 TBD 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.4 The rint functions （第 TBD 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.4 The rint functions （第 184 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 184 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.4 The rint functions （第 384 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 384 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.4 The rint functions （第 252 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 252 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.4 The rint functions （第 527 页）</p></li><li><p>F.10.6.5 The lrint and llrint functions （第 527 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.4 The rint functions （第 232-233 页）</p></li><li><p>7.12.9.5 The lrint and llrint functions （第 233 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.4 The rint functions （第 463 页）</p></li><li><p>F.9.6.5 The lrint and llrint functions （第 463 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></th><th>取整到绝对值不大于给定值的最接近整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>nearbyint (C99)<br>nearbyintf (C99)<br>nearbyintl (C99)<br></a></td><td>用当前舍入模式取整到整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/fenv/feround>fegetround (C99)<br>fesetround (C99)<br></a></td><td>获得或设置数字的舍入方向 (函数)</td></tr><tr><td><strong>rint</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/rint>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=lround>lround</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/round>https://zh.cppreference.com/w/c/numeric/math/round</a></p><p>作用：取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>roundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>roundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define round( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lround( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llround( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算与 <code>arg</code> 最邻近的整数（以浮点数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>5-7, 9-11) 计算与 <code>arg</code> 最邻近的整数（以整数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则分别调用 <code>roundl</code>、<code>lroundl</code>、<code>llroundl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则分别调用 <code>round</code>、<code>lround</code>、<code>llround</code>。否则分别调用 <code>roundf</code>、<code>lroundf</code>、<code>llroundf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则与返回 <code>arg</code> 的最邻近整数，中点情况取远离零者，</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/7c/math-round_away_zero.svg alt="math-round away zero.svg"></p><p>实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>lround</code> 或 <code>llround</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的该值。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的该值。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若舍入结果在返回类型的范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li></ul><p><strong>注解</strong></p><p>​ <code>round</code> 在舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故 <code>round</code> 自身决不上溢；然而在存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lround.html>POSIX 指定</a> <code>lround</code> 或 <code>llround</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ <code>round</code> 的 <code>double</code> 版本如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;assert.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[]</span> <span style=color:#54b1c7>=</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.7</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>};</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>size_t</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>sample</span> <span style=color:#54b1c7>/</span> <span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>);</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>assert</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>&amp;&amp;</span>
</span></span><span style=display:flex><span>               <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>]));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// round
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// lround
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-0.0) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-Inf) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(LONG_MAX+1.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MAX</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    引发了 FE_INVALID&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>round(+2.3) = +2.0  round(+2.5) = +3.0  round(+2.7) = +3.0
</span></span><span style=display:flex><span>round(-2.3) = -2.0  round(-2.5) = -3.0  round(-2.7) = -3.0
</span></span><span style=display:flex><span>round(-0.0) = -0.0
</span></span><span style=display:flex><span>round(-Inf) = -inf
</span></span><span style=display:flex><span>lround(+2.3) = +2  lround(+2.5) = +3  lround(+2.7) = +3
</span></span><span style=display:flex><span>lround(-2.3) = -2  lround(-2.5) = -3  lround(-2.7) = -3
</span></span><span style=display:flex><span>lround(-0.0) = +0
</span></span><span style=display:flex><span>lround(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>lround(LONG_MAX+1.5) = -9223372036854775808
</span></span><span style=display:flex><span>    引发了 FE_INVALID
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.6 The round functions （第 TBD 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.6 The round functions （第 TBD 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.6 The round functions （第 184 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 184-185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.6 The round functions （第 384 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.6 The round functions （第 253 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 253 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.6 The round functions （第 527 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.6 The round functions （第 233 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.6 The round functions （第 464 页）</p></li><li><p>F.9.6.7 The lround and llround functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><strong>round</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/round>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=lroundf>lroundf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/round>https://zh.cppreference.com/w/c/numeric/math/round</a></p><p>作用：取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>roundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>roundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define round( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lround( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llround( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算与 <code>arg</code> 最邻近的整数（以浮点数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>5-7, 9-11) 计算与 <code>arg</code> 最邻近的整数（以整数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则分别调用 <code>roundl</code>、<code>lroundl</code>、<code>llroundl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则分别调用 <code>round</code>、<code>lround</code>、<code>llround</code>。否则分别调用 <code>roundf</code>、<code>lroundf</code>、<code>llroundf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则与返回 <code>arg</code> 的最邻近整数，中点情况取远离零者，</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/7c/math-round_away_zero.svg alt="math-round away zero.svg"></p><p>实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>lround</code> 或 <code>llround</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的该值。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的该值。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若舍入结果在返回类型的范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li></ul><p><strong>注解</strong></p><p>​ <code>round</code> 在舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故 <code>round</code> 自身决不上溢；然而在存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lround.html>POSIX 指定</a> <code>lround</code> 或 <code>llround</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ <code>round</code> 的 <code>double</code> 版本如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;assert.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[]</span> <span style=color:#54b1c7>=</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.7</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>};</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>size_t</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>sample</span> <span style=color:#54b1c7>/</span> <span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>);</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>assert</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>&amp;&amp;</span>
</span></span><span style=display:flex><span>               <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>]));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// round
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// lround
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-0.0) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-Inf) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(LONG_MAX+1.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MAX</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    引发了 FE_INVALID&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>round(+2.3) = +2.0  round(+2.5) = +3.0  round(+2.7) = +3.0
</span></span><span style=display:flex><span>round(-2.3) = -2.0  round(-2.5) = -3.0  round(-2.7) = -3.0
</span></span><span style=display:flex><span>round(-0.0) = -0.0
</span></span><span style=display:flex><span>round(-Inf) = -inf
</span></span><span style=display:flex><span>lround(+2.3) = +2  lround(+2.5) = +3  lround(+2.7) = +3
</span></span><span style=display:flex><span>lround(-2.3) = -2  lround(-2.5) = -3  lround(-2.7) = -3
</span></span><span style=display:flex><span>lround(-0.0) = +0
</span></span><span style=display:flex><span>lround(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>lround(LONG_MAX+1.5) = -9223372036854775808
</span></span><span style=display:flex><span>    引发了 FE_INVALID
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.6 The round functions （第 TBD 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.6 The round functions （第 TBD 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.6 The round functions （第 184 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 184-185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.6 The round functions （第 384 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.6 The round functions （第 253 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 253 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.6 The round functions （第 527 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.6 The round functions （第 233 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.6 The round functions （第 464 页）</p></li><li><p>F.9.6.7 The lround and llround functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><strong>round</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/round>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=lroundl>lroundl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/round>https://zh.cppreference.com/w/c/numeric/math/round</a></p><p>作用：取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>roundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>roundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define round( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lround( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llround( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算与 <code>arg</code> 最邻近的整数（以浮点数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>5-7, 9-11) 计算与 <code>arg</code> 最邻近的整数（以整数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则分别调用 <code>roundl</code>、<code>lroundl</code>、<code>llroundl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则分别调用 <code>round</code>、<code>lround</code>、<code>llround</code>。否则分别调用 <code>roundf</code>、<code>lroundf</code>、<code>llroundf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则与返回 <code>arg</code> 的最邻近整数，中点情况取远离零者，</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/7c/math-round_away_zero.svg alt="math-round away zero.svg"></p><p>实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>lround</code> 或 <code>llround</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的该值。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的该值。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若舍入结果在返回类型的范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li></ul><p><strong>注解</strong></p><p>​ <code>round</code> 在舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故 <code>round</code> 自身决不上溢；然而在存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lround.html>POSIX 指定</a> <code>lround</code> 或 <code>llround</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ <code>round</code> 的 <code>double</code> 版本如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;assert.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[]</span> <span style=color:#54b1c7>=</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.7</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>};</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>size_t</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>sample</span> <span style=color:#54b1c7>/</span> <span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>);</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>assert</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>&amp;&amp;</span>
</span></span><span style=display:flex><span>               <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>]));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// round
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// lround
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-0.0) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-Inf) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(LONG_MAX+1.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MAX</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    引发了 FE_INVALID&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>round(+2.3) = +2.0  round(+2.5) = +3.0  round(+2.7) = +3.0
</span></span><span style=display:flex><span>round(-2.3) = -2.0  round(-2.5) = -3.0  round(-2.7) = -3.0
</span></span><span style=display:flex><span>round(-0.0) = -0.0
</span></span><span style=display:flex><span>round(-Inf) = -inf
</span></span><span style=display:flex><span>lround(+2.3) = +2  lround(+2.5) = +3  lround(+2.7) = +3
</span></span><span style=display:flex><span>lround(-2.3) = -2  lround(-2.5) = -3  lround(-2.7) = -3
</span></span><span style=display:flex><span>lround(-0.0) = +0
</span></span><span style=display:flex><span>lround(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>lround(LONG_MAX+1.5) = -9223372036854775808
</span></span><span style=display:flex><span>    引发了 FE_INVALID
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.6 The round functions （第 TBD 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.6 The round functions （第 TBD 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.6 The round functions （第 184 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 184-185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.6 The round functions （第 384 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.6 The round functions （第 253 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 253 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.6 The round functions （第 527 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.6 The round functions （第 233 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.6 The round functions （第 464 页）</p></li><li><p>F.9.6.7 The lround and llround functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><strong>round</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/round>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=modf>modf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/modf>https://zh.cppreference.com/w/c/numeric/math/modf</a></p><p>作用：把一个数拆分成整数和小数部分 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>modff</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iptr</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iptr</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>modfl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iptr</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 分解给定的浮点数 <code>arg</code> 为整数和分数部分，每个都拥有与 <code>arg</code> 相同的类型和符号。（以浮点数格式）存储整数部分于 <code>iptr</code> 所指向的对象。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>iptr</td><td>-</td><td>指向要存储整数部分的目标的浮点数的指针</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回与 <code>arg</code> 相同符号的 <code>arg</code> 小数部分。将整数部分放进 <code>iptr</code> 所指向的值。</p><p>​ 返回值和存储于 <code>*iptr</code> 的值的和给出 <code>arg</code>（允许舍入）。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误。</p><p>​ 若实现支持 IEE 浮点数算术（IEC 60559），则</p><ul><li>若 <code>arg</code> 为 ±0，则返回 ±0，并存储 ±0 于 <code>*iptr</code>。</li><li>若 <code>arg</code> 为 ±∞，则返回 ±0，并存储 ±∞ 于 <code>*iptr</code>。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN，并存储 NaN 于 <code>*iptr</code>。</li><li>返回值是准确的，忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 此函数表现为如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>value</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>iptr</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>save_round</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fegetround</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_TOWARDZERO</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#54b1c7>*</span><span style=color:#aa89ea>iptr</span> <span style=color:#54b1c7>=</span> <span style=color:#aa89ea>std</span><span style=color:#54b1c7>::</span><span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>value</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>save_round</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>isinf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>value</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#d19a66>0.0</span> <span style=color:#54b1c7>:</span> <span style=color:#aa89ea>value</span> <span style=color:#54b1c7>-</span> <span style=color:#abb2bf>(</span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>iptr</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>value</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.2f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf(-0) 计算 %.2f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf(-Inf) 计算 %.2f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123.00 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span><span style=display:flex><span>modf(-0) 计算 -0.00 + -0.00
</span></span><span style=display:flex><span>modf(-Inf) 计算 -INF + -0.00
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.12 The modf functions （第 TBD 页）</p></li><li><p>F.10.3.12 The modf functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.12 The modf functions （第 TBD 页）</p></li><li><p>F.10.3.12 The modf functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.12 The modf functions （第 246-247 页）</p></li><li><p>F.10.3.12 The modf functions （第 523 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.12 The modf functions （第 227 页）</p></li><li><p>F.9.3.12 The modf functions （第 460 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.6 The modf function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></th><th>取整到绝对值不大于给定值的最接近整数 (函数)</th></tr></thead><tbody><tr><td><strong>modf</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/modf>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=modff>modff</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/modf>https://zh.cppreference.com/w/c/numeric/math/modf</a></p><p>作用：把一个数拆分成整数和小数部分 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>modff</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iptr</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iptr</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>modfl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iptr</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 分解给定的浮点数 <code>arg</code> 为整数和分数部分，每个都拥有与 <code>arg</code> 相同的类型和符号。（以浮点数格式）存储整数部分于 <code>iptr</code> 所指向的对象。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>iptr</td><td>-</td><td>指向要存储整数部分的目标的浮点数的指针</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回与 <code>arg</code> 相同符号的 <code>arg</code> 小数部分。将整数部分放进 <code>iptr</code> 所指向的值。</p><p>​ 返回值和存储于 <code>*iptr</code> 的值的和给出 <code>arg</code>（允许舍入）。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误。</p><p>​ 若实现支持 IEE 浮点数算术（IEC 60559），则</p><ul><li>若 <code>arg</code> 为 ±0，则返回 ±0，并存储 ±0 于 <code>*iptr</code>。</li><li>若 <code>arg</code> 为 ±∞，则返回 ±0，并存储 ±∞ 于 <code>*iptr</code>。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN，并存储 NaN 于 <code>*iptr</code>。</li><li>返回值是准确的，忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 此函数表现为如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>value</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>iptr</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>save_round</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fegetround</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_TOWARDZERO</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#54b1c7>*</span><span style=color:#aa89ea>iptr</span> <span style=color:#54b1c7>=</span> <span style=color:#aa89ea>std</span><span style=color:#54b1c7>::</span><span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>value</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>save_round</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>isinf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>value</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#d19a66>0.0</span> <span style=color:#54b1c7>:</span> <span style=color:#aa89ea>value</span> <span style=color:#54b1c7>-</span> <span style=color:#abb2bf>(</span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>iptr</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>value</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.2f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf(-0) 计算 %.2f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf(-Inf) 计算 %.2f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123.00 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span><span style=display:flex><span>modf(-0) 计算 -0.00 + -0.00
</span></span><span style=display:flex><span>modf(-Inf) 计算 -INF + -0.00
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.12 The modf functions （第 TBD 页）</p></li><li><p>F.10.3.12 The modf functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.12 The modf functions （第 TBD 页）</p></li><li><p>F.10.3.12 The modf functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.12 The modf functions （第 246-247 页）</p></li><li><p>F.10.3.12 The modf functions （第 523 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.12 The modf functions （第 227 页）</p></li><li><p>F.9.3.12 The modf functions （第 460 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.6 The modf function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></th><th>取整到绝对值不大于给定值的最接近整数 (函数)</th></tr></thead><tbody><tr><td><strong>modf</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/modf>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=modfl>modfl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/modf>https://zh.cppreference.com/w/c/numeric/math/modf</a></p><p>作用：把一个数拆分成整数和小数部分 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>modff</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iptr</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iptr</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>modfl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iptr</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 分解给定的浮点数 <code>arg</code> 为整数和分数部分，每个都拥有与 <code>arg</code> 相同的类型和符号。（以浮点数格式）存储整数部分于 <code>iptr</code> 所指向的对象。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>iptr</td><td>-</td><td>指向要存储整数部分的目标的浮点数的指针</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回与 <code>arg</code> 相同符号的 <code>arg</code> 小数部分。将整数部分放进 <code>iptr</code> 所指向的值。</p><p>​ 返回值和存储于 <code>*iptr</code> 的值的和给出 <code>arg</code>（允许舍入）。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误。</p><p>​ 若实现支持 IEE 浮点数算术（IEC 60559），则</p><ul><li>若 <code>arg</code> 为 ±0，则返回 ±0，并存储 ±0 于 <code>*iptr</code>。</li><li>若 <code>arg</code> 为 ±∞，则返回 ±0，并存储 ±∞ 于 <code>*iptr</code>。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN，并存储 NaN 于 <code>*iptr</code>。</li><li>返回值是准确的，忽略<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>。</li></ul><p><strong>注解</strong></p><p>​ 此函数表现为如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>value</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>iptr</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>save_round</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>fegetround</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_TOWARDZERO</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#54b1c7>*</span><span style=color:#aa89ea>iptr</span> <span style=color:#54b1c7>=</span> <span style=color:#aa89ea>std</span><span style=color:#54b1c7>::</span><span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>value</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>save_round</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>copysign</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>isinf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>value</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#d19a66>0.0</span> <span style=color:#54b1c7>:</span> <span style=color:#aa89ea>value</span> <span style=color:#54b1c7>-</span> <span style=color:#abb2bf>(</span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>iptr</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>value</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>123.45</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;给定数值 %.2f 十六进制为 %a，</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf() 计算 %.2f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>frexp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;frexp() 计算 %f * 2^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>ilogb</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logb()/ilogb() 计算 %f * %d^%d</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span> <span style=color:#54b1c7>/</span> <span style=color:#00b1f7>scalbn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>FLT_RADIX</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf(-0) 计算 %.2f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>modf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;modf(-Inf) 计算 %.2f + %.2f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>给定数值 123.45 十六进制为 0x1.edccccccccccdp+6，
</span></span><span style=display:flex><span>modf() 计算 123.00 + 0.45
</span></span><span style=display:flex><span>frexp() 计算 0.964453 * 2^7
</span></span><span style=display:flex><span>logb()/ilogb() 计算 1.92891 * 2^6
</span></span><span style=display:flex><span>modf(-0) 计算 -0.00 + -0.00
</span></span><span style=display:flex><span>modf(-Inf) 计算 -INF + -0.00
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.6.12 The modf functions （第 TBD 页）</p></li><li><p>F.10.3.12 The modf functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.6.12 The modf functions （第 TBD 页）</p></li><li><p>F.10.3.12 The modf functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.6.12 The modf functions （第 246-247 页）</p></li><li><p>F.10.3.12 The modf functions （第 523 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.6.12 The modf functions （第 227 页）</p></li><li><p>F.9.3.12 The modf functions （第 460 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.4.6 The modf function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></th><th>取整到绝对值不大于给定值的最接近整数 (函数)</th></tr></thead><tbody><tr><td><strong>modf</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/modf>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=nan-1>nan</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nan>https://zh.cppreference.com/w/c/numeric/math/nan</a></p><p>作用：返回 NaN（非数） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>nanf</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>nanl</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>nand32</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>nand64</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>nand128</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 转换实现定义的字符串 <code>arg</code> 为对应的安静 NaN 值，分别如同以下列方式调用 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtod</a>、<a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtof</a> 或 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtold</a>：</p><ul><li>调用 <code>nan("n-字符序列")</code>，其中 <em>n-字符序列</em> 是数字、拉丁字母和下划线的序列，等价于调用 <code>*/\*strtoX\*/*("NAN(n-字符序列)", (char**)[NULL](http://zh.cppreference.com/w/c/types/NULL));</code>。</li><li>调用 <code>nan("")</code> 等价于调用 <code>*/\*strtoX\*/*("NAN()", (char**)[NULL](http://zh.cppreference.com/w/c/types/NULL));</code>。</li><li>调用 <code>nan("字符串")</code>，其中 <code>字符串</code> 既非 <em>n-字符序列</em> 亦非空字符串，等价于调用 <code>*/\*strtoX\*/*("NAN", (char**)[NULL](http://zh.cppreference.com/w/c/types/NULL));</code>。</li></ul><p>1） 解析函数为 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtof</a>。</p><p>2） 解析函数为 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtod</a>。</p><p>3） 解析函数为 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtold</a>。</p><p>4） 解析函数为 strtod32。</p><p>5） 解析函数为 strtod64。</p><p>6） 解析函数为 strtod128。</p><p>​ 当且仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明返回十进制浮点数的各函数。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>标识 NaN 内容的窄字符串</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 对应标识字符串 <code>arg</code> 的安静 NaN 值，或若实现不支持安静 NaN 则为零。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则它也支持安静 NaN。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>&lt;ath_errhandlin></code></a> 的错误条件。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdint.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;inttypes.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f1</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>f1n</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f1n</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f1</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nan(</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>1</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>)   = %f (%&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1n</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;2&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>f2n</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f2n</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nan(</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>2</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>)   = %f (%&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2n</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0xF&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>f3n</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3n</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nan(</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>0xF</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>) = %f (%&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3n</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>nan(&#34;1&#34;)   = nan (7ff8000000000001)
</span></span><span style=display:flex><span>nan(&#34;2&#34;)   = nan (7ff8000000000002)
</span></span><span style=display:flex><span>nan(&#34;0xF&#34;) = nan (7ff800000000000f)
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.11.2 The nan functions （第 186-187 页）</p></li><li><p>F.10.8.2 The nan functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.11.2 The nan functions （第 256 页）</p></li><li><p>F.10.8.2 The nan functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.11.2 The nan functions （第 237 页）</p></li><li><p>F.9.8.2 The fabs functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isnan>isnan (C99)<br></a></th><th>检查给定数是否为 NaN (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/NAN>NAN (C99)<br></a></td><td>求值为 <code>float</code> 类型的安静 NaN (宏常量)</td></tr><tr><td><strong>nanf, nan, nanl</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/nan>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=nanf>nanf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nan>https://zh.cppreference.com/w/c/numeric/math/nan</a></p><p>作用：返回 NaN（非数） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>nanf</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>nanl</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>nand32</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>nand64</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>nand128</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 转换实现定义的字符串 <code>arg</code> 为对应的安静 NaN 值，分别如同以下列方式调用 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtod</a>、<a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtof</a> 或 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtold</a>：</p><ul><li>调用 <code>nan("n-字符序列")</code>，其中 <em>n-字符序列</em> 是数字、拉丁字母和下划线的序列，等价于调用 <code>*/\*strtoX\*/*("NAN(n-字符序列)", (char**)[NULL](http://zh.cppreference.com/w/c/types/NULL));</code>。</li><li>调用 <code>nan("")</code> 等价于调用 <code>*/\*strtoX\*/*("NAN()", (char**)[NULL](http://zh.cppreference.com/w/c/types/NULL));</code>。</li><li>调用 <code>nan("字符串")</code>，其中 <code>字符串</code> 既非 <em>n-字符序列</em> 亦非空字符串，等价于调用 <code>*/\*strtoX\*/*("NAN", (char**)[NULL](http://zh.cppreference.com/w/c/types/NULL));</code>。</li></ul><p>1） 解析函数为 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtof</a>。</p><p>2） 解析函数为 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtod</a>。</p><p>3） 解析函数为 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtold</a>。</p><p>4） 解析函数为 strtod32。</p><p>5） 解析函数为 strtod64。</p><p>6） 解析函数为 strtod128。</p><p>​ 当且仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明返回十进制浮点数的各函数。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>标识 NaN 内容的窄字符串</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 对应标识字符串 <code>arg</code> 的安静 NaN 值，或若实现不支持安静 NaN 则为零。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则它也支持安静 NaN。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>&lt;ath_errhandlin></code></a> 的错误条件。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdint.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;inttypes.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f1</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>f1n</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f1n</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f1</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nan(</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>1</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>)   = %f (%&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1n</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;2&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>f2n</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f2n</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nan(</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>2</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>)   = %f (%&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2n</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0xF&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>f3n</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3n</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nan(</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>0xF</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>) = %f (%&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3n</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>nan(&#34;1&#34;)   = nan (7ff8000000000001)
</span></span><span style=display:flex><span>nan(&#34;2&#34;)   = nan (7ff8000000000002)
</span></span><span style=display:flex><span>nan(&#34;0xF&#34;) = nan (7ff800000000000f)
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.11.2 The nan functions （第 186-187 页）</p></li><li><p>F.10.8.2 The nan functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.11.2 The nan functions （第 256 页）</p></li><li><p>F.10.8.2 The nan functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.11.2 The nan functions （第 237 页）</p></li><li><p>F.9.8.2 The fabs functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isnan>isnan (C99)<br></a></th><th>检查给定数是否为 NaN (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/NAN>NAN (C99)<br></a></td><td>求值为 <code>float</code> 类型的安静 NaN (宏常量)</td></tr><tr><td><strong>nanf, nan, nanl</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/nan>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=nanl>nanl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nan>https://zh.cppreference.com/w/c/numeric/math/nan</a></p><p>作用：返回 NaN（非数） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>nanf</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>nanl</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>nand32</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>nand64</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>nand128</span><span style=color:#abb2bf>(</span> <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>char</span><span style=color:#54b1c7>*</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span></code></pre></td></tr></table></div></div><p>​ 转换实现定义的字符串 <code>arg</code> 为对应的安静 NaN 值，分别如同以下列方式调用 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtod</a>、<a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtof</a> 或 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtold</a>：</p><ul><li>调用 <code>nan("n-字符序列")</code>，其中 <em>n-字符序列</em> 是数字、拉丁字母和下划线的序列，等价于调用 <code>*/\*strtoX\*/*("NAN(n-字符序列)", (char**)[NULL](http://zh.cppreference.com/w/c/types/NULL));</code>。</li><li>调用 <code>nan("")</code> 等价于调用 <code>*/\*strtoX\*/*("NAN()", (char**)[NULL](http://zh.cppreference.com/w/c/types/NULL));</code>。</li><li>调用 <code>nan("字符串")</code>，其中 <code>字符串</code> 既非 <em>n-字符序列</em> 亦非空字符串，等价于调用 <code>*/\*strtoX\*/*("NAN", (char**)[NULL](http://zh.cppreference.com/w/c/types/NULL));</code>。</li></ul><p>1） 解析函数为 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtof</a>。</p><p>2） 解析函数为 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtod</a>。</p><p>3） 解析函数为 <a href=https://zh.cppreference.com/w/c/string/byte/strtof>strtold</a>。</p><p>4） 解析函数为 strtod32。</p><p>5） 解析函数为 strtod64。</p><p>6） 解析函数为 strtod128。</p><p>​ 当且仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明返回十进制浮点数的各函数。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>标识 NaN 内容的窄字符串</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 对应标识字符串 <code>arg</code> 的安静 NaN 值，或若实现不支持安静 NaN 则为零。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则它也支持安静 NaN。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>&lt;ath_errhandlin></code></a> 的错误条件。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdint.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;inttypes.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;string.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f1</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;1&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>f1n</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f1n</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f1</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nan(</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>1</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>)   = %f (%&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1n</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;2&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>f2n</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f2n</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nan(</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>2</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>)   = %f (%&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2n</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>f3</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>nan</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;0xF&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>uint64_t</span> <span style=color:#aa89ea>f3n</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>memcpy</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3n</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nan(</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>0xF</span><span style=color:#d26464;font-weight:700>\&#34;</span><span style=color:#98c379>) = %f (%&#34;</span> <span style=color:#aa89ea>PRIx64</span> <span style=color:#98c379>&#34;)</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f3n</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>nan(&#34;1&#34;)   = nan (7ff8000000000001)
</span></span><span style=display:flex><span>nan(&#34;2&#34;)   = nan (7ff8000000000002)
</span></span><span style=display:flex><span>nan(&#34;0xF&#34;) = nan (7ff800000000000f)
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.11.2 The nan functions （第 186-187 页）</p></li><li><p>F.10.8.2 The nan functions （第 386 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.11.2 The nan functions （第 256 页）</p></li><li><p>F.10.8.2 The nan functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.11.2 The nan functions （第 237 页）</p></li><li><p>F.9.8.2 The fabs functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/isnan>isnan (C99)<br></a></th><th>检查给定数是否为 NaN (宏函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/NAN>NAN (C99)<br></a></td><td>求值为 <code>float</code> 类型的安静 NaN (宏常量)</td></tr><tr><td><strong>nanf, nan, nanl</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/nan>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=nearbyint>nearbyint</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>https://zh.cppreference.com/w/c/numeric/math/nearbyint</a></p><p>作用：用当前舍入模式取整到整数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>nearbyintf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>nearbyintl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define nearbyint( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 以<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>，舍入浮点数实参 <code>arg</code> 到浮点数格式的整数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>nearbyintl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>nearbyint</code>。否则调用 <code>nearbyintf</code>。</p><p><strong>参数</strong>值</p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 返回 <code>arg</code> 按照<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>当前舍入模式</a>的最接近整数。</p><p><strong>错误处理</strong></p><p>​ 此函数不受制于任何指定于 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a></li><li>若 <code>arg</code> 为 ±∞，则返回不修改的参数</li><li>若 <code>arg</code> 为 ±0，则返回不修改的参数</li><li>若 <code>arg</code> 为 NaN，则返回 NaN</li></ul><p><strong>展开</strong></p><p>​ <code>nearbyint</code> 和 <a href=https://zh.cppreference.com/w/c/numeric/math/rint>rint</a> 之间仅有的区别是 <code>nearbyint</code> 决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数都是整数，故 <code>nearbyint</code> 自身决不溢出；然而存储结果于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 若当前舍入模式为 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>FE_TONEAREST</a>，则此函数在中点情况向偶数舍入（同 <a href=https://zh.cppreference.com/w/c/numeric/math/rint>rint</a>，但不同于 <a href=https://zh.cppreference.com/w/c/numeric/math/round>round</a>）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_TONEAREST</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;舍入到临近:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>nearbyint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>fesetround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DOWNWARD</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;向下舍入:</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>nearbyint(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(+3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(-3.5) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nearbyint(-Inf) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>nearbyint</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>舍入到临近:
</span></span><span style=display:flex><span>nearbyint(+2.3) = +2.0  nearbyint(+2.5) = +2.0  nearbyint(+3.5) = +4.0
</span></span><span style=display:flex><span>nearbyint(-2.3) = -2.0  nearbyint(-2.5) = -2.0  nearbyint(-3.5) = -4.0
</span></span><span style=display:flex><span>向下舍入:
</span></span><span style=display:flex><span>nearbyint(+2.3) = +2.0  nearbyint(+2.5) = +2.0  nearbyint(+3.5) = +3.0
</span></span><span style=display:flex><span>nearbyint(-2.3) = -3.0  nearbyint(-2.5) = -3.0  nearbyint(-3.5) = -4.0
</span></span><span style=display:flex><span>nearbyint(-0.0) = -0.0
</span></span><span style=display:flex><span>nearbyint(-Inf) = -inf
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.3 The nearbyint functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.3 The nearbyint functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.3 The nearbyint functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.3 The nearbyint functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.3 The nearbyint functions （第 251-252 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.3 The nearbyint functions （第 526 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.3 The nearbyint functions （第 232 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.3 The nearbyint functions （第 463 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/rint>rint (C99)<br>rintf (C99)<br>rintl (C99)<br>lrint (C99)<br>lrintf (C99)<br>lrintl (C99)<br>llrint (C99)<br>llrintf (C99)<br>llrintl (C99)<br></a></th><th>使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/round>round (C99)<br>roundf (C99)<br>roundl (C99)<br>lround (C99)<br>lroundf (C99)<br>lroundl (C99)<br>llround (C99)<br>llroundf (C99)<br>llroundl (C99)<br></a></td><td>取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/fenv/feround>fegetround (C99)<br>fesetround (C99)<br></a></td><td>获得或设置数字的舍入方向 (函数)</td></tr><tr><td><strong>nearbyint</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/nearbyint>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=nearbyintf>nearbyintf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>https://zh.cppreference.com/w/c/numeric/math/nearbyint</a></p><p>作用：用当前舍入模式取整到整数 (函数)</p><p>备注：</p><h3 id=nearbyintl>nearbyintl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nearbyint>https://zh.cppreference.com/w/c/numeric/math/nearbyint</a></p><p>作用：用当前舍入模式取整到整数 (函数)</p><p>备注：</p><h3 id=nextafter>nextafter</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nextafter>https://zh.cppreference.com/w/c/numeric/math/nextafter</a></p><p>作用：确定到给定值方向的下一个可表示的浮点数 (函数)</p><p>备注：</p><h3 id=nextafterf>nextafterf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nextafter>https://zh.cppreference.com/w/c/numeric/math/nextafter</a></p><p>作用：确定到给定值方向的下一个可表示的浮点数 (函数)</p><p>备注：</p><h3 id=nextafterl>nextafterl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nextafter>https://zh.cppreference.com/w/c/numeric/math/nextafter</a></p><p>作用：确定到给定值方向的下一个可表示的浮点数 (函数)</p><p>备注：</p><h3 id=nexttoward>nexttoward</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nextafter>https://zh.cppreference.com/w/c/numeric/math/nextafter</a></p><p>作用：确定到给定值方向的下一个可表示的浮点数 (函数)</p><p>备注：</p><h3 id=nexttowardf>nexttowardf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nextafter>https://zh.cppreference.com/w/c/numeric/math/nextafter</a></p><p>作用：确定到给定值方向的下一个可表示的浮点数 (函数)</p><p>备注：</p><h3 id=nexttowardl>nexttowardl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/nextafter>https://zh.cppreference.com/w/c/numeric/math/nextafter</a></p><p>作用：确定到给定值方向的下一个可表示的浮点数 (函数)</p><p>备注：</p><h3 id=pow>pow</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/pow>https://zh.cppreference.com/w/c/numeric/math/pow</a></p><p>作用：计算一个数的给定次幂（\small{x^y}\small{x^y}xy） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span> <span style=color:#00b1f7>powf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>base</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>exponent</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>base</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>exponent</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>powl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>base</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>exponent</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define pow( base, exponent )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>base</code> 的 <code>exponent</code> 次幂。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>powl</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>pow</code>。否则调用 <code>powf</code>。若至少一个实参为复数或虚数，则宏调用对应的复函数（<code>[cpowf](http://zh.cppreference.com/w/c/numeric/complex/cpow)</code>、<code>[cpow](http://zh.cppreference.com/w/c/numeric/complex/cpow)</code>、<code>[cpowl](http://zh.cppreference.com/w/c/numeric/complex/cpow)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>base</th><th>-</th><th>作为底的浮点数</th></tr></thead><tbody><tr><td>exponent</td><td>-</td><td>作为指数的浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>base</code> 的 <code>exponent</code> 次幂（*baseexponent
*）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误或上溢所致的值域错误，则返回 <code>±[HUGE_VAL](http://zh.cppreference.com/w/c/numeric/math/HUGE_VAL)</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>base</code> 有限且为负，且 <code>exponent</code> 有限且为非整数，则出现定义域错误，并可能出现值域错误。</p><p>​ 若 <code>base</code> 为零且 <code>exponent</code> 为零，则可能出现定义域错误。</p><p>​ 若 <code>base</code> 为零且 <code>exponent</code> 为负，则可能出现定义域错误或极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><code>pow(+0, exponent)</code>，其中 <code>exponent</code> 为负奇数，返回 <code>+∞</code> 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li><code>pow(-0, exponent)</code>，其中 <code>exponent</code> 为负奇数，返回 <code>-∞</code> 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li><code>pow(±0, exponent)</code>，其中 <code>exponent</code> 为有限负数，且为偶数或非整数，则返回 +∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li><code>pow(±0, -∞)</code> 返回 +∞ 并可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>(C23 前)</li><li><code>pow(+0, exponent)</code>，其中 <code>exponent</code> 为正奇数，返回 +0</li><li><code>pow(-0, exponent)</code>，其中 <code>exponent</code> 为正奇数，返回 -0</li><li><code>pow(±0, exponent)</code>，其中 <code>exponent</code> 为正非整数或正偶数，返回 +0</li><li><code>pow(-1, ±∞)</code> 返回 <code>1</code></li><li><code>pow(+1, exponent)</code> 对于任何 <code>exponent</code> 返回 <code>1</code>，即使 <code>exponent</code> 为 <code>NaN</code></li><li><code>pow(base, ±0)</code> 对于任何 <code>base</code> 返回 <code>1</code>，即使 <code>base</code> 为 <code>NaN</code></li><li><code>pow(base, exponent)</code> 返回 <code>NaN</code> 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>，若 <code>base</code> 为有限负数且 <code>exponent</code> 为有限非整数。</li><li><code>pow(base, -∞)</code> 对任何 <code>|base|&lt;1</code> 返回 +∞</li><li><code>pow(base, -∞)</code> 对任何 <code>|base|>1</code> 返回 +0</li><li><code>pow(base, +∞)</code> 对任何 <code>|base|&lt;1</code> 返回 +0</li><li><code>pow(base, +∞)</code> 对任何 <code>|base|>1</code> 返回 +∞</li><li><code>pow(-∞, exponent)</code> 返回 -0，若 <code>exponent</code> 为负奇整数</li><li><code>pow(-∞, exponent)</code> 返回 +0，若 <code>exponent</code> 为负非整数或负偶数</li><li><code>pow(-∞, exponent)</code> 返回 -∞，若 <code>exponent</code> 为正奇整数</li><li><code>pow(-∞, exponent)</code> 返回 +∞，若 <code>exponent</code> 为正非整数或正偶数</li><li><code>pow(+∞, exponent)</code> 对任何 <code>exponent</code> 返回 +0</li><li><code>pow(+∞, exponent)</code> 对任何 <code>exponent</code> 返回 +∞</li><li>除了指定于上处，若任何实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 尽管 <code>pow</code> 不能获得负数的开方根，也为 <code>exponent</code> 为 <code>1 / 3</code> 的常用情况提供了 <a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt</a> 。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型使用
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(2, 10) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(2, 0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-2, -3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-1, NAN) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(+1, NAN) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(INFINITY, 2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(INFINITY, -1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-1, 1/3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-0, -3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>pow(2, 10) = 1024.000000
</span></span><span style=display:flex><span>pow(2, 0.5) = 1.414214
</span></span><span style=display:flex><span>pow(-2, -3) = -0.125000
</span></span><span style=display:flex><span>pow(-1, NAN) = nan
</span></span><span style=display:flex><span>pow(+1, NAN) = 1.000000
</span></span><span style=display:flex><span>pow(INFINITY, 2) = inf
</span></span><span style=display:flex><span>pow(INFINITY, -1) = 0.000000
</span></span><span style=display:flex><span>pow(-1, 1/3) = -nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span><span style=display:flex><span>pow(-0, -3) = -inf
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.5 The pow functions</p></li><li><p>7.27 Type-generic math &lt;tgmath.h></p></li><li><p>F.10.4.5 The pow functions （第 524-525 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.4 The pow functions （第 248-249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.4 The pow functions （第 524-525 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.4 The pow functions （第 248-249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.4 The pow functions （第 524-525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.4 The pow functions （第 229 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.4 The pow functions （第 461 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.5.1 The pow function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt<br>sqrtf (C99)<br>sqrtl (C99)<br></a></th><th>计算平方根（√xx） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt (C99)<br>cbrtf (C99)<br>cbrtl (C99)<br></a></td><td>计算立方根（3√xx3） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/hypot>hypot (C99)<br>hypotf (C99)<br>hypotl (C99)<br></a></td><td>计算两个给定数平方和的平方根（√x2+y2x2+y2） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cpow>cpow (C99)<br>cpowf (C99)<br>cpowl (C99)<br></a></td><td>计算复数幂函数 (函数)</td></tr><tr><td><strong>pow</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/pow>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=powf>powf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/pow>https://zh.cppreference.com/w/c/numeric/math/pow</a></p><p>作用：计算一个数的给定次幂（\small{x^y}\small{x^y}xy） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span> <span style=color:#00b1f7>powf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>base</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>exponent</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>base</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>exponent</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>powl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>base</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>exponent</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define pow( base, exponent )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>base</code> 的 <code>exponent</code> 次幂。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>powl</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>pow</code>。否则调用 <code>powf</code>。若至少一个实参为复数或虚数，则宏调用对应的复函数（<code>[cpowf](http://zh.cppreference.com/w/c/numeric/complex/cpow)</code>、<code>[cpow](http://zh.cppreference.com/w/c/numeric/complex/cpow)</code>、<code>[cpowl](http://zh.cppreference.com/w/c/numeric/complex/cpow)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>base</th><th>-</th><th>作为底的浮点数</th></tr></thead><tbody><tr><td>exponent</td><td>-</td><td>作为指数的浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>base</code> 的 <code>exponent</code> 次幂（*baseexponent
*）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误或上溢所致的值域错误，则返回 <code>±[HUGE_VAL](http://zh.cppreference.com/w/c/numeric/math/HUGE_VAL)</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>base</code> 有限且为负，且 <code>exponent</code> 有限且为非整数，则出现定义域错误，并可能出现值域错误。</p><p>​ 若 <code>base</code> 为零且 <code>exponent</code> 为零，则可能出现定义域错误。</p><p>​ 若 <code>base</code> 为零且 <code>exponent</code> 为负，则可能出现定义域错误或极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><code>pow(+0, exponent)</code>，其中 <code>exponent</code> 为负奇数，返回 <code>+∞</code> 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li><code>pow(-0, exponent)</code>，其中 <code>exponent</code> 为负奇数，返回 <code>-∞</code> 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li><code>pow(±0, exponent)</code>，其中 <code>exponent</code> 为有限负数，且为偶数或非整数，则返回 +∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li><code>pow(±0, -∞)</code> 返回 +∞ 并可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>(C23 前)</li><li><code>pow(+0, exponent)</code>，其中 <code>exponent</code> 为正奇数，返回 +0</li><li><code>pow(-0, exponent)</code>，其中 <code>exponent</code> 为正奇数，返回 -0</li><li><code>pow(±0, exponent)</code>，其中 <code>exponent</code> 为正非整数或正偶数，返回 +0</li><li><code>pow(-1, ±∞)</code> 返回 <code>1</code></li><li><code>pow(+1, exponent)</code> 对于任何 <code>exponent</code> 返回 <code>1</code>，即使 <code>exponent</code> 为 <code>NaN</code></li><li><code>pow(base, ±0)</code> 对于任何 <code>base</code> 返回 <code>1</code>，即使 <code>base</code> 为 <code>NaN</code></li><li><code>pow(base, exponent)</code> 返回 <code>NaN</code> 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>，若 <code>base</code> 为有限负数且 <code>exponent</code> 为有限非整数。</li><li><code>pow(base, -∞)</code> 对任何 <code>|base|&lt;1</code> 返回 +∞</li><li><code>pow(base, -∞)</code> 对任何 <code>|base|>1</code> 返回 +0</li><li><code>pow(base, +∞)</code> 对任何 <code>|base|&lt;1</code> 返回 +0</li><li><code>pow(base, +∞)</code> 对任何 <code>|base|>1</code> 返回 +∞</li><li><code>pow(-∞, exponent)</code> 返回 -0，若 <code>exponent</code> 为负奇整数</li><li><code>pow(-∞, exponent)</code> 返回 +0，若 <code>exponent</code> 为负非整数或负偶数</li><li><code>pow(-∞, exponent)</code> 返回 -∞，若 <code>exponent</code> 为正奇整数</li><li><code>pow(-∞, exponent)</code> 返回 +∞，若 <code>exponent</code> 为正非整数或正偶数</li><li><code>pow(+∞, exponent)</code> 对任何 <code>exponent</code> 返回 +0</li><li><code>pow(+∞, exponent)</code> 对任何 <code>exponent</code> 返回 +∞</li><li>除了指定于上处，若任何实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 尽管 <code>pow</code> 不能获得负数的开方根，也为 <code>exponent</code> 为 <code>1 / 3</code> 的常用情况提供了 <a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt</a> 。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型使用
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(2, 10) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(2, 0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-2, -3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-1, NAN) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(+1, NAN) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(INFINITY, 2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(INFINITY, -1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-1, 1/3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-0, -3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>pow(2, 10) = 1024.000000
</span></span><span style=display:flex><span>pow(2, 0.5) = 1.414214
</span></span><span style=display:flex><span>pow(-2, -3) = -0.125000
</span></span><span style=display:flex><span>pow(-1, NAN) = nan
</span></span><span style=display:flex><span>pow(+1, NAN) = 1.000000
</span></span><span style=display:flex><span>pow(INFINITY, 2) = inf
</span></span><span style=display:flex><span>pow(INFINITY, -1) = 0.000000
</span></span><span style=display:flex><span>pow(-1, 1/3) = -nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span><span style=display:flex><span>pow(-0, -3) = -inf
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.5 The pow functions</p></li><li><p>7.27 Type-generic math &lt;tgmath.h></p></li><li><p>F.10.4.5 The pow functions （第 524-525 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.4 The pow functions （第 248-249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.4 The pow functions （第 524-525 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.4 The pow functions （第 248-249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.4 The pow functions （第 524-525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.4 The pow functions （第 229 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.4 The pow functions （第 461 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.5.1 The pow function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt<br>sqrtf (C99)<br>sqrtl (C99)<br></a></th><th>计算平方根（√xx） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt (C99)<br>cbrtf (C99)<br>cbrtl (C99)<br></a></td><td>计算立方根（3√xx3） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/hypot>hypot (C99)<br>hypotf (C99)<br>hypotl (C99)<br></a></td><td>计算两个给定数平方和的平方根（√x2+y2x2+y2） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cpow>cpow (C99)<br>cpowf (C99)<br>cpowl (C99)<br></a></td><td>计算复数幂函数 (函数)</td></tr><tr><td><strong>pow</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/pow>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=powl>powl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/pow>https://zh.cppreference.com/w/c/numeric/math/pow</a></p><p>作用：计算一个数的给定次幂（\small{x^y}\small{x^y}xy） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span> <span style=color:#00b1f7>powf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>base</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>exponent</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>base</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>exponent</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>powl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>base</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>exponent</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define pow( base, exponent )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>base</code> 的 <code>exponent</code> 次幂。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>powl</code>。否则，若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>pow</code>。否则调用 <code>powf</code>。若至少一个实参为复数或虚数，则宏调用对应的复函数（<code>[cpowf](http://zh.cppreference.com/w/c/numeric/complex/cpow)</code>、<code>[cpow](http://zh.cppreference.com/w/c/numeric/complex/cpow)</code>、<code>[cpowl](http://zh.cppreference.com/w/c/numeric/complex/cpow)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>base</th><th>-</th><th>作为底的浮点数</th></tr></thead><tbody><tr><td>exponent</td><td>-</td><td>作为指数的浮点数</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>base</code> 的 <code>exponent</code> 次幂（*baseexponent
*）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现极点错误或上溢所致的值域错误，则返回 <code>±[HUGE_VAL](http://zh.cppreference.com/w/c/numeric/math/HUGE_VAL)</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>base</code> 有限且为负，且 <code>exponent</code> 有限且为非整数，则出现定义域错误，并可能出现值域错误。</p><p>​ 若 <code>base</code> 为零且 <code>exponent</code> 为零，则可能出现定义域错误。</p><p>​ 若 <code>base</code> 为零且 <code>exponent</code> 为负，则可能出现定义域错误或极点错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li><code>pow(+0, exponent)</code>，其中 <code>exponent</code> 为负奇数，返回 <code>+∞</code> 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li><code>pow(-0, exponent)</code>，其中 <code>exponent</code> 为负奇数，返回 <code>-∞</code> 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li><code>pow(±0, exponent)</code>，其中 <code>exponent</code> 为有限负数，且为偶数或非整数，则返回 +∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li><code>pow(±0, -∞)</code> 返回 +∞ 并可能引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a>(C23 前)</li><li><code>pow(+0, exponent)</code>，其中 <code>exponent</code> 为正奇数，返回 +0</li><li><code>pow(-0, exponent)</code>，其中 <code>exponent</code> 为正奇数，返回 -0</li><li><code>pow(±0, exponent)</code>，其中 <code>exponent</code> 为正非整数或正偶数，返回 +0</li><li><code>pow(-1, ±∞)</code> 返回 <code>1</code></li><li><code>pow(+1, exponent)</code> 对于任何 <code>exponent</code> 返回 <code>1</code>，即使 <code>exponent</code> 为 <code>NaN</code></li><li><code>pow(base, ±0)</code> 对于任何 <code>base</code> 返回 <code>1</code>，即使 <code>base</code> 为 <code>NaN</code></li><li><code>pow(base, exponent)</code> 返回 <code>NaN</code> 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>，若 <code>base</code> 为有限负数且 <code>exponent</code> 为有限非整数。</li><li><code>pow(base, -∞)</code> 对任何 <code>|base|&lt;1</code> 返回 +∞</li><li><code>pow(base, -∞)</code> 对任何 <code>|base|>1</code> 返回 +0</li><li><code>pow(base, +∞)</code> 对任何 <code>|base|&lt;1</code> 返回 +0</li><li><code>pow(base, +∞)</code> 对任何 <code>|base|>1</code> 返回 +∞</li><li><code>pow(-∞, exponent)</code> 返回 -0，若 <code>exponent</code> 为负奇整数</li><li><code>pow(-∞, exponent)</code> 返回 +0，若 <code>exponent</code> 为负非整数或负偶数</li><li><code>pow(-∞, exponent)</code> 返回 -∞，若 <code>exponent</code> 为正奇整数</li><li><code>pow(-∞, exponent)</code> 返回 +∞，若 <code>exponent</code> 为正非整数或正偶数</li><li><code>pow(+∞, exponent)</code> 对任何 <code>exponent</code> 返回 +0</li><li><code>pow(+∞, exponent)</code> 对任何 <code>exponent</code> 返回 +∞</li><li>除了指定于上处，若任何实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 尽管 <code>pow</code> 不能获得负数的开方根，也为 <code>exponent</code> 为 <code>1 / 3</code> 的常用情况提供了 <a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt</a> 。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型使用
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(2, 10) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(2, 0.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-2, -3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-1, NAN) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(+1, NAN) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>NAN</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(INFINITY, 2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(INFINITY, -1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-1, 1/3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1.0</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pow(-0, -3) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>pow</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>pow(2, 10) = 1024.000000
</span></span><span style=display:flex><span>pow(2, 0.5) = 1.414214
</span></span><span style=display:flex><span>pow(-2, -3) = -0.125000
</span></span><span style=display:flex><span>pow(-1, NAN) = nan
</span></span><span style=display:flex><span>pow(+1, NAN) = 1.000000
</span></span><span style=display:flex><span>pow(INFINITY, 2) = inf
</span></span><span style=display:flex><span>pow(INFINITY, -1) = 0.000000
</span></span><span style=display:flex><span>pow(-1, 1/3) = -nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span><span style=display:flex><span>pow(-0, -3) = -inf
</span></span><span style=display:flex><span>    FE_DIVBYZERO raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.5 The pow functions</p></li><li><p>7.27 Type-generic math &lt;tgmath.h></p></li><li><p>F.10.4.5 The pow functions （第 524-525 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.4 The pow functions （第 248-249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.4 The pow functions （第 524-525 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.4 The pow functions （第 248-249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.4 The pow functions （第 524-525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.4 The pow functions （第 229 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.4 The pow functions （第 461 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.5.1 The pow function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>sqrt<br>sqrtf (C99)<br>sqrtl (C99)<br></a></th><th>计算平方根（√xx） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt (C99)<br>cbrtf (C99)<br>cbrtl (C99)<br></a></td><td>计算立方根（3√xx3） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/hypot>hypot (C99)<br>hypotf (C99)<br>hypotl (C99)<br></a></td><td>计算两个给定数平方和的平方根（√x2+y2x2+y2） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/cpow>cpow (C99)<br>cpowf (C99)<br>cpowl (C99)<br></a></td><td>计算复数幂函数 (函数)</td></tr><tr><td><strong>pow</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/pow>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=remainder>remainder</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/remainder>https://zh.cppreference.com/w/c/numeric/math/remainder</a></p><p>作用：计算浮点数除法运算的带符号余数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>remainderf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>remainderl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define remainder( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算浮点数除法运算 <code>x/y</code> 的 IEEE 余数。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>remainderl</code>。否则若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>remainder</code>。否则调用 <code>remainderf</code>。</p><p>​ 此函数所计算的除法运算 <code>x/y</code> 的 IEEE 浮点数余数，准确地为值 <code>x - n * y</code>，其中值 <code>n</code> 是最接近 <code>x/y</code> 准确值的整数。<em>|n-x/y| = ½</em> 时，选择作为偶数的 <code>n</code>。</p><p>​ 与 std::fmod() 相反，不保证返回值拥有与 <code>x</code> 相同的符号。</p><p>​ 若返回值是 <code>0</code>，则它拥有与 <code>x</code> 相同的符号。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回如上定义的除法 <code>x / y</code> 的 IEEE 浮点数余数。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回正确结果。</p><p>​ 若 <code>y</code> 为零但不出现定义域错误，则返回零。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>y</code> 为零则可能出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>，结果始终准确。</li><li>若 <code>x</code> 为 ±∞ 且 <code>y</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±0 且 <code>x</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若任一实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/remainder.html>POSIX 要求</a>若 <code>x</code> 为无穷大或 <code>y</code> 为零则出现定义域错误。</p><p>​ <a href=https://zh.cppreference.com/w/c/numeric/math/fmod>fmod</a>，但不是 <code>remainder</code>，适于安静地包装浮点数类型到无符号整数类型：<code>(0.0 &lt;= (y = [fmod](http://zh.cppreference.com/w/c/numeric/math/fmod)( [rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0 )) ? y : 65536.0 + y)</code> 在范围 <code>[``-0.0``, ``65535.0``]</code> 内，它对应 <code>unsigned short</code>，但 <code>remainder([rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0)</code> 在范围 <code>[``-32767.0``, ``+32768.0``]</code> 内，它在 <code>signed short</code> 的范围外。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(-5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(-5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(-0.0, 1.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, Inf) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, 0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>remainder(+5.1, +3.0) = -0.9
</span></span><span style=display:flex><span>remainder(-5.1, +3.0) = 0.9
</span></span><span style=display:flex><span>remainder(+5.1, -3.0) = -0.9
</span></span><span style=display:flex><span>remainder(-5.1, -3.0) = 0.9
</span></span><span style=display:flex><span>remainder(+0.0, 1.0) = 0.0
</span></span><span style=display:flex><span>remainder(-0.0, 1.0) = -0.0
</span></span><span style=display:flex><span>remainder(+5.1, Inf) = 5.1
</span></span><span style=display:flex><span>remainder(+5.1, 0) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.10.2 The remainder functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.7.2 The remainder functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.10.2 The remainder functions （第 185-186 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.7.2 The remainder functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.10.2 The remainder functions （第 254-255 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.7.2 The remainder functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.10.2 The remainder functions （第 235 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.7.2 The remainder functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/div>div<br>ldiv<br>lldiv (C99)<br></a></th><th>计算整数除法的商和余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmod>fmod<br>fmodf (C99)<br>fmodl (C99)<br></a></td><td>计算浮点数除法运算的余数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>remainder</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/remainder>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=remainderf>remainderf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/remainder>https://zh.cppreference.com/w/c/numeric/math/remainder</a></p><p>作用：计算浮点数除法运算的带符号余数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>remainderf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>remainderl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define remainder( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算浮点数除法运算 <code>x/y</code> 的 IEEE 余数。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>remainderl</code>。否则若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>remainder</code>。否则调用 <code>remainderf</code>。</p><p>​ 此函数所计算的除法运算 <code>x/y</code> 的 IEEE 浮点数余数，准确地为值 <code>x - n * y</code>，其中值 <code>n</code> 是最接近 <code>x/y</code> 准确值的整数。<em>|n-x/y| = ½</em> 时，选择作为偶数的 <code>n</code>。</p><p>​ 与 std::fmod() 相反，不保证返回值拥有与 <code>x</code> 相同的符号。</p><p>​ 若返回值是 <code>0</code>，则它拥有与 <code>x</code> 相同的符号。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回如上定义的除法 <code>x / y</code> 的 IEEE 浮点数余数。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回正确结果。</p><p>​ 若 <code>y</code> 为零但不出现定义域错误，则返回零。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>y</code> 为零则可能出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>，结果始终准确。</li><li>若 <code>x</code> 为 ±∞ 且 <code>y</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±0 且 <code>x</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若任一实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/remainder.html>POSIX 要求</a>若 <code>x</code> 为无穷大或 <code>y</code> 为零则出现定义域错误。</p><p>​ <a href=https://zh.cppreference.com/w/c/numeric/math/fmod>fmod</a>，但不是 <code>remainder</code>，适于安静地包装浮点数类型到无符号整数类型：<code>(0.0 &lt;= (y = [fmod](http://zh.cppreference.com/w/c/numeric/math/fmod)( [rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0 )) ? y : 65536.0 + y)</code> 在范围 <code>[``-0.0``, ``65535.0``]</code> 内，它对应 <code>unsigned short</code>，但 <code>remainder([rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0)</code> 在范围 <code>[``-32767.0``, ``+32768.0``]</code> 内，它在 <code>signed short</code> 的范围外。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(-5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(-5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(-0.0, 1.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, Inf) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, 0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>remainder(+5.1, +3.0) = -0.9
</span></span><span style=display:flex><span>remainder(-5.1, +3.0) = 0.9
</span></span><span style=display:flex><span>remainder(+5.1, -3.0) = -0.9
</span></span><span style=display:flex><span>remainder(-5.1, -3.0) = 0.9
</span></span><span style=display:flex><span>remainder(+0.0, 1.0) = 0.0
</span></span><span style=display:flex><span>remainder(-0.0, 1.0) = -0.0
</span></span><span style=display:flex><span>remainder(+5.1, Inf) = 5.1
</span></span><span style=display:flex><span>remainder(+5.1, 0) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.10.2 The remainder functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.7.2 The remainder functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.10.2 The remainder functions （第 185-186 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.7.2 The remainder functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.10.2 The remainder functions （第 254-255 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.7.2 The remainder functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.10.2 The remainder functions （第 235 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.7.2 The remainder functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/div>div<br>ldiv<br>lldiv (C99)<br></a></th><th>计算整数除法的商和余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmod>fmod<br>fmodf (C99)<br>fmodl (C99)<br></a></td><td>计算浮点数除法运算的余数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>remainder</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/remainder>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=remainderl>remainderl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/remainder>https://zh.cppreference.com/w/c/numeric/math/remainder</a></p><p>作用：计算浮点数除法运算的带符号余数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>remainderf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>remainderl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define remainder( x, y )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算浮点数除法运算 <code>x/y</code> 的 IEEE 余数。</p><p>4） 泛型宏：若任何实参拥有 <code>long double</code> 类型，则调用 <code>remainderl</code>。否则若任何实参拥有整数类型或 <code>double</code> 类型，则调用 <code>remainder</code>。否则调用 <code>remainderf</code>。</p><p>​ 此函数所计算的除法运算 <code>x/y</code> 的 IEEE 浮点数余数，准确地为值 <code>x - n * y</code>，其中值 <code>n</code> 是最接近 <code>x/y</code> 准确值的整数。<em>|n-x/y| = ½</em> 时，选择作为偶数的 <code>n</code>。</p><p>​ 与 std::fmod() 相反，不保证返回值拥有与 <code>x</code> 相同的符号。</p><p>​ 若返回值是 <code>0</code>，则它拥有与 <code>x</code> 相同的符号。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回如上定义的除法 <code>x / y</code> 的 IEEE 浮点数余数。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回正确结果。</p><p>​ 若 <code>y</code> 为零但不出现定义域错误，则返回零。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>y</code> 为零则可能出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>，结果始终准确。</li><li>若 <code>x</code> 为 ±∞ 且 <code>y</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±0 且 <code>x</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若任一实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/remainder.html>POSIX 要求</a>若 <code>x</code> 为无穷大或 <code>y</code> 为零则出现定义域错误。</p><p>​ <a href=https://zh.cppreference.com/w/c/numeric/math/fmod>fmod</a>，但不是 <code>remainder</code>，适于安静地包装浮点数类型到无符号整数类型：<code>(0.0 &lt;= (y = [fmod](http://zh.cppreference.com/w/c/numeric/math/fmod)( [rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0 )) ? y : 65536.0 + y)</code> 在范围 <code>[``-0.0``, ``65535.0``]</code> 内，它对应 <code>unsigned short</code>，但 <code>remainder([rint](http://zh.cppreference.com/w/c/numeric/math/rint)(x), 65536.0)</code> 在范围 <code>[``-32767.0``, ``+32768.0``]</code> 内，它在 <code>signed short</code> 的范围外。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(-5.1, +3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(-5.1, -3.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(-0.0, 1.0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, Inf) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remainder(+5.1, 0) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remainder</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5.1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>remainder(+5.1, +3.0) = -0.9
</span></span><span style=display:flex><span>remainder(-5.1, +3.0) = 0.9
</span></span><span style=display:flex><span>remainder(+5.1, -3.0) = -0.9
</span></span><span style=display:flex><span>remainder(-5.1, -3.0) = 0.9
</span></span><span style=display:flex><span>remainder(+0.0, 1.0) = 0.0
</span></span><span style=display:flex><span>remainder(-0.0, 1.0) = -0.0
</span></span><span style=display:flex><span>remainder(+5.1, Inf) = 5.1
</span></span><span style=display:flex><span>remainder(+5.1, 0) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.10.2 The remainder functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.7.2 The remainder functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.10.2 The remainder functions （第 185-186 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.7.2 The remainder functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.10.2 The remainder functions （第 254-255 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.7.2 The remainder functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.10.2 The remainder functions （第 235 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.7.2 The remainder functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/div>div<br>ldiv<br>lldiv (C99)<br></a></th><th>计算整数除法的商和余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmod>fmod<br>fmodf (C99)<br>fmodl (C99)<br></a></td><td>计算浮点数除法运算的余数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remquo>remquo (C99)<br>remquof (C99)<br>remquol (C99)<br></a></td><td>计算除法运算的带符号余数，以及商的后三位 (函数)</td></tr><tr><td><strong>remainder</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/remainder>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=remquo>remquo</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/remquo>https://zh.cppreference.com/w/c/numeric/math/remquo</a></p><p>作用：计算除法运算的带符号余数，以及商的后三位 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>remquof</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>quo</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>remquo</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>quo</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>remquol</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>quo</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define remquo( x, y, quo )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算除法运算 <code>x/y</code> 的浮点数余数，如 <a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder()</a> 函数所为。另外，将存储 <code>x/y</code> 的至少最低三位及符号于 <code>quo</code>，这足以确定结果在周期中的八分位。</p><p>4） 泛型宏：若任何非指针实参拥有 <code>long double</code> 类型，则调用 <code>remquol</code>。否则，若任何非指针实参拥有整数类型或 <code>double</code> 类型，则调用 <code>remquo</code>。否则，调用 <code>remquof</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>quo</td><td>-</td><td>指向存储 <code>x/y</code> 的符号和某些位的整数的指针</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回定义于 <a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder</a> 的 <code>x/y</code> 的余数，并存储 <code>x/y</code> 的符号和至少后三位有效数字于 <code>*quo</code>（正式而言，存储的值的符号是 <code>x/y</code> 的符号，而绝对值与 <code>x/y</code> 的整数商的绝对值对于 *modulo 2n
* 同余，其中 <em>n</em> 是实现定义的大于或等于 <em>3</em> 的整数）。</p><p>​ 若 <code>y</code> 为零，则存储于 <code>*quo</code> 的值未指定。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则若支持非正规值则返回正确结果。</p><p>​ 若 <code>y</code> 为零，但不出现定义域错误，则返回零。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>y</code> 为零则可能出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>若 <code>x</code> 为 ±∞ 且 <code>y</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±0 且 <code>x</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>x</code> 或 <code>y</code> 为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/remquo.html>POSIX 要求</a>若 <code>x</code> 为无穷大或 <code>y</code> 为零则出现定义域错误。</p><p>​ 此函数在实现可准确表示为浮点数的周期函数时有用：对非常大的 <code>x</code> 计算 <em>sin(πx)</em> 时，直接调用 <a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin</a> 可能导致巨大误差，但若首先以 <code>remquo</code> 减小实参，则商的低位可用来确定结果在周期中的八分位，同时余数可用来计算拥有高精度的值。</p><p>​ 某些平台上硬件支持此运算（而例如在 Intel CPU 上，<code>FPREM1</code> 在完成时于商中准确保留 3 位精度）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 周期为 2，值为 (0;0.5) 正，(0.5;1.5) 负，(1.5,2) 正
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cos_pi_x_smart</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>extremum</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>rem</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>remquo</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>extremum</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>extremum</span> <span style=color:#54b1c7>=</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>unsigned</span><span style=color:#abb2bf>)</span><span style=color:#aa89ea>extremum</span> <span style=color:#54b1c7>%</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>;</span> <span style=color:#8a93a5;font-style:italic>// 保留 1 位以确定最近极值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>extremum</span> <span style=color:#54b1c7>?</span> <span style=color:#54b1c7>-</span><span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>rem</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>rem</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 0.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000000.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000000.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000001.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000001.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000000.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_smart</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000000.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000001.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_smart</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000001.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>quo</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remquo(+Inf, 1) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remquo</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>quo</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>cos(pi * 0.25) = 0.707107
</span></span><span style=display:flex><span>cos(pi * 1.25) = -0.707107
</span></span><span style=display:flex><span>cos(pi * 1000000000000.25) = 0.707123
</span></span><span style=display:flex><span>cos(pi * 1000000000001.25) = -0.707117
</span></span><span style=display:flex><span>cos(pi * 1000000000000.25) = 0.707107
</span></span><span style=display:flex><span>cos(pi * 1000000000001.25) = -0.707107 
</span></span><span style=display:flex><span>remquo(+Inf, 1) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.10.3 The remquo functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.7.3 The remquo functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.10.3 The remquo functions （第 186 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.7.3 The remquo functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.10.3 The remquo functions （第 255 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.7.3 The remquo functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.10.3 The remquo functions （第 236 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.7.3 The remquo functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/div>div<br>ldiv<br>lldiv (C99)<br></a></th><th>计算整数除法的商和余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmod>fmod<br>fmodf (C99)<br>fmodl (C99)<br></a></td><td>计算浮点数除法运算的余数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></td><td>计算浮点数除法运算的带符号余数 (函数)</td></tr><tr><td><strong>remquo</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/remquo>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=remquof>remquof</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/remquo>https://zh.cppreference.com/w/c/numeric/math/remquo</a></p><p>作用：计算除法运算的带符号余数，以及商的后三位 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>remquof</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>quo</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>remquo</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>quo</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>remquol</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>quo</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define remquo( x, y, quo )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算除法运算 <code>x/y</code> 的浮点数余数，如 <a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder()</a> 函数所为。另外，将存储 <code>x/y</code> 的至少最低三位及符号于 <code>quo</code>，这足以确定结果在周期中的八分位。</p><p>4） 泛型宏：若任何非指针实参拥有 <code>long double</code> 类型，则调用 <code>remquol</code>。否则，若任何非指针实参拥有整数类型或 <code>double</code> 类型，则调用 <code>remquo</code>。否则，调用 <code>remquof</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>quo</td><td>-</td><td>指向存储 <code>x/y</code> 的符号和某些位的整数的指针</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回定义于 <a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder</a> 的 <code>x/y</code> 的余数，并存储 <code>x/y</code> 的符号和至少后三位有效数字于 <code>*quo</code>（正式而言，存储的值的符号是 <code>x/y</code> 的符号，而绝对值与 <code>x/y</code> 的整数商的绝对值对于 *modulo 2n
* 同余，其中 <em>n</em> 是实现定义的大于或等于 <em>3</em> 的整数）。</p><p>​ 若 <code>y</code> 为零，则存储于 <code>*quo</code> 的值未指定。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则若支持非正规值则返回正确结果。</p><p>​ 若 <code>y</code> 为零，但不出现定义域错误，则返回零。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>y</code> 为零则可能出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>若 <code>x</code> 为 ±∞ 且 <code>y</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±0 且 <code>x</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>x</code> 或 <code>y</code> 为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/remquo.html>POSIX 要求</a>若 <code>x</code> 为无穷大或 <code>y</code> 为零则出现定义域错误。</p><p>​ 此函数在实现可准确表示为浮点数的周期函数时有用：对非常大的 <code>x</code> 计算 <em>sin(πx)</em> 时，直接调用 <a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin</a> 可能导致巨大误差，但若首先以 <code>remquo</code> 减小实参，则商的低位可用来确定结果在周期中的八分位，同时余数可用来计算拥有高精度的值。</p><p>​ 某些平台上硬件支持此运算（而例如在 Intel CPU 上，<code>FPREM1</code> 在完成时于商中准确保留 3 位精度）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 周期为 2，值为 (0;0.5) 正，(0.5;1.5) 负，(1.5,2) 正
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cos_pi_x_smart</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>extremum</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>rem</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>remquo</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>extremum</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>extremum</span> <span style=color:#54b1c7>=</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>unsigned</span><span style=color:#abb2bf>)</span><span style=color:#aa89ea>extremum</span> <span style=color:#54b1c7>%</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>;</span> <span style=color:#8a93a5;font-style:italic>// 保留 1 位以确定最近极值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>extremum</span> <span style=color:#54b1c7>?</span> <span style=color:#54b1c7>-</span><span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>rem</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>rem</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 0.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000000.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000000.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000001.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000001.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000000.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_smart</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000000.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000001.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_smart</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000001.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>quo</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remquo(+Inf, 1) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remquo</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>quo</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>cos(pi * 0.25) = 0.707107
</span></span><span style=display:flex><span>cos(pi * 1.25) = -0.707107
</span></span><span style=display:flex><span>cos(pi * 1000000000000.25) = 0.707123
</span></span><span style=display:flex><span>cos(pi * 1000000000001.25) = -0.707117
</span></span><span style=display:flex><span>cos(pi * 1000000000000.25) = 0.707107
</span></span><span style=display:flex><span>cos(pi * 1000000000001.25) = -0.707107 
</span></span><span style=display:flex><span>remquo(+Inf, 1) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.10.3 The remquo functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.7.3 The remquo functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.10.3 The remquo functions （第 186 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.7.3 The remquo functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.10.3 The remquo functions （第 255 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.7.3 The remquo functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.10.3 The remquo functions （第 236 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.7.3 The remquo functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/div>div<br>ldiv<br>lldiv (C99)<br></a></th><th>计算整数除法的商和余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmod>fmod<br>fmodf (C99)<br>fmodl (C99)<br></a></td><td>计算浮点数除法运算的余数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></td><td>计算浮点数除法运算的带符号余数 (函数)</td></tr><tr><td><strong>remquo</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/remquo>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=remquol>remquol</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/remquo>https://zh.cppreference.com/w/c/numeric/math/remquo</a></p><p>作用：计算除法运算的带符号余数，以及商的后三位 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>remquof</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>quo</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>remquo</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>quo</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>remquol</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>quo</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define remquo( x, y, quo )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算除法运算 <code>x/y</code> 的浮点数余数，如 <a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder()</a> 函数所为。另外，将存储 <code>x/y</code> 的至少最低三位及符号于 <code>quo</code>，这足以确定结果在周期中的八分位。</p><p>4） 泛型宏：若任何非指针实参拥有 <code>long double</code> 类型，则调用 <code>remquol</code>。否则，若任何非指针实参拥有整数类型或 <code>double</code> 类型，则调用 <code>remquo</code>。否则，调用 <code>remquof</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>x, y</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td>quo</td><td>-</td><td>指向存储 <code>x/y</code> 的符号和某些位的整数的指针</td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若成功，则返回定义于 <a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder</a> 的 <code>x/y</code> 的余数，并存储 <code>x/y</code> 的符号和至少后三位有效数字于 <code>*quo</code>（正式而言，存储的值的符号是 <code>x/y</code> 的符号，而绝对值与 <code>x/y</code> 的整数商的绝对值对于 *modulo 2n
* 同余，其中 <em>n</em> 是实现定义的大于或等于 <em>3</em> 的整数）。</p><p>​ 若 <code>y</code> 为零，则存储于 <code>*quo</code> 的值未指定。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则若支持非正规值则返回正确结果。</p><p>​ 若 <code>y</code> 为零，但不出现定义域错误，则返回零。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>y</code> 为零则可能出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>若 <code>x</code> 为 ±∞ 且 <code>y</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>y</code> 为 ±0 且 <code>x</code> 非 NaN，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a>。</li><li>若 <code>x</code> 或 <code>y</code> 为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/remquo.html>POSIX 要求</a>若 <code>x</code> 为无穷大或 <code>y</code> 为零则出现定义域错误。</p><p>​ 此函数在实现可准确表示为浮点数的周期函数时有用：对非常大的 <code>x</code> 计算 <em>sin(πx)</em> 时，直接调用 <a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin</a> 可能导致巨大误差，但若首先以 <code>remquo</code> 减小实参，则商的低位可用来确定结果在周期中的八分位，同时余数可用来计算拥有高精度的值。</p><p>​ 某些平台上硬件支持此运算（而例如在 Intel CPU 上，<code>FPREM1</code> 在完成时于商中准确保留 3 位精度）。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 周期为 2，值为 (0;0.5) 正，(0.5;1.5) 负，(1.5,2) 正
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>cos_pi_x_smart</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>extremum</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>rem</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>remquo</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>extremum</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>extremum</span> <span style=color:#54b1c7>=</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>unsigned</span><span style=color:#abb2bf>)</span><span style=color:#aa89ea>extremum</span> <span style=color:#54b1c7>%</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>;</span> <span style=color:#8a93a5;font-style:italic>// 保留 1 位以确定最近极值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>extremum</span> <span style=color:#54b1c7>?</span> <span style=color:#54b1c7>-</span><span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>rem</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>rem</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 0.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000000.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000000.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000001.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_naive</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000001.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000000.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_smart</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000000.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cos(pi * 1000000000001.25) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>cos_pi_x_smart</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1000000000001.25</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>int</span> <span style=color:#aa89ea>quo</span><span style=color:#abb2bf>;</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;remquo(+Inf, 1) = %.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>remquo</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>quo</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>cos(pi * 0.25) = 0.707107
</span></span><span style=display:flex><span>cos(pi * 1.25) = -0.707107
</span></span><span style=display:flex><span>cos(pi * 1000000000000.25) = 0.707123
</span></span><span style=display:flex><span>cos(pi * 1000000000001.25) = -0.707117
</span></span><span style=display:flex><span>cos(pi * 1000000000000.25) = 0.707107
</span></span><span style=display:flex><span>cos(pi * 1000000000001.25) = -0.707107 
</span></span><span style=display:flex><span>remquo(+Inf, 1) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.10.3 The remquo functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.7.3 The remquo functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.10.3 The remquo functions （第 186 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.7.3 The remquo functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.10.3 The remquo functions （第 255 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.7.3 The remquo functions （第 529 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.10.3 The remquo functions （第 236 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.7.3 The remquo functions （第 465 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/div>div<br>ldiv<br>lldiv (C99)<br></a></th><th>计算整数除法的商和余数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/fmod>fmod<br>fmodf (C99)<br>fmodl (C99)<br></a></td><td>计算浮点数除法运算的余数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/remainder>remainder (C99)<br>remainderf (C99)<br>remainderl (C99)<br></a></td><td>计算浮点数除法运算的带符号余数 (函数)</td></tr><tr><td><strong>remquo</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/remquo>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=rint>rint</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/rint>https://zh.cppreference.com/w/c/numeric/math/rint</a></p><p>作用：使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</p><p>备注：</p><h3 id=rintf>rintf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/rint>https://zh.cppreference.com/w/c/numeric/math/rint</a></p><p>作用：使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</p><p>备注：</p><h3 id=rintl>rintl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/rint>https://zh.cppreference.com/w/c/numeric/math/rint</a></p><p>作用：使用当前舍入模式取整到整数，若结果有误则产生异常 (函数)</p><p>备注：</p><h3 id=round>round</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/round>https://zh.cppreference.com/w/c/numeric/math/round</a></p><p>作用：取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>roundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>roundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define round( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lround( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llround( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算与 <code>arg</code> 最邻近的整数（以浮点数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>5-7, 9-11) 计算与 <code>arg</code> 最邻近的整数（以整数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则分别调用 <code>roundl</code>、<code>lroundl</code>、<code>llroundl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则分别调用 <code>round</code>、<code>lround</code>、<code>llround</code>。否则分别调用 <code>roundf</code>、<code>lroundf</code>、<code>llroundf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则与返回 <code>arg</code> 的最邻近整数，中点情况取远离零者，</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/7c/math-round_away_zero.svg alt="math-round away zero.svg"></p><p>实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>lround</code> 或 <code>llround</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的该值。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的该值。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若舍入结果在返回类型的范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li></ul><p><strong>注解</strong></p><p>​ <code>round</code> 在舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故 <code>round</code> 自身决不上溢；然而在存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lround.html>POSIX 指定</a> <code>lround</code> 或 <code>llround</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ <code>round</code> 的 <code>double</code> 版本如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;assert.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[]</span> <span style=color:#54b1c7>=</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.7</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>};</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>size_t</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>sample</span> <span style=color:#54b1c7>/</span> <span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>);</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>assert</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>&amp;&amp;</span>
</span></span><span style=display:flex><span>               <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>]));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// round
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// lround
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-0.0) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-Inf) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(LONG_MAX+1.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MAX</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    引发了 FE_INVALID&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>round(+2.3) = +2.0  round(+2.5) = +3.0  round(+2.7) = +3.0
</span></span><span style=display:flex><span>round(-2.3) = -2.0  round(-2.5) = -3.0  round(-2.7) = -3.0
</span></span><span style=display:flex><span>round(-0.0) = -0.0
</span></span><span style=display:flex><span>round(-Inf) = -inf
</span></span><span style=display:flex><span>lround(+2.3) = +2  lround(+2.5) = +3  lround(+2.7) = +3
</span></span><span style=display:flex><span>lround(-2.3) = -2  lround(-2.5) = -3  lround(-2.7) = -3
</span></span><span style=display:flex><span>lround(-0.0) = +0
</span></span><span style=display:flex><span>lround(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>lround(LONG_MAX+1.5) = -9223372036854775808
</span></span><span style=display:flex><span>    引发了 FE_INVALID
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.6 The round functions （第 TBD 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.6 The round functions （第 TBD 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.6 The round functions （第 184 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 184-185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.6 The round functions （第 384 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.6 The round functions （第 253 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 253 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.6 The round functions （第 527 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.6 The round functions （第 233 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.6 The round functions （第 464 页）</p></li><li><p>F.9.6.7 The lround and llround functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><strong>round</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/round>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=roundf>roundf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/round>https://zh.cppreference.com/w/c/numeric/math/round</a></p><p>作用：取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>roundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>roundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define round( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lround( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llround( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算与 <code>arg</code> 最邻近的整数（以浮点数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>5-7, 9-11) 计算与 <code>arg</code> 最邻近的整数（以整数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则分别调用 <code>roundl</code>、<code>lroundl</code>、<code>llroundl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则分别调用 <code>round</code>、<code>lround</code>、<code>llround</code>。否则分别调用 <code>roundf</code>、<code>lroundf</code>、<code>llroundf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则与返回 <code>arg</code> 的最邻近整数，中点情况取远离零者，</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/7c/math-round_away_zero.svg alt="math-round away zero.svg"></p><p>实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>lround</code> 或 <code>llround</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的该值。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的该值。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若舍入结果在返回类型的范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li></ul><p><strong>注解</strong></p><p>​ <code>round</code> 在舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故 <code>round</code> 自身决不上溢；然而在存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lround.html>POSIX 指定</a> <code>lround</code> 或 <code>llround</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ <code>round</code> 的 <code>double</code> 版本如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;assert.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[]</span> <span style=color:#54b1c7>=</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.7</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>};</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>size_t</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>sample</span> <span style=color:#54b1c7>/</span> <span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>);</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>assert</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>&amp;&amp;</span>
</span></span><span style=display:flex><span>               <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>]));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// round
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// lround
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-0.0) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-Inf) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(LONG_MAX+1.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MAX</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    引发了 FE_INVALID&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>round(+2.3) = +2.0  round(+2.5) = +3.0  round(+2.7) = +3.0
</span></span><span style=display:flex><span>round(-2.3) = -2.0  round(-2.5) = -3.0  round(-2.7) = -3.0
</span></span><span style=display:flex><span>round(-0.0) = -0.0
</span></span><span style=display:flex><span>round(-Inf) = -inf
</span></span><span style=display:flex><span>lround(+2.3) = +2  lround(+2.5) = +3  lround(+2.7) = +3
</span></span><span style=display:flex><span>lround(-2.3) = -2  lround(-2.5) = -3  lround(-2.7) = -3
</span></span><span style=display:flex><span>lround(-0.0) = +0
</span></span><span style=display:flex><span>lround(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>lround(LONG_MAX+1.5) = -9223372036854775808
</span></span><span style=display:flex><span>    引发了 FE_INVALID
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.6 The round functions （第 TBD 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.6 The round functions （第 TBD 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.6 The round functions （第 184 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 184-185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.6 The round functions （第 384 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.6 The round functions （第 253 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 253 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.6 The round functions （第 527 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.6 The round functions （第 233 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.6 The round functions （第 464 页）</p></li><li><p>F.9.6.7 The lround and llround functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><strong>round</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/round>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=roundl>roundl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/round>https://zh.cppreference.com/w/c/numeric/math/round</a></p><p>作用：取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>roundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>roundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define round( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span>      <span style=color:#00b1f7>lroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define lround( arg )</span><span style=color:#8a93a5;font-style:italic>// (8)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (9)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llround</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (10)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>long</span> <span style=color:#00b1f7>llroundl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (11)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define llround( arg )</span><span style=color:#8a93a5;font-style:italic>// (12)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算与 <code>arg</code> 最邻近的整数（以浮点数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>5-7, 9-11) 计算与 <code>arg</code> 最邻近的整数（以整数格式），中点情况取远离零者，无关乎当前舍入模式。</p><p>4,8,12) 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则分别调用 <code>roundl</code>、<code>lroundl</code>、<code>llroundl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则分别调用 <code>round</code>、<code>lround</code>、<code>llround</code>。否则分别调用 <code>roundf</code>、<code>lroundf</code>、<code>llroundf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则与返回 <code>arg</code> 的最邻近整数，中点情况取远离零者，</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/7c/math-round_away_zero.svg alt="math-round away zero.svg"></p><p>实参</p><p>​ 若出现定义域错误，则返回实现定义值。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>lround</code> 或 <code>llround</code> 的结果在返回类型的可表示范围外，则可能出现定义域错误或值域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的该值。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的该值。</li><li>若 <code>arg</code> 为 NaN，则返回 NaN。</li><li>决不引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</li><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若舍入结果在返回类型的范围外，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li><li>若 <code>arg</code> 为 NaN，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回实现定义值。</li></ul><p><strong>注解</strong></p><p>​ <code>round</code> 在舍入非整数有限值时，可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故 <code>round</code> 自身决不上溢；然而在存储于整数对象时，结果可能溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/lround.html>POSIX 指定</a> <code>lround</code> 或 <code>llround</code> 引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a> 的所有情况都是定义域错误。</p><p>​ <code>round</code> 的 <code>double</code> 版本如同实现如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;assert.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;limits.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>double</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#00b1f7>signbit</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>?</span> <span style=color:#00b1f7>ceil</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>:</span> <span style=color:#00b1f7>floor</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>0.5</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>void</span> <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[]</span> <span style=color:#54b1c7>=</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#d19a66>0.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>-</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.5</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>DBL_EPSILON</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.7</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>INFINITY</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>};</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>(</span><span style=color:#e5c07b>size_t</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>&lt;</span> <span style=color:#76a9f9>sizeof</span> <span style=color:#aa89ea>sample</span> <span style=color:#54b1c7>/</span> <span style=color:#76a9f9>sizeof</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>double</span><span style=color:#abb2bf>);</span> <span style=color:#54b1c7>++</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>assert</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>&amp;&amp;</span>
</span></span><span style=display:flex><span>               <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>])</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>custom_round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>sample</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>]));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// round
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.3) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.5) = %+.1f  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;round(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>round</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>test_custom_round</span><span style=color:#abb2bf>();</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// lround
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(+2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.3) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.3</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.5) = %+ld  &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-2.7) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-0.0) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(-Inf) = %+ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// 引发 FE_INVALID
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lround(LONG_MAX+1.5) = %ld</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>lround</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>LONG_MAX</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    引发了 FE_INVALID&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>round(+2.3) = +2.0  round(+2.5) = +3.0  round(+2.7) = +3.0
</span></span><span style=display:flex><span>round(-2.3) = -2.0  round(-2.5) = -3.0  round(-2.7) = -3.0
</span></span><span style=display:flex><span>round(-0.0) = -0.0
</span></span><span style=display:flex><span>round(-Inf) = -inf
</span></span><span style=display:flex><span>lround(+2.3) = +2  lround(+2.5) = +3  lround(+2.7) = +3
</span></span><span style=display:flex><span>lround(-2.3) = -2  lround(-2.5) = -3  lround(-2.7) = -3
</span></span><span style=display:flex><span>lround(-0.0) = +0
</span></span><span style=display:flex><span>lround(-Inf) = -9223372036854775808
</span></span><span style=display:flex><span>lround(LONG_MAX+1.5) = -9223372036854775808
</span></span><span style=display:flex><span>    引发了 FE_INVALID
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.9.6 The round functions （第 TBD 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.6.6 The round functions （第 TBD 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.9.6 The round functions （第 184 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 184-185 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.6.6 The round functions （第 384 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 385 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.6 The round functions （第 253 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 253 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.6 The round functions （第 527 页）</p></li><li><p>F.10.6.7 The lround and llround functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.6 The round functions （第 233 页）</p></li><li><p>7.12.9.7 The lround and llround functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.6 The round functions （第 464 页）</p></li><li><p>F.9.6.7 The lround and llround functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/trunc>trunc (C99)<br>truncf (C99)<br>truncl (C99)<br></a></td><td>取整到绝对值不大于给定值的最接近整数 (函数)</td></tr><tr><td><strong>round</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/round>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=scalbln>scalbln</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>https://zh.cppreference.com/w/c/numeric/math/scalbn</a></p><p>作用：高效计算一个数乘 FLT_RADIX 的幂 (函数)</p><p>备注：</p><h3 id=scalblnf>scalblnf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>https://zh.cppreference.com/w/c/numeric/math/scalbn</a></p><p>作用：高效计算一个数乘 FLT_RADIX 的幂 (函数)</p><p>备注：</p><h3 id=scalblnl>scalblnl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>https://zh.cppreference.com/w/c/numeric/math/scalbn</a></p><p>作用：高效计算一个数乘 FLT_RADIX 的幂 (函数)</p><p>备注：</p><h3 id=scalbn>scalbn</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>https://zh.cppreference.com/w/c/numeric/math/scalbn</a></p><p>作用：高效计算一个数乘 FLT_RADIX 的幂 (函数)</p><p>备注：</p><h3 id=scalbnf>scalbnf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>https://zh.cppreference.com/w/c/numeric/math/scalbn</a></p><p>作用：高效计算一个数乘 FLT_RADIX 的幂 (函数)</p><p>备注：</p><h3 id=scalbnl>scalbnl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/scalbn>https://zh.cppreference.com/w/c/numeric/math/scalbn</a></p><p>作用：高效计算一个数乘 FLT_RADIX 的幂 (函数)</p><p>备注：</p><h3 id=sin>sin</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/sin>https://zh.cppreference.com/w/c/numeric/math/sin</a></p><p>作用：计算正弦（{\small\sin{x} }{\small\sin{x} }sin(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>sinf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>sinl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>sind32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>sind64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>sind128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define sin( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code>（以弧度度量）的正弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>sinl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>sin</code>。否则调用 <code>sinf</code> 。若实参是复数，则该宏调用对应的复函数（<code>[csinf](http://zh.cppreference.com/w/c/numeric/complex/csin)</code>、<code>[csin](http://zh.cppreference.com/w/c/numeric/complex/csin)</code>、<code>[csinl](http://zh.cppreference.com/w/c/numeric/complex/csin)</code>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>以弧度表示角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不发生错误，则返回 <code>arg</code> 的正弦（<em>sin(arg)</em>），值域为 <em>[-1 ; +1]</em>。</p><p>​ 若 <code>arg</code> 的绝对值很大，结果可能拥有少量或无有效数字。 (C99 前)</p><p>​ 若发生定义域错误，则返回实现定义的值（受支持的平台上为 NaN ）。</p><p>​ 若发生下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数是 ±0，则返回未修改的实参</li><li>若参数是 ±∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数是 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 实参为无穷大的情况， C 中不指定为定义域错误，但它被指定为 <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/sin.html>POSIX 中的定义域错误</a>。</p><p>​ POSIX 亦指定在溢出的情况下，返回不修改的 <code>arg</code>，而且若不支持如此，则返回实现定义的不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 及 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型使用
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(pi/6) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(pi/2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(-3*pi/4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>sin(pi/6) = 0.500000
</span></span><span style=display:flex><span>sin(pi/2) = 1.000000
</span></span><span style=display:flex><span>sin(-3*pi/4) = -0.707107
</span></span><span style=display:flex><span>sin(+0) = 0.000000
</span></span><span style=display:flex><span>sin(-0) = -0.000000
</span></span><span style=display:flex><span>sin(INFINITY) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.6 The sin functions （第 TBD 页）</p></li><li><p>7.27 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.6 The sin functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.6 The sin functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.6 The sin functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.6 The sin functions （第 239-240 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.6 The sin functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.6 The sin functions （第 220 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.6 The sin functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.6 The sin function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/cos>cos<br>cosf (C99)<br>cosl (C99)<br></a></th><th>计算余弦（cosxcos⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tan>tan<br>tanf (C99)<br>tanl (C99)<br></a></td><td>计算正切（tanxtan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></td><td>计算反正弦（arcsinxarcsin⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/csin>csin (C99)<br>csinf (C99)<br>csinl (C99)<br></a></td><td>计算复数正弦 (函数)</td></tr><tr><td><strong>sin</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/sin>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=sinf>sinf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/sin>https://zh.cppreference.com/w/c/numeric/math/sin</a></p><p>作用：计算正弦（{\small\sin{x} }{\small\sin{x} }sin(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>sinf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>sinl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>sind32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>sind64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>sind128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define sin( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code>（以弧度度量）的正弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>sinl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>sin</code>。否则调用 <code>sinf</code> 。若实参是复数，则该宏调用对应的复函数（<code>[csinf](http://zh.cppreference.com/w/c/numeric/complex/csin)</code>、<code>[csin](http://zh.cppreference.com/w/c/numeric/complex/csin)</code>、<code>[csinl](http://zh.cppreference.com/w/c/numeric/complex/csin)</code>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>以弧度表示角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不发生错误，则返回 <code>arg</code> 的正弦（<em>sin(arg)</em>），值域为 <em>[-1 ; +1]</em>。</p><p>​ 若 <code>arg</code> 的绝对值很大，结果可能拥有少量或无有效数字。 (C99 前)</p><p>​ 若发生定义域错误，则返回实现定义的值（受支持的平台上为 NaN ）。</p><p>​ 若发生下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数是 ±0，则返回未修改的实参</li><li>若参数是 ±∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数是 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 实参为无穷大的情况， C 中不指定为定义域错误，但它被指定为 <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/sin.html>POSIX 中的定义域错误</a>。</p><p>​ POSIX 亦指定在溢出的情况下，返回不修改的 <code>arg</code>，而且若不支持如此，则返回实现定义的不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 及 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型使用
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(pi/6) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(pi/2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(-3*pi/4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>sin(pi/6) = 0.500000
</span></span><span style=display:flex><span>sin(pi/2) = 1.000000
</span></span><span style=display:flex><span>sin(-3*pi/4) = -0.707107
</span></span><span style=display:flex><span>sin(+0) = 0.000000
</span></span><span style=display:flex><span>sin(-0) = -0.000000
</span></span><span style=display:flex><span>sin(INFINITY) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.6 The sin functions （第 TBD 页）</p></li><li><p>7.27 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.6 The sin functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.6 The sin functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.6 The sin functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.6 The sin functions （第 239-240 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.6 The sin functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.6 The sin functions （第 220 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.6 The sin functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.6 The sin function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/cos>cos<br>cosf (C99)<br>cosl (C99)<br></a></th><th>计算余弦（cosxcos⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tan>tan<br>tanf (C99)<br>tanl (C99)<br></a></td><td>计算正切（tanxtan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></td><td>计算反正弦（arcsinxarcsin⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/csin>csin (C99)<br>csinf (C99)<br>csinl (C99)<br></a></td><td>计算复数正弦 (函数)</td></tr><tr><td><strong>sin</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/sin>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=sinh>sinh</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/sinh>https://zh.cppreference.com/w/c/numeric/math/sinh</a></p><p>作用：计算双曲正弦（{\small\sinh{x} }{\small\sinh{x} }sinh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>sinhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>sinhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define sinh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的双曲正弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>sinhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>sinh</code>。否则调用 <code>sinhf</code>。若实参为复数，则宏调用对应的复数函数（<code>[csinhf](http://zh.cppreference.com/w/c/numeric/complex/csinh)</code>、<code>[csinh](http://zh.cppreference.com/w/c/numeric/complex/csinh)</code>、<code>[csinhl](http://zh.cppreference.com/w/c/numeric/complex/csinh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的双曲正弦（<em>sinh(arg)</em> 或</p><table><thead><tr><th>earg -e-arg</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0 或 ±∞，则返回未修改的实参</li><li>若实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/sinh.html>POSIX 指定</a>在下溢情况下，返回不修改的 <code>arg</code>，而若不支持如此，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sinh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>sinh(-1)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(sinh(1) + cosh(1))=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>+</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sinh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>sinh(-0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span><span style=color:#54b1c7>=</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sinh(710.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>sinh(1) = 1.175201
</span></span><span style=display:flex><span>sinh(-1)=-1.175201
</span></span><span style=display:flex><span>log(sinh(1) + cosh(1))=1.000000
</span></span><span style=display:flex><span>sinh(+0) = 0.000000
</span></span><span style=display:flex><span>sinh(-0)=-0.000000
</span></span><span style=display:flex><span>sinh(710.5) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.5 The sinh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.5 The sinh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.5 The sinh functions （第 176 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.2.5 The sinh functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.5 The sinh functions （第 241-242 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.5 The sinh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.5 The sinh functions （第 222 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.5 The sinh functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.3.2 The sinh function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/cosh>cosh<br>coshf (C99)<br>coshl (C99)<br></a></th><th>计算双曲余弦（coshxcosh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tanh>tanh<br>tanhf (C99)<br>tanhl (C99)<br></a></td><td>计算双曲正切（tanhxtanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/asinh>asinh (C99)<br>asinhf (C99)<br>asinhl (C99)<br></a></td><td>计算反双曲正弦（arsinhxarsinh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/csinh>csinh (C99)<br>csinhf (C99)<br>csinhl (C99)<br></a></td><td>计算复数双曲正弦 (函数)</td></tr><tr><td><strong>sinh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/sinh>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=sinhf>sinhf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/sinh>https://zh.cppreference.com/w/c/numeric/math/sinh</a></p><p>作用：计算双曲正弦（{\small\sinh{x} }{\small\sinh{x} }sinh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>sinhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>sinhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define sinh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的双曲正弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>sinhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>sinh</code>。否则调用 <code>sinhf</code>。若实参为复数，则宏调用对应的复数函数（<code>[csinhf](http://zh.cppreference.com/w/c/numeric/complex/csinh)</code>、<code>[csinh](http://zh.cppreference.com/w/c/numeric/complex/csinh)</code>、<code>[csinhl](http://zh.cppreference.com/w/c/numeric/complex/csinh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的双曲正弦（<em>sinh(arg)</em> 或</p><table><thead><tr><th>earg -e-arg</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0 或 ±∞，则返回未修改的实参</li><li>若实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/sinh.html>POSIX 指定</a>在下溢情况下，返回不修改的 <code>arg</code>，而若不支持如此，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sinh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>sinh(-1)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(sinh(1) + cosh(1))=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>+</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sinh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>sinh(-0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span><span style=color:#54b1c7>=</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sinh(710.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>sinh(1) = 1.175201
</span></span><span style=display:flex><span>sinh(-1)=-1.175201
</span></span><span style=display:flex><span>log(sinh(1) + cosh(1))=1.000000
</span></span><span style=display:flex><span>sinh(+0) = 0.000000
</span></span><span style=display:flex><span>sinh(-0)=-0.000000
</span></span><span style=display:flex><span>sinh(710.5) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.5 The sinh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.5 The sinh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.5 The sinh functions （第 176 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.2.5 The sinh functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.5 The sinh functions （第 241-242 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.5 The sinh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.5 The sinh functions （第 222 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.5 The sinh functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.3.2 The sinh function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/cosh>cosh<br>coshf (C99)<br>coshl (C99)<br></a></th><th>计算双曲余弦（coshxcosh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tanh>tanh<br>tanhf (C99)<br>tanhl (C99)<br></a></td><td>计算双曲正切（tanhxtanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/asinh>asinh (C99)<br>asinhf (C99)<br>asinhl (C99)<br></a></td><td>计算反双曲正弦（arsinhxarsinh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/csinh>csinh (C99)<br>csinhf (C99)<br>csinhl (C99)<br></a></td><td>计算复数双曲正弦 (函数)</td></tr><tr><td><strong>sinh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/sinh>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=sinhl>sinhl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/sinh>https://zh.cppreference.com/w/c/numeric/math/sinh</a></p><p>作用：计算双曲正弦（{\small\sinh{x} }{\small\sinh{x} }sinh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>sinhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>sinhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define sinh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的双曲正弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>sinhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>sinh</code>。否则调用 <code>sinhf</code>。若实参为复数，则宏调用对应的复数函数（<code>[csinhf](http://zh.cppreference.com/w/c/numeric/complex/csinh)</code>、<code>[csinh](http://zh.cppreference.com/w/c/numeric/complex/csinh)</code>、<code>[csinhl](http://zh.cppreference.com/w/c/numeric/complex/csinh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的双曲正弦（<em>sinh(arg)</em> 或</p><table><thead><tr><th>earg -e-arg</th></tr></thead><tbody><tr><td>2</td></tr></tbody></table><p>）。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参为 ±0 或 ±∞，则返回未修改的实参</li><li>若实参为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/sinh.html>POSIX 指定</a>在下溢情况下，返回不修改的 <code>arg</code>，而若不支持如此，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sinh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>sinh(-1)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;log(sinh(1) + cosh(1))=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>log</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>+</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sinh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>sinh(-0)=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span><span style=color:#54b1c7>=</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sinh(710.5) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>710.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_OVERFLOW</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_OVERFLOW raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>sinh(1) = 1.175201
</span></span><span style=display:flex><span>sinh(-1)=-1.175201
</span></span><span style=display:flex><span>log(sinh(1) + cosh(1))=1.000000
</span></span><span style=display:flex><span>sinh(+0) = 0.000000
</span></span><span style=display:flex><span>sinh(-0)=-0.000000
</span></span><span style=display:flex><span>sinh(710.5) = inf
</span></span><span style=display:flex><span>    errno == ERANGE: Numerical result out of range
</span></span><span style=display:flex><span>    FE_OVERFLOW raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.5 The sinh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.5 The sinh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.5 The sinh functions （第 176 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.2.5 The sinh functions （第 379 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.5 The sinh functions （第 241-242 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.5 The sinh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.5 The sinh functions （第 222 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.5 The sinh functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.3.2 The sinh function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/cosh>cosh<br>coshf (C99)<br>coshl (C99)<br></a></th><th>计算双曲余弦（coshxcosh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tanh>tanh<br>tanhf (C99)<br>tanhl (C99)<br></a></td><td>计算双曲正切（tanhxtanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/asinh>asinh (C99)<br>asinhf (C99)<br>asinhl (C99)<br></a></td><td>计算反双曲正弦（arsinhxarsinh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/csinh>csinh (C99)<br>csinhf (C99)<br>csinhl (C99)<br></a></td><td>计算复数双曲正弦 (函数)</td></tr><tr><td><strong>sinh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/sinh>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=sinl>sinl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/sin>https://zh.cppreference.com/w/c/numeric/math/sin</a></p><p>作用：计算正弦（{\small\sin{x} }{\small\sin{x} }sin(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>sinf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>sinl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>sind32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>sind64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>sind128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define sin( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code>（以弧度度量）的正弦。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>sinl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>sin</code>。否则调用 <code>sinf</code> 。若实参是复数，则该宏调用对应的复函数（<code>[csinf](http://zh.cppreference.com/w/c/numeric/complex/csin)</code>、<code>[csin](http://zh.cppreference.com/w/c/numeric/complex/csin)</code>、<code>[csinl](http://zh.cppreference.com/w/c/numeric/complex/csin)</code>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>以弧度表示角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不发生错误，则返回 <code>arg</code> 的正弦（<em>sin(arg)</em>），值域为 <em>[-1 ; +1]</em>。</p><p>​ 若 <code>arg</code> 的绝对值很大，结果可能拥有少量或无有效数字。 (C99 前)</p><p>​ 若发生定义域错误，则返回实现定义的值（受支持的平台上为 NaN ）。</p><p>​ 若发生下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数是 ±0，则返回未修改的实参</li><li>若参数是 ±∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数是 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 实参为无穷大的情况， C 中不指定为定义域错误，但它被指定为 <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/sin.html>POSIX 中的定义域错误</a>。</p><p>​ POSIX 亦指定在溢出的情况下，返回不修改的 <code>arg</code>，而且若不支持如此，则返回实现定义的不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 及 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型使用
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(pi/6) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(pi/2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(-3*pi/4) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sin(INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sin</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>sin(pi/6) = 0.500000
</span></span><span style=display:flex><span>sin(pi/2) = 1.000000
</span></span><span style=display:flex><span>sin(-3*pi/4) = -0.707107
</span></span><span style=display:flex><span>sin(+0) = 0.000000
</span></span><span style=display:flex><span>sin(-0) = -0.000000
</span></span><span style=display:flex><span>sin(INFINITY) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.6 The sin functions （第 TBD 页）</p></li><li><p>7.27 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.6 The sin functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.6 The sin functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.6 The sin functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.6 The sin functions （第 239-240 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.6 The sin functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.6 The sin functions （第 220 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.6 The sin functions （第 456 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.6 The sin function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/cos>cos<br>cosf (C99)<br>cosl (C99)<br></a></th><th>计算余弦（cosxcos⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/tan>tan<br>tanf (C99)<br>tanl (C99)<br></a></td><td>计算正切（tanxtan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/asin>asin<br>asinf (C99)<br>asinl (C99)<br></a></td><td>计算反正弦（arcsinxarcsin⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/csin>csin (C99)<br>csinf (C99)<br>csinl (C99)<br></a></td><td>计算复数正弦 (函数)</td></tr><tr><td><strong>sin</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/sin>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=sqrt>sqrt</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>https://zh.cppreference.com/w/c/numeric/math/sqrt</a></p><p>作用：计算平方根（\small{\sqrt{x} }\small{\sqrt{x} }√x） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>sqrtf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>sqrtl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define sqrt( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的平方根。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>sqrtl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>sqrt</code>。否则调用 <code>sqrtf</code>。若 <code>arg</code> 为复数或虚数，则宏调用对应复数函数（<code>[csqrtf](http://zh.cppreference.com/w/c/numeric/complex/csqrt)</code>、<code>[csqrt](http://zh.cppreference.com/w/c/numeric/complex/csqrt)</code>、<code>[csqrtl](http://zh.cppreference.com/w/c/numeric/complex/csqrt)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的平方根（√argarg）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参小于 -0，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回 NaN。</li><li>若实参为 +∞ 或 ±0，则返回不修改的参数。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ IEEE 标准要求 <code>sqrt</code> 为准确。其他要求为准确的运算只有<a href=https://zh.cppreference.com/w/c/language/operator_arithmetic>算术运算符</a>和函数 <a href=https://zh.cppreference.com/w/c/numeric/math/fma>fma</a>。舍入到返回类型后（用默认舍入模式），<code>sqrt</code> 的结果与无限精度结果不可辨别。换言之，误差小于 0.5 ulp。其他函数，含 <a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow</a>，不受这种制约。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 正常使用
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(100) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>100</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;黄金比 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span> <span style=color:#54b1c7>+</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>))</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(-1.0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>sqrt(100) = 10.000000
</span></span><span style=display:flex><span>sqrt(2) = 1.414214
</span></span><span style=display:flex><span>黄金比 = 1.618034
</span></span><span style=display:flex><span>sqrt(-0) = -0.000000
</span></span><span style=display:flex><span>sqrt(-1.0) = -nan
</span></span><span style=display:flex><span>    errno = EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID was raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.5 The sqrt functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.5 The sqrt functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.5 The sqrt functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 229-230 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.5 The sqrt functions （第 462 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.5.2 The sqrt function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow<br>powf (C99)<br>powl (C99)<br></a></th><th>计算一个数的给定次幂（xyxy） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt (C99)<br>cbrtf (C99)<br>cbrtl (C99)<br></a></td><td>计算立方根（3√xx3） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/hypot>hypot (C99)<br>hypotf (C99)<br>hypotl (C99)<br></a></td><td>计算两个给定数平方和的平方根（√x2+y2x2+y2） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/csqrt>csqrt (C99)<br>csqrtf (C99)<br>csqrtl (C99)<br></a></td><td>计算复数平方根 (函数)</td></tr><tr><td><strong>sqrt</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/sqrt>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=sqrtf>sqrtf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>https://zh.cppreference.com/w/c/numeric/math/sqrt</a></p><p>作用：计算平方根（\small{\sqrt{x} }\small{\sqrt{x} }√x） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>sqrtf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>sqrtl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define sqrt( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的平方根。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>sqrtl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>sqrt</code>。否则调用 <code>sqrtf</code>。若 <code>arg</code> 为复数或虚数，则宏调用对应复数函数（<code>[csqrtf](http://zh.cppreference.com/w/c/numeric/complex/csqrt)</code>、<code>[csqrt](http://zh.cppreference.com/w/c/numeric/complex/csqrt)</code>、<code>[csqrtl](http://zh.cppreference.com/w/c/numeric/complex/csqrt)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的平方根（√argarg）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参小于 -0，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回 NaN。</li><li>若实参为 +∞ 或 ±0，则返回不修改的参数。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ IEEE 标准要求 <code>sqrt</code> 为准确。其他要求为准确的运算只有<a href=https://zh.cppreference.com/w/c/language/operator_arithmetic>算术运算符</a>和函数 <a href=https://zh.cppreference.com/w/c/numeric/math/fma>fma</a>。舍入到返回类型后（用默认舍入模式），<code>sqrt</code> 的结果与无限精度结果不可辨别。换言之，误差小于 0.5 ulp。其他函数，含 <a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow</a>，不受这种制约。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 正常使用
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(100) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>100</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;黄金比 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span> <span style=color:#54b1c7>+</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>))</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(-1.0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>sqrt(100) = 10.000000
</span></span><span style=display:flex><span>sqrt(2) = 1.414214
</span></span><span style=display:flex><span>黄金比 = 1.618034
</span></span><span style=display:flex><span>sqrt(-0) = -0.000000
</span></span><span style=display:flex><span>sqrt(-1.0) = -nan
</span></span><span style=display:flex><span>    errno = EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID was raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.5 The sqrt functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.5 The sqrt functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.5 The sqrt functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 229-230 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.5 The sqrt functions （第 462 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.5.2 The sqrt function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow<br>powf (C99)<br>powl (C99)<br></a></th><th>计算一个数的给定次幂（xyxy） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt (C99)<br>cbrtf (C99)<br>cbrtl (C99)<br></a></td><td>计算立方根（3√xx3） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/hypot>hypot (C99)<br>hypotf (C99)<br>hypotl (C99)<br></a></td><td>计算两个给定数平方和的平方根（√x2+y2x2+y2） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/csqrt>csqrt (C99)<br>csqrtf (C99)<br>csqrtl (C99)<br></a></td><td>计算复数平方根 (函数)</td></tr><tr><td><strong>sqrt</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/sqrt>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=sqrtl>sqrtl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/sqrt>https://zh.cppreference.com/w/c/numeric/math/sqrt</a></p><p>作用：计算平方根（\small{\sqrt{x} }\small{\sqrt{x} }√x） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>sqrtf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>sqrtl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define sqrt( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的平方根。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>sqrtl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>sqrt</code>。否则调用 <code>sqrtf</code>。若 <code>arg</code> 为复数或虚数，则宏调用对应复数函数（<code>[csqrtf](http://zh.cppreference.com/w/c/numeric/complex/csqrt)</code>、<code>[csqrt](http://zh.cppreference.com/w/c/numeric/complex/csqrt)</code>、<code>[csqrtl](http://zh.cppreference.com/w/c/numeric/complex/csqrt)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的平方根（√argarg）。</p><p>​ 若出现定义域错误，则返回实现定义值（支持的平台上为 NaN）。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若 <code>arg</code> 小于零则出现定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若实参小于 -0，则引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a> 并返回 NaN。</li><li>若实参为 +∞ 或 ±0，则返回不修改的参数。</li><li>若实参为 NaN，则返回 NaN。</li></ul><p><strong>注解</strong></p><p>​ IEEE 标准要求 <code>sqrt</code> 为准确。其他要求为准确的运算只有<a href=https://zh.cppreference.com/w/c/language/operator_arithmetic>算术运算符</a>和函数 <a href=https://zh.cppreference.com/w/c/numeric/math/fma>fma</a>。舍入到返回类型后（用默认舍入模式），<code>sqrt</code> 的结果与无限精度结果不可辨别。换言之，误差小于 0.5 ulp。其他函数，含 <a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow</a>，不受这种制约。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 正常使用
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(100) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>100</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;黄金比 = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span> <span style=color:#54b1c7>+</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>))</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sqrt(-1.0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID was raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>sqrt(100) = 10.000000
</span></span><span style=display:flex><span>sqrt(2) = 1.414214
</span></span><span style=display:flex><span>黄金比 = 1.618034
</span></span><span style=display:flex><span>sqrt(-0) = -0.000000
</span></span><span style=display:flex><span>sqrt(-1.0) = -nan
</span></span><span style=display:flex><span>    errno = EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID was raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.5 The sqrt functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.4.5 The sqrt functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 249 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.4.5 The sqrt functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.7.5 The sqrt functions （第 229-230 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.4.5 The sqrt functions （第 462 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.5.2 The sqrt function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/pow>pow<br>powf (C99)<br>powl (C99)<br></a></th><th>计算一个数的给定次幂（xyxy） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cbrt>cbrt (C99)<br>cbrtf (C99)<br>cbrtl (C99)<br></a></td><td>计算立方根（3√xx3） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/hypot>hypot (C99)<br>hypotf (C99)<br>hypotl (C99)<br></a></td><td>计算两个给定数平方和的平方根（√x2+y2x2+y2） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/csqrt>csqrt (C99)<br>csqrtf (C99)<br>csqrtl (C99)<br></a></td><td>计算复数平方根 (函数)</td></tr><tr><td><strong>sqrt</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/sqrt>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=tan>tan</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/tan>https://zh.cppreference.com/w/c/numeric/math/tan</a></p><p>作用：计算正切（{\small\tan{x} }{\small\tan{x} }tan(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>tanf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>tanl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>tand32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>tand64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>tand128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define tan( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code>（以弧度度量）的正切。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 (3)（<code>tanl</code>）。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 (2)（<code>tan</code>）。否则调用 (1)（<code>tanf</code>）。若实参为复数，则宏调用对应的复数函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctanf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctan</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctanl</a>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>以弧度表示角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的正切（<em>tan(arg)</em>）。</p><p>​ 若 <code>arg</code> 的绝对值很大，则结果可能有较少或无有效数字。 (C99 前)</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台为 NaN）。</p><p>​ 若发生下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算数（IEC 60559），则</p><ul><li>若实参为 ±0，则返回不修改的参数</li><li>若实参为 ±∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若实参为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 实参为无限大的情况，在 C 中未被指定为定义域错误，但它被定义为 <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/tan.html>POSIX 中的定义域错误</a>。</p><p>​ 函数在 <em>π(1/2 + n)</em> 有数学上的极点；然而无常用浮点数表示能准确表示 <code>π/2</code>，故而没有值使得极点错误出现。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型用法
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*1/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>1</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>//   45°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*3/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>//  135°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*5/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>5</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// -135°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*7/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>7</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>//  -45°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>tan  (pi/4) = +1.000000
</span></span><span style=display:flex><span>tan(3*pi/4) = -1.000000
</span></span><span style=display:flex><span>tan(5*pi/4) = +1.000000
</span></span><span style=display:flex><span>tan(7*pi/4) = -1.000000
</span></span><span style=display:flex><span>tan(+0) = 0.000000
</span></span><span style=display:flex><span>tan(-0) = -0.000000
</span></span><span style=display:flex><span>tan(INFINITY) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.7 The tan functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.7 The tan functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.7 The tan functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.7 The tan functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.7 The tan functions （第 240 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.7 The tan functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.7 The tan functions （第 220 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.7 The tan functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.7 The tan function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin<br>sinf (C99)<br>sinl (C99)<br></a></th><th>计算正弦（sinxsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cos>cos<br>cosf (C99)<br>cosl (C99)<br></a></td><td>计算余弦（cosxcos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctan (C99)<br>ctanf (C99)<br>ctanl (C99)<br></a></td><td>计算复数正切 (函数)</td></tr><tr><td><strong>tan</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/tan>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=tanf>tanf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/tan>https://zh.cppreference.com/w/c/numeric/math/tan</a></p><p>作用：计算正切（{\small\tan{x} }{\small\tan{x} }tan(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>tanf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>tanl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>tand32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>tand64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>tand128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define tan( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code>（以弧度度量）的正切。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 (3)（<code>tanl</code>）。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 (2)（<code>tan</code>）。否则调用 (1)（<code>tanf</code>）。若实参为复数，则宏调用对应的复数函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctanf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctan</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctanl</a>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>以弧度表示角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的正切（<em>tan(arg)</em>）。</p><p>​ 若 <code>arg</code> 的绝对值很大，则结果可能有较少或无有效数字。 (C99 前)</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台为 NaN）。</p><p>​ 若发生下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算数（IEC 60559），则</p><ul><li>若实参为 ±0，则返回不修改的参数</li><li>若实参为 ±∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若实参为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 实参为无限大的情况，在 C 中未被指定为定义域错误，但它被定义为 <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/tan.html>POSIX 中的定义域错误</a>。</p><p>​ 函数在 <em>π(1/2 + n)</em> 有数学上的极点；然而无常用浮点数表示能准确表示 <code>π/2</code>，故而没有值使得极点错误出现。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型用法
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*1/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>1</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>//   45°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*3/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>//  135°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*5/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>5</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// -135°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*7/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>7</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>//  -45°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>tan  (pi/4) = +1.000000
</span></span><span style=display:flex><span>tan(3*pi/4) = -1.000000
</span></span><span style=display:flex><span>tan(5*pi/4) = +1.000000
</span></span><span style=display:flex><span>tan(7*pi/4) = -1.000000
</span></span><span style=display:flex><span>tan(+0) = 0.000000
</span></span><span style=display:flex><span>tan(-0) = -0.000000
</span></span><span style=display:flex><span>tan(INFINITY) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.7 The tan functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.7 The tan functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.7 The tan functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.7 The tan functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.7 The tan functions （第 240 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.7 The tan functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.7 The tan functions （第 220 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.7 The tan functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.7 The tan function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin<br>sinf (C99)<br>sinl (C99)<br></a></th><th>计算正弦（sinxsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cos>cos<br>cosf (C99)<br>cosl (C99)<br></a></td><td>计算余弦（cosxcos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctan (C99)<br>ctanf (C99)<br>ctanl (C99)<br></a></td><td>计算复数正切 (函数)</td></tr><tr><td><strong>tan</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/tan>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=tanh>tanh</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/tanh>https://zh.cppreference.com/w/c/numeric/math/tanh</a></p><p>作用：计算双曲正切（{\small\tanh{x} }{\small\tanh{x} }tanh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>tanhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>tanhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define tanh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的双曲正切。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>tanhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>tanh</code>。否则调用 <code>tanhf</code> 若实参为复数，则宏调用对应的复数函数（<code>[ctanhf](http://zh.cppreference.com/w/c/numeric/complex/ctanh)</code>、<code>[ctanh](http://zh.cppreference.com/w/c/numeric/complex/ctanh)</code>、<code>[ctanhl](http://zh.cppreference.com/w/c/numeric/complex/ctanh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的双曲正切（<em>tanh(arg)</em> 或</p><table><thead><tr><th>earg -e-arg</th></tr></thead><tbody><tr><td>earg +e-arg</td></tr></tbody></table><p>）。</p><p>​ 若发生下溢所致的错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 ±0</li><li>若参数为 ±∞，则返回 ±1</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/tanh.html>POSIX 指定</a>在下溢的情况中，返回不修改的 <code>arg</code>，而且若不支持这么做，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tanh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>tanh(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tanh(0.1)*sinh(0.2)-cosh(0.2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.2</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>-</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tanh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>tanh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>tanh(1) = 0.761594
</span></span><span style=display:flex><span>tanh(-1) = -0.761594
</span></span><span style=display:flex><span>tanh(0.1)*sinh(0.2)-cosh(0.2) = -1.000000
</span></span><span style=display:flex><span>tanh(+0) = 0.000000
</span></span><span style=display:flex><span>tanh(-0) = -0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.6 The tanh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.6 The tanh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.6 The tanh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.6 The tanh functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.6 The tanh functions （第 242 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.6 The tanh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.6 The tanh functions （第 222-223 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.6 The tanh functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.3.3 The tanh function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sinh>sinh<br>sinhf (C99)<br>sinhl (C99)<br></a></th><th>计算双曲正弦（sinhxsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cosh>cosh<br>coshf (C99)<br>coshl (C99)<br></a></td><td>计算双曲余弦（coshxcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atanh>atanh (C99)<br>atanhf (C99)<br>atanhl (C99)<br></a></td><td>计算反双曲正切（artanhxartanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ctanh>ctanh (C99)<br>ctanhf (C99)<br>ctanhl (C99)<br></a></td><td>计算复数双曲正切 (函数)</td></tr><tr><td><strong>tanh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/tanh>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=tanhf>tanhf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/tanh>https://zh.cppreference.com/w/c/numeric/math/tanh</a></p><p>作用：计算双曲正切（{\small\tanh{x} }{\small\tanh{x} }tanh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>tanhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>tanhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define tanh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的双曲正切。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>tanhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>tanh</code>。否则调用 <code>tanhf</code> 若实参为复数，则宏调用对应的复数函数（<code>[ctanhf](http://zh.cppreference.com/w/c/numeric/complex/ctanh)</code>、<code>[ctanh](http://zh.cppreference.com/w/c/numeric/complex/ctanh)</code>、<code>[ctanhl](http://zh.cppreference.com/w/c/numeric/complex/ctanh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的双曲正切（<em>tanh(arg)</em> 或</p><table><thead><tr><th>earg -e-arg</th></tr></thead><tbody><tr><td>earg +e-arg</td></tr></tbody></table><p>）。</p><p>​ 若发生下溢所致的错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 ±0</li><li>若参数为 ±∞，则返回 ±1</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/tanh.html>POSIX 指定</a>在下溢的情况中，返回不修改的 <code>arg</code>，而且若不支持这么做，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tanh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>tanh(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tanh(0.1)*sinh(0.2)-cosh(0.2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.2</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>-</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tanh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>tanh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>tanh(1) = 0.761594
</span></span><span style=display:flex><span>tanh(-1) = -0.761594
</span></span><span style=display:flex><span>tanh(0.1)*sinh(0.2)-cosh(0.2) = -1.000000
</span></span><span style=display:flex><span>tanh(+0) = 0.000000
</span></span><span style=display:flex><span>tanh(-0) = -0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.6 The tanh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.6 The tanh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.6 The tanh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.6 The tanh functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.6 The tanh functions （第 242 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.6 The tanh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.6 The tanh functions （第 222-223 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.6 The tanh functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.3.3 The tanh function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sinh>sinh<br>sinhf (C99)<br>sinhl (C99)<br></a></th><th>计算双曲正弦（sinhxsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cosh>cosh<br>coshf (C99)<br>coshl (C99)<br></a></td><td>计算双曲余弦（coshxcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atanh>atanh (C99)<br>atanhf (C99)<br>atanhl (C99)<br></a></td><td>计算反双曲正切（artanhxartanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ctanh>ctanh (C99)<br>ctanhf (C99)<br>ctanhl (C99)<br></a></td><td>计算复数双曲正切 (函数)</td></tr><tr><td><strong>tanh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/tanh>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=tanhl>tanhl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/tanh>https://zh.cppreference.com/w/c/numeric/math/tanh</a></p><p>作用：计算双曲正切（{\small\tanh{x} }{\small\tanh{x} }tanh(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>tanhf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>tanhl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define tanh( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的双曲正切。</p><p>4） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 <code>tanhl</code>。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 <code>tanh</code>。否则调用 <code>tanhf</code> 若实参为复数，则宏调用对应的复数函数（<code>[ctanhf](http://zh.cppreference.com/w/c/numeric/complex/ctanh)</code>、<code>[ctanh](http://zh.cppreference.com/w/c/numeric/complex/ctanh)</code>、<code>[ctanhl](http://zh.cppreference.com/w/c/numeric/complex/ctanh)</code>）。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>表示双曲角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>若不出现错误，则返回 <code>arg</code> 的双曲正切（<em>tanh(arg)</em> 或</p><table><thead><tr><th>earg -e-arg</th></tr></thead><tbody><tr><td>earg +e-arg</td></tr></tbody></table><p>）。</p><p>​ 若发生下溢所致的错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 ±0</li><li>若参数为 ±∞，则返回 ±1</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/tanh.html>POSIX 指定</a>在下溢的情况中，返回不修改的 <code>arg</code>，而且若不支持这么做，则返回不大于 <a href=https://zh.cppreference.com/w/c/types/limits>DBL_MIN</a>、<a href=https://zh.cppreference.com/w/c/types/limits>FLT_MIN</a> 和 <a href=https://zh.cppreference.com/w/c/types/limits>LDBL_MIN</a> 的实现定义值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tanh(1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>tanh(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tanh(0.1)*sinh(0.2)-cosh(0.2) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.1</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>*</span> <span style=color:#00b1f7>sinh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.2</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>-</span> <span style=color:#00b1f7>cosh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.2</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tanh(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>tanh(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>),</span> <span style=color:#00b1f7>tanh</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>tanh(1) = 0.761594
</span></span><span style=display:flex><span>tanh(-1) = -0.761594
</span></span><span style=display:flex><span>tanh(0.1)*sinh(0.2)-cosh(0.2) = -1.000000
</span></span><span style=display:flex><span>tanh(+0) = 0.000000
</span></span><span style=display:flex><span>tanh(-0) = -0.000000
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.5.6 The tanh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.6 The tanh functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.5.6 The tanh functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.2.6 The tanh functions （第 TBD 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.5.6 The tanh functions （第 242 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.2.6 The tanh functions （第 520 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.5.6 The tanh functions （第 222-223 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.2.6 The tanh functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.3.3 The tanh function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sinh>sinh<br>sinhf (C99)<br>sinhl (C99)<br></a></th><th>计算双曲正弦（sinhxsinh⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cosh>cosh<br>coshf (C99)<br>coshl (C99)<br></a></td><td>计算双曲余弦（coshxcosh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atanh>atanh (C99)<br>atanhf (C99)<br>atanhl (C99)<br></a></td><td>计算反双曲正切（artanhxartanh⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ctanh>ctanh (C99)<br>ctanhf (C99)<br>ctanhl (C99)<br></a></td><td>计算复数双曲正切 (函数)</td></tr><tr><td><strong>tanh</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/tanh>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=tanl>tanl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/tan>https://zh.cppreference.com/w/c/numeric/math/tan</a></p><p>作用：计算正切（{\small\tan{x} }{\small\tan{x} }tan(x)） (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>tanf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>tanl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal32</span>  <span style=color:#00b1f7>tand32</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal32</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (4)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal64</span>  <span style=color:#00b1f7>tand64</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal64</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (5)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_Decimal128</span> <span style=color:#00b1f7>tand128</span><span style=color:#abb2bf>(</span> <span style=color:#aa89ea>_Decimal128</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (6)(C23 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define tan( arg )</span><span style=color:#8a93a5;font-style:italic>// (7)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-6) 计算 <code>arg</code>（以弧度度量）的正切。</p><p>7） 泛型宏：若实参拥有 <code>long double</code> 类型，则调用 (3)（<code>tanl</code>）。否则，若实参拥有整数类型或 <code>double</code> 类型，则调用 (2)（<code>tan</code>）。否则调用 (1)（<code>tanf</code>）。若实参为复数，则宏调用对应的复数函数（<a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctanf</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctan</a>、<a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctanl</a>）。</p><p>​ 仅当实现预定义了 <code>__STDC_IEC_60559_DFP__</code>（即实现支持十进制浮点数）时，声明函数 (4-6)。 (C23 起)</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>以弧度表示角的浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的正切（<em>tan(arg)</em>）。</p><p>​ 若 <code>arg</code> 的绝对值很大，则结果可能有较少或无有效数字。 (C99 前)</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台为 NaN）。</p><p>​ 若发生下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算数（IEC 60559），则</p><ul><li>若实参为 ±0，则返回不修改的参数</li><li>若实参为 ±∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若实参为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 实参为无限大的情况，在 C 中未被指定为定义域错误，但它被定义为 <a href=http://pubs.opengroup.org/onlinepubs/9699919799/functions/tan.html>POSIX 中的定义域错误</a>。</p><p>​ 函数在 <em>π(1/2 + n)</em> 有数学上的极点；然而无常用浮点数表示能准确表示 <code>π/2</code>，故而没有值使得极点错误出现。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#ifndef __GNUC__
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#endif
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>const</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>=</span> <span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 典型用法
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*1/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>1</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>//   45°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*3/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>//  135°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*5/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>5</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>// -135°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(pi*7/4) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>pi</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>7</span> <span style=color:#54b1c7>/</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>));</span> <span style=color:#8a93a5;font-style:italic>//  -45°
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(+0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(-0) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tan(INFINITY) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tan</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>tan  (pi/4) = +1.000000
</span></span><span style=display:flex><span>tan(3*pi/4) = -1.000000
</span></span><span style=display:flex><span>tan(5*pi/4) = +1.000000
</span></span><span style=display:flex><span>tan(7*pi/4) = -1.000000
</span></span><span style=display:flex><span>tan(+0) = 0.000000
</span></span><span style=display:flex><span>tan(-0) = -0.000000
</span></span><span style=display:flex><span>tan(INFINITY) = -nan
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.4.7 The tan functions （第 TBD 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 TBD 页）</p></li><li><p>F.10.1.7 The tan functions （第 TBD 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.4.7 The tan functions （第 175 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 272-273 页）</p></li><li><p>F.10.1.7 The tan functions （第 378 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.4.7 The tan functions （第 240 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.1.7 The tan functions （第 519 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.4.7 The tan functions （第 220 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.1.7 The tan functions （第 457 页）</p></li></ul></li><li><p>C89/C90 标准（ISO/IEC 9899:1990）：</p><ul><li>4.5.2.7 The tan function</li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/sin>sin<br>sinf (C99)<br>sinl (C99)<br></a></th><th>计算正弦（sinxsin⁡x） (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/cos>cos<br>cosf (C99)<br>cosl (C99)<br></a></td><td>计算余弦（cosxcos⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/atan>atan<br>atanf (C99)<br>atanl (C99)<br></a></td><td>计算反正切（arctanxarctan⁡x） (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/complex/ctan>ctan (C99)<br>ctanf (C99)<br>ctanl (C99)<br></a></td><td>计算复数正切 (函数)</td></tr><tr><td><strong>tan</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/tan>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=tgamma>tgamma</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/tgamma>https://zh.cppreference.com/w/c/numeric/math/tgamma</a></p><p>作用：计算伽马函数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>tgammaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>tgammal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define tgamma( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Gamma_function>伽马函数</a>。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>tgammal</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>tgamma</code>。否则调用 <code>tgammaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的 Γ 函数值，即 Γ(arg)=∫∞0targ−1e−tdtΓ(arg)=∫0∞targ−1e−tdt。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <code>[HUGE_VAL](http://zh.cppreference.com/w/c/numeric/math/HUGE_VAL)</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若 <code>arg</code> 为零或为小于零的整数，则可能出现极点或定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 ±∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li>若参数为负整数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数为 -∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 为自然数，则 <code>tgamma(arg)</code> 为 <code>arg-1</code> 的阶乘。许多实现若参数是足够小的整数，则计算准确的整数域阶乘。</p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <code>0 &lt; x &lt; 1/DBL_MAX</code> 或 <code>x > 171.7</code> 则发生上溢。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/tgamma.html>POSIX 要求</a>若实参为零则出现极点错误，但在实参为负整数时出现定义域错误。它亦指定在将来，对于负整数，定义域错误可能被替换成浮点数错误（这些情况下返回值将从 NaN 更改为 ±∞）。</p><p>​ 多数实现中有名为 <code>gamma</code> 的非标准函数，但其定义不一致。例如，<code>gamma</code> 的 glibc 和 4.2BSD 版本执行 <code>lgamma</code>，但 <code>gamma</code> 的 4.4BSD 版本执行 <code>tgamma</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(10) = %f, 9!=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>4</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>5</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>6</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>7</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>8</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>9.0</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(0.5) = %f, sqrt(pi) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)),</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>else</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>   <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>else</span> <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>tgamma(10) = 362880.000000, 9!=362880.000000
</span></span><span style=display:flex><span>tgamma(0.5) = 1.772454, sqrt(pi) = 1.772454
</span></span><span style=display:flex><span>tgamma(+Inf) = inf
</span></span><span style=display:flex><span>tgamma(-1) = nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.4 The tgamma functions （第 525 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.4 The tgamma functions （第 525 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.4 The tgamma functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 231 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.4 The tgamma functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/lgamma>lgamma (C99)<br>lgammaf (C99)<br>lgammal (C99)<br></a></th><th>计算伽马函数的自然对数（底为 <em>e</em>） (函数)</th></tr></thead><tbody><tr><td><strong>tgamma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/tgamma>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p>​ <a href=https://mathworld.wolfram.com/GammaFunction.html>Weisstein, Eric W. “伽马函数”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=tgammaf>tgammaf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/tgamma>https://zh.cppreference.com/w/c/numeric/math/tgamma</a></p><p>作用：计算伽马函数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>tgammaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>tgammal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define tgamma( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Gamma_function>伽马函数</a>。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>tgammal</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>tgamma</code>。否则调用 <code>tgammaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的 Γ 函数值，即 Γ(arg)=∫∞0targ−1e−tdtΓ(arg)=∫0∞targ−1e−tdt。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <code>[HUGE_VAL](http://zh.cppreference.com/w/c/numeric/math/HUGE_VAL)</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若 <code>arg</code> 为零或为小于零的整数，则可能出现极点或定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 ±∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li>若参数为负整数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数为 -∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 为自然数，则 <code>tgamma(arg)</code> 为 <code>arg-1</code> 的阶乘。许多实现若参数是足够小的整数，则计算准确的整数域阶乘。</p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <code>0 &lt; x &lt; 1/DBL_MAX</code> 或 <code>x > 171.7</code> 则发生上溢。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/tgamma.html>POSIX 要求</a>若实参为零则出现极点错误，但在实参为负整数时出现定义域错误。它亦指定在将来，对于负整数，定义域错误可能被替换成浮点数错误（这些情况下返回值将从 NaN 更改为 ±∞）。</p><p>​ 多数实现中有名为 <code>gamma</code> 的非标准函数，但其定义不一致。例如，<code>gamma</code> 的 glibc 和 4.2BSD 版本执行 <code>lgamma</code>，但 <code>gamma</code> 的 4.4BSD 版本执行 <code>tgamma</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(10) = %f, 9!=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>4</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>5</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>6</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>7</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>8</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>9.0</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(0.5) = %f, sqrt(pi) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)),</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>else</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>   <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>else</span> <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>tgamma(10) = 362880.000000, 9!=362880.000000
</span></span><span style=display:flex><span>tgamma(0.5) = 1.772454, sqrt(pi) = 1.772454
</span></span><span style=display:flex><span>tgamma(+Inf) = inf
</span></span><span style=display:flex><span>tgamma(-1) = nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.4 The tgamma functions （第 525 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.4 The tgamma functions （第 525 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.4 The tgamma functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 231 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.4 The tgamma functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/lgamma>lgamma (C99)<br>lgammaf (C99)<br>lgammal (C99)<br></a></th><th>计算伽马函数的自然对数（底为 <em>e</em>） (函数)</th></tr></thead><tbody><tr><td><strong>tgamma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/tgamma>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p>​ <a href=https://mathworld.wolfram.com/GammaFunction.html>Weisstein, Eric W. “伽马函数”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=tgammal>tgammal</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/tgamma>https://zh.cppreference.com/w/c/numeric/math/tgamma</a></p><p>作用：计算伽马函数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>tgammaf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>tgammal</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define tgamma( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算 <code>arg</code> 的<a href=https://en.wikipedia.org/wiki/Gamma_function>伽马函数</a>。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>tgammal</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>tgamma</code>。否则调用 <code>tgammaf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不出现错误，则返回 <code>arg</code> 的 Γ 函数值，即 Γ(arg)=∫∞0targ−1e−tdtΓ(arg)=∫0∞targ−1e−tdt。</p><p>​ 若出现定义域错误，则返回实现定义值（受支持平台上为 NaN）。</p><p>​ 若出现极点错误，则返回 <code>[HUGE_VAL](http://zh.cppreference.com/w/c/numeric/math/HUGE_VAL)</code>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现上溢所致的值域错误，则返回 <a href=https://zh.cppreference.com/w/c/numeric/math/HUGE_VAL>±HUGE_VAL</a>、<code>±HUGE_VALF</code> 或 <code>±HUGE_VALL</code>。</p><p>​ 若出现下溢所致的值域错误，则返回（舍入后的）正确结果。</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling><code>math_errhandling</code></a> 中指定的错误</p><p>​ 若 <code>arg</code> 为零或为小于零的整数，则可能出现极点或定义域错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>若参数为 ±0，则返回 ±∞ 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_DIVBYZERO</a></li><li>若参数为负整数，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数为 -∞，则返回 NaN 并引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INVALID</a></li><li>若参数为 +∞，则返回 +∞</li><li>若参数为 NaN，则返回 NaN</li></ul><p><strong>注解</strong></p><p>​ 若 <code>arg</code> 为自然数，则 <code>tgamma(arg)</code> 为 <code>arg-1</code> 的阶乘。许多实现若参数是足够小的整数，则计算准确的整数域阶乘。</p><p>​ 对于 IEEE 兼容的 <code>double</code> 类型，若 <code>0 &lt; x &lt; 1/DBL_MAX</code> 或 <code>x > 171.7</code> 则发生上溢。</p><p>​ <a href=https://pubs.opengroup.org/onlinepubs/9699919799/functions/tgamma.html>POSIX 要求</a>若实参为零则出现极点错误，但在实参为负整数时出现定义域错误。它亦指定在将来，对于负整数，定义域错误可能被替换成浮点数错误（这些情况下返回值将从 NaN 更改为 ±∞）。</p><p>​ 多数实现中有名为 <code>gamma</code> 的非标准函数，但其定义不一致。例如，<code>gamma</code> 的 glibc 和 4.2BSD 版本执行 <code>lgamma</code>，但 <code>gamma</code> 的 4.4BSD 版本执行 <code>tgamma</code>。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;errno.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;fenv.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;float.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>// #pragma STDC FENV_ACCESS ON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span> 
</span></span><span style=display:flex><span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(10) = %f, 9!=%f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>),</span> <span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>3</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>4</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>5</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>6</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>7</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>8</span> <span style=color:#54b1c7>*</span> <span style=color:#d19a66>9.0</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(0.5) = %f, sqrt(pi) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>sqrt</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>acos</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)),</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0.5</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 特殊值
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(+Inf) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// 错误处理
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#00b1f7>feclearexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_ALL_EXCEPT</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;tgamma(-1) = %f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>tgamma</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>ERANGE</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == ERANGE&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>else</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>errno</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>EDOM</span><span style=color:#abb2bf>)</span>   <span style=color:#00b1f7>perror</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    errno == EDOM&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_DIVBYZERO</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_DIVBYZERO raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>else</span> <span style=color:#76a9f9>if</span> <span style=color:#abb2bf>(</span><span style=color:#00b1f7>fetestexcept</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>FE_INVALID</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>puts</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;    FE_INVALID raised&#34;</span><span style=color:#abb2bf>);</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>tgamma(10) = 362880.000000, 9!=362880.000000
</span></span><span style=display:flex><span>tgamma(0.5) = 1.772454, sqrt(pi) = 1.772454
</span></span><span style=display:flex><span>tgamma(+Inf) = inf
</span></span><span style=display:flex><span>tgamma(-1) = nan
</span></span><span style=display:flex><span>    errno == EDOM: Numerical argument out of domain
</span></span><span style=display:flex><span>    FE_INVALID raised
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C23 标准（ISO/IEC 9899:2024）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.4 The tgamma functions （第 525 页）</p></li></ul></li><li><p>C17 标准（ISO/IEC 9899:2018）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.4 The tgamma functions （第 525 页）</p></li></ul></li><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 250 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.5.4 The tgamma functions （第 525 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.8.4 The tgamma functions （第 231 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.5.4 The tgamma functions （第 462 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/lgamma>lgamma (C99)<br>lgammaf (C99)<br>lgammal (C99)<br></a></th><th>计算伽马函数的自然对数（底为 <em>e</em>） (函数)</th></tr></thead><tbody><tr><td><strong>tgamma</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/tgamma>C++ 文档</a></strong></td><td></td></tr></tbody></table><p><strong>外部链接</strong></p><p>​ <a href=https://mathworld.wolfram.com/GammaFunction.html>Weisstein, Eric W. “伽马函数”</a>来自 MathWorld&ndash;A Wolfram Web Resource。</p><h3 id=trunc>trunc</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/trunc>https://zh.cppreference.com/w/c/numeric/math/trunc</a></p><p>作用：取整到绝对值不大于给定值的最接近整数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>truncf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>truncl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define trunc( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算绝对值不大于 <code>arg</code> 的最接近整数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>truncl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>trunc</code>。否则，调用 <code>truncf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不发生错误，则返回绝对值不大于 <code>arg</code> 的最接近整数（换言之，将 <code>arg</code> 向零舍入）。</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/70/math-trunc.svg alt=math-trunc.svg></p><p>参数</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的实参。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的实参。</li><li>若 arg 为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 截断非整数有限值时可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故此函数自身决不上溢；然而存储结果于整数对象时，结果可以溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 从浮点数到整数类型的隐式转换始终向零舍入，但它被限制于能表示成目标类型的值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>trunc(+2.7) = +2.0
</span></span><span style=display:flex><span>trunc(-2.7) = -2.0
</span></span><span style=display:flex><span>trunc(-0.0) = -0.0
</span></span><span style=display:flex><span>trunc(-Inf) = -inf
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.8 The trunc functions （第 253-254 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.8 The trunc functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.8 The trunc functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.8 The trunc functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/round>round (C99)<br>roundf (C99)<br>roundl (C99)<br>lround (C99)<br>lroundf (C99)<br>lroundl (C99)<br>llround (C99)<br>llroundf (C99)<br>llroundl (C99)<br></a></td><td>取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</td></tr><tr><td><strong>trunc</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/trunc>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=truncf>truncf</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/trunc>https://zh.cppreference.com/w/c/numeric/math/trunc</a></p><p>作用：取整到绝对值不大于给定值的最接近整数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>truncf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>truncl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define trunc( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算绝对值不大于 <code>arg</code> 的最接近整数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>truncl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>trunc</code>。否则，调用 <code>truncf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不发生错误，则返回绝对值不大于 <code>arg</code> 的最接近整数（换言之，将 <code>arg</code> 向零舍入）。</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/70/math-trunc.svg alt=math-trunc.svg></p><p>参数</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的实参。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的实参。</li><li>若 arg 为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 截断非整数有限值时可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故此函数自身决不上溢；然而存储结果于整数对象时，结果可以溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 从浮点数到整数类型的隐式转换始终向零舍入，但它被限制于能表示成目标类型的值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>trunc(+2.7) = +2.0
</span></span><span style=display:flex><span>trunc(-2.7) = -2.0
</span></span><span style=display:flex><span>trunc(-0.0) = -0.0
</span></span><span style=display:flex><span>trunc(-Inf) = -inf
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.8 The trunc functions （第 253-254 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.8 The trunc functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.8 The trunc functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.8 The trunc functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/round>round (C99)<br>roundf (C99)<br>roundl (C99)<br>lround (C99)<br>lroundf (C99)<br>lroundl (C99)<br>llround (C99)<br>llroundf (C99)<br>llroundl (C99)<br></a></td><td>取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</td></tr><tr><td><strong>trunc</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/trunc>C++ 文档</a></strong></td><td></td></tr></tbody></table><h3 id=truncl>truncl</h3><p>原址：<a href=https://zh.cppreference.com/w/c/numeric/math/trunc>https://zh.cppreference.com/w/c/numeric/math/trunc</a></p><p>作用：取整到绝对值不大于给定值的最接近整数 (函数)</p><p>备注：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;math.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>float</span>       <span style=color:#00b1f7>truncf</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>float</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (1)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>double</span>      <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (2)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#00b1f7>truncl</span><span style=color:#abb2bf>(</span> <span style=color:#e5c07b>long</span> <span style=color:#e5c07b>double</span> <span style=color:#aa89ea>arg</span> <span style=color:#abb2bf>);</span><span style=color:#8a93a5;font-style:italic>// (3)(C99 起)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在标头 &lt;tgmath.h&gt; 定义
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#8a93a5;font-style:italic>#define trunc( arg )</span><span style=color:#8a93a5;font-style:italic>// (4)(C99 起)
</span></span></span></code></pre></td></tr></table></div></div><p>1-3) 计算绝对值不大于 <code>arg</code> 的最接近整数。</p><p>4） 泛型宏：若 <code>arg</code> 拥有 <code>long double</code> 类型，则调用 <code>truncl</code>。否则，若 <code>arg</code> 拥有整数类型或 <code>double</code> 类型，则调用 <code>trunc</code>。否则，调用 <code>truncf</code>。</p><p><strong>参数</strong></p><table><thead><tr><th>arg</th><th>-</th><th>浮点数</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p><strong>返回值</strong></p><p>​ 若不发生错误，则返回绝对值不大于 <code>arg</code> 的最接近整数（换言之，将 <code>arg</code> 向零舍入）。</p><p>返回值</p><p><img src=https://upload.cppreference.com/mwiki/images/7/70/math-trunc.svg alt=math-trunc.svg></p><p>参数</p><p><strong>错误处理</strong></p><p>​ 报告 <a href=https://zh.cppreference.com/w/c/numeric/math/math_errhandling>math_errhandling</a> 中指定的错误。</p><p>​ 若实现支持 IEEE 浮点数算术（IEC 60559），则</p><ul><li>当前<a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_round>舍入模式</a>无效。</li><li>若 <code>arg</code> 为 ±∞，则返回未修改的实参。</li><li>若 <code>arg</code> 为 ±0，则返回未修改的实参。</li><li>若 arg 为 NaN，则返回 NaN</li></ul><p><strong>注意</strong></p><p>​ 截断非整数有限值时可以（但不要求）引发 <a href=https://zh.cppreference.com/w/c/numeric/fenv/FE_exceptions>FE_INEXACT</a>。</p><p>​ 所有标准浮点数格式中，最大可表示浮点数均为准确的整数，故此函数自身决不上溢；然而存储结果于整数对象时，结果可以溢出任何整数类型（包含 <a href=https://zh.cppreference.com/w/c/types/integer>intmax_t</a>）。</p><p>​ 从浮点数到整数类型的隐式转换始终向零舍入，但它被限制于能表示成目标类型的值。</p><p><strong>示例</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;math.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#e5c07b>int</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>void</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(+2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(-2.7) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>2.7</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(-0.0) = %+.1f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>0.0</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span>    <span style=color:#00b1f7>printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;trunc(-Inf) = %+f</span><span style=color:#d26464;font-weight:700>\n</span><span style=color:#98c379>&#34;</span><span style=color:#abb2bf>,</span>   <span style=color:#00b1f7>trunc</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>INFINITY</span><span style=color:#abb2bf>));</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可能的输出：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>trunc(+2.7) = +2.0
</span></span><span style=display:flex><span>trunc(-2.7) = -2.0
</span></span><span style=display:flex><span>trunc(-0.0) = -0.0
</span></span><span style=display:flex><span>trunc(-Inf) = -inf
</span></span></code></pre></td></tr></table></div></div><p><strong>引用</strong></p><ul><li><p>C11 标准（ISO/IEC 9899:2011）：</p><ul><li><p>7.12.9.8 The trunc functions （第 253-254 页）</p></li><li><p>7.25 Type-generic math &lt;tgmath.h> （第 373-375 页）</p></li><li><p>F.10.6.8 The trunc functions （第 528 页）</p></li></ul></li><li><p>C99 标准（ISO/IEC 9899:1999）：</p><ul><li><p>7.12.9.8 The trunc functions （第 234 页）</p></li><li><p>7.22 Type-generic math &lt;tgmath.h> （第 335-337 页）</p></li><li><p>F.9.6.8 The trunc functions （第 464 页）</p></li></ul></li></ul><p><strong>参阅</strong></p><table><thead><tr><th><a href=https://zh.cppreference.com/w/c/numeric/math/floor>floor<br>floorf (C99)<br>floorl (C99)<br></a></th><th>计算不大于给定值的最大整数 (函数)</th></tr></thead><tbody><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/ceil>ceil<br>ceilf (C99)<br>ceill (C99)<br></a></td><td>计算不小于给定值的最小整数 (函数)</td></tr><tr><td><a href=https://zh.cppreference.com/w/c/numeric/math/round>round (C99)<br>roundf (C99)<br>roundl (C99)<br>lround (C99)<br>lroundf (C99)<br>lroundl (C99)<br>llround (C99)<br>llroundf (C99)<br>llroundl (C99)<br></a></td><td>取整到最接近的整数，在相邻整数正中间时取远离零的数 (函数)</td></tr><tr><td><strong>trunc</strong> 的 <strong><a href=https://zh.cppreference.com/w/cpp/numeric/math/trunc>C++ 文档</a></strong></td><td></td></tr></tbody></table><div class=td-page-meta__lastmod>最后修改 April 24, 2025: <a href=https://github.com/before80/lang/commit/a2df751a4dc0ba34a3be5f41c5d4dc750a4d6b46>更新 (a2df751)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://example.org/twitter aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://example.org/stack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/before80/lang aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025
<span class=td-footer__authors>作者zlongx</span></span><span class=td-footer__all_rights_reserved>保留所有权利</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>隐私政策</a></span></div></div></div></footer></div><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0,onReady(){const{autoLoader:e,builtInPlugins:t}=window.markmap;e.transformPlugins=t.filter(e=>e.name!=="prism")}}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script>
<script src=/lang/js/main.min.4b50eedfe5f4c0229456fc7754e0ccdcfe78d6d59f5d56e7e49860e9be02d853.js integrity="sha256-S1Du3+X0wCKUVvx3VODM3P541tWfXVbn5Jhg6b4C2FM=" crossorigin=anonymous></script>
<script defer src=/lang/js/click-to-copy.min.14c7dd84004258325d147b971421f1d4dfd3f28500954f32ef71d1cfd0938f51.js integrity="sha256-FMfdhABCWDJdFHuXFCHx1N/T8oUAlU8y73HRz9CTj1E=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3.6.0 integrity="sha512-FtDaTWf3IS29TLuYzTPlytjGqcXkwrzG9ivq7xXElnOZeiYTbcIy/hwXAgrrRNnI0+PfN+WFz4/+4phhJmuS8Q==" crossorigin=anonymous></script>
<script type=text/javascript>const containers=["#docsearch-0","#docsearch-1"];for(let e of containers)docsearch({container:e,appId:"R2IYF7ETH7",apiKey:"599cec31baffa4868cae4e79f180729b",indexName:"lang-"})</script><script src=/lang/js/tabpane-persist.js></script>
<script src=/lang/js/tocbot.min.js></script>
<script src=/lang/js/markmap-autoloader.js></script>
<script type=text/javascript>window.addEventListener("load",function(){tocbot.init({tocSelector:".td-toc",contentSelector:".td-content",headingSelector:"h2, h3, h4, h5, h6",ignoreHiddenElements:!0,collapseDepth:6});let t=0,e=0,n=document.getElementById("show-timer"),s=document.getElementById("advice-reading-time"),o=s.textContent.trim();function i(){e++,e>=60&&(e=0,t++);let i=e<10?"0"+e:e;s!==null?n.textContent=t+":"+i+" <- "+o:n.textContent=t+":"+i}setInterval(i,1e3)})</script><script src=/lang/js/jquery-3.6.3.min.js></script>
<script src=/lang/js/deal-zero-width-space.js></script>
<script src=/lang/js/tabpane-persist.js></script></body></html>